/**
 * Cooked with Flambe
 * https://github.com/aduros/flambe
 */
'use strict';(function(){var M,d,$,k,j,g,G,t,p,f,aa,n,R,A,T,P,S,U,da,X,J,B,ga,D,O,m,e,I,o,K,x,w,H,h,Y,y,E,ba;function v(a,b){function c(){}c.prototype=a;var i=new c,d;for(d in b)i[d]=b[d];return i}function fa(a){return a instanceof Array?function(){return z.iter(a)}:"function"==typeof a.iterator?r(a,a.iterator):a.iterator}function r(a,b){var c=function(){return c.method.apply(c.scope,arguments)};c.scope=a;c.method=b;return c}var l={},q=function(){return J.__string_rec(this,"")},W=function(a,b){b=
b.split("u").join("");this.r=RegExp(a,b)};l.EReg=W;W.__name__=["EReg"];W.prototype={matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:W};var F=function(){this.h={}};l.Hash=F;F.__name__=["Hash"];F.prototype=
{iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return z.iter(a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:F};var z=
function(){};l.HxOverrides=z;z.__name__=["HxOverrides"];z.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),i=a.getHours(),d=a.getMinutes(),e=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>i?"0"+i:""+i)+":"+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)};z.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],
a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};z.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};z.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};z.remove=function(a,b){for(var c=0,i=a.length;c<i;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};z.iter=
function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var V=function(){this.h={}};l.IntHash=V;V.__name__=["IntHash"];V.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return z.iter(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=
b},__class__:V};var ca=function(){};l.Lambda=ca;ca.__name__=["Lambda"];ca.array=function(a){for(var b=[],a=fa(a)();a.hasNext();){var c=a.next();b.push(c)}return b};ca.has=function(a,b,c){if(null==c)for(c=fa(a)();c.hasNext();){if(a=c.next(),a==b)return!0}else for(var i=fa(a)();i.hasNext();)if(a=i.next(),c(a,b))return!0;return!1};ca.count=function(a,b){var c=0;if(null==b)for(var i=fa(a)();i.hasNext();)i.next(),c++;else for(i=fa(a)();i.hasNext();){var d=i.next();b(d)&&c++}return c};var ea=function(){this.length=
0};l.List=ea;ea.__name__=["List"];ea.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:ea};var L=function(){};l.Reflect=L;L.__name__=["Reflect"];L.field=function(a,b){var c=null;try{c=a[b]}catch(i){}return c};L.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,
i;for(i in a)c.call(a,i)&&b.push(i)}return b};L.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};L.compareMethods=function(a,b){return a==b?!0:!L.isFunction(a)||!L.isFunction(b)?!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};var s=function(){};l.Std=s;s.__name__=["Std"];s.string=function(a){return J.__string_rec(a,"")};s.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==z.cca(a,1)||88==z.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};s.parseFloat=function(a){return parseFloat(a)};
var Z=function(){this.b=""};l.StringBuf=Z;Z.__name__=["StringBuf"];Z.prototype={__class__:Z};var Q=function(){};l.StringTools=Q;Q.__name__=["StringTools"];Q.urlEncode=function(a){return encodeURIComponent(a)};Q.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};Q.startsWith=function(a,b){return a.length>=b.length&&z.substr(a,0,b.length)==b};Q.isSpace=function(a,b){var c=z.cca(a,b);return 9<=c&&13>=c||32==c};Q.ltrim=function(a){for(var b=a.length,c=0;c<b&&Q.isSpace(a,c);)c++;
return 0<c?z.substr(a,c,b-c):a};Q.rtrim=function(a){for(var b=a.length,c=0;c<b&&Q.isSpace(a,b-c-1);)c++;return 0<c?z.substr(a,0,b-c):a};Q.trim=function(a){return Q.ltrim(Q.rtrim(a))};var C=l.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};C.TNull=["TNull",0];C.TNull.toString=q;C.TNull.__enum__=C;C.TInt=["TInt",1];C.TInt.toString=q;C.TInt.__enum__=C;C.TFloat=["TFloat",2];C.TFloat.toString=q;C.TFloat.__enum__=C;C.TBool=
["TBool",3];C.TBool.toString=q;C.TBool.__enum__=C;C.TObject=["TObject",4];C.TObject.toString=q;C.TObject.__enum__=C;C.TFunction=["TFunction",5];C.TFunction.toString=q;C.TFunction.__enum__=C;C.TClass=function(a){a=["TClass",6,a];a.__enum__=C;a.toString=q;return a};C.TEnum=function(a){a=["TEnum",7,a];a.__enum__=C;a.toString=q;return a};C.TUnknown=["TUnknown",8];C.TUnknown.toString=q;C.TUnknown.__enum__=C;var N=function(){};l.Type=N;N.__name__=["Type"];N.getClassName=function(a){return a.__name__.join(".")};
N.getEnumName=function(a){return a.__ename__.join(".")};N.resolveClass=function(a){a=l[a];return null==a||!a.__name__?null:a};N.resolveEnum=function(a){a=l[a];return null==a||!a.__ename__?null:a};N.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};N.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};N.createEnum=function(a,b,c){var i=L.field(a,b);if(null==i)throw"No such constructor "+b;if(L.isFunction(i)){if(null==c)throw"Constructor "+b+" need parameters";return i.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return i};N.getEnumConstructs=function(a){return a.__constructs__.slice()};
N["typeof"]=function(a){switch(typeof a){case "boolean":return C.TBool;case "string":return C.TClass(String);case "number":return Math.ceil(a)==a%2147483648?C.TInt:C.TFloat;case "object":if(null==a)return C.TNull;var b=a.__enum__;if(null!=b)return C.TEnum(b);a=a.__class__;return null!=a?C.TClass(a):C.TObject;case "function":return a.__name__||a.__ename__?C.TObject:C.TFunction;case "undefined":return C.TNull;default:return C.TUnknown}};var u=function(){};l.Xml=u;u.__name__=["Xml"];u.parse=function(a){return A.Parser.parse(a)};
u.createElement=function(a){var b=new u;b.nodeType=u.Element;b._children=[];b._attributes=new F;b.setNodeName(a);return b};u.createPCData=function(a){var b=new u;b.nodeType=u.PCData;b.setNodeValue(a);return b};u.createCData=function(a){var b=new u;b.nodeType=u.CData;b.setNodeValue(a);return b};u.createComment=function(a){var b=new u;b.nodeType=u.Comment;b.setNodeValue(a);return b};u.createDocType=function(a){var b=new u;b.nodeType=u.DocType;b.setNodeValue(a);return b};u.createProlog=function(a){var b=
new u;b.nodeType=u.Prolog;b.setNodeValue(a);return b};u.createDocument=function(){var a=new u;a.nodeType=u.Document;a._children=[];return a};u.prototype={toString:function(){if(this.nodeType==u.PCData)return this._nodeValue;if(this.nodeType==u.CData)return"<![CDATA["+this._nodeValue+"]]\>";if(this.nodeType==u.Comment)return"<\!--"+this._nodeValue+"--\>";if(this.nodeType==u.DocType)return"<!DOCTYPE "+this._nodeValue+">";if(this.nodeType==u.Prolog)return"<?"+this._nodeValue+"?>";var a=new Z;if(this.nodeType==
u.Element){a.b+=s.string("<");a.b+=s.string(this._nodeName);for(var b=this._attributes.keys();b.hasNext();){var c=b.next();a.b+=s.string(" ");a.b+=s.string(c);a.b+=s.string('="');a.b+=s.string(this._attributes.get(c));a.b+=s.string('"')}if(0==this._children.length)return a.b+=s.string("/>"),a.b;a.b+=s.string(">")}for(b=this.iterator();b.hasNext();)c=b.next(),a.b+=s.string(c.toString());this.nodeType==u.Element&&(a.b+=s.string("</"),a.b+=s.string(this._nodeName),a.b+=s.string(">"));return a.b},addChild:function(a){if(null==
this._children)throw"bad nodetype";null!=a._parent&&z.remove(a._parent._children,a);a._parent=this;this._children.push(a)},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==u.Element)return c;a++}return null},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,c=this.x.length;b<c;){var i=this.x[b];if(i.nodeType==u.Element&&
i._nodeName==a)break;b++}this.cur=b;return b<c},next:function(){for(var b=this.cur,c=this.x.length;b<c;){var i=this.x[b];b++;if(i.nodeType==u.Element&&i._nodeName==a)return this.cur=b,i}return null}}},elements:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var a=this.cur,b=this.x.length;a<b&&!(this.x[a].nodeType==u.Element);)a+=1;this.cur=a;return a<b},next:function(){for(var a=this.cur,b=this.x.length;a<b;){var c=this.x[a],a=a+1;if(c.nodeType==
u.Element)return this.cur=a,c}return null}}},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},exists:function(a){if(this.nodeType!=u.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=u.Element)throw"bad nodeType";this._attributes.set(a,b)},get:function(a){if(this.nodeType!=u.Element)throw"bad nodeType";return this._attributes.get(a)},
getParent:function(){return this._parent},setNodeValue:function(a){if(this.nodeType==u.Element||this.nodeType==u.Document)throw"bad nodeType";return this._nodeValue=a},getNodeValue:function(){if(this.nodeType==u.Element||this.nodeType==u.Document)throw"bad nodeType";return this._nodeValue},setNodeName:function(a){if(this.nodeType!=u.Element)throw"bad nodeType";return this._nodeName=a},getNodeName:function(){if(this.nodeType!=u.Element)throw"bad nodeType";return this._nodeName},__class__:u};M=function(){};
d=void 0;$=void 0;k=void 0;j=void 0;l["com.nick.nicktoons.april_fools_2013.DocumentApp"]=M;M.__name__=["com","nick","nicktoons","april_fools_2013","DocumentApp"];M.main=function(){D.init();M._fillEntity=new O;M._fillSprite=new m.FillSprite(0,960,560);M._fillEntity.add(M._fillSprite);D.root.addChild(M._fillEntity);g.WorkinCloud.instance.getAssets()._setBaseUrl(M.trimUrl(g.JSEmbedProxy.getBase()));g.WorkinCloud.instance.getDispatcher().addEventListener(G.ConstantsCloud.EVENT_FILES_LOADED,M._onBootstrapLoad);
g.WorkinCloud.instance.getAssets().addPackDef("bootstrap");g.WorkinCloud.instance.getAssets().loadPack("bootstrap")};M._onBootstrapLoad=function(){g.WorkinCloud.instance.getDispatcher().removeEventListener(G.ConstantsCloud.EVENT_FILES_LOADED,M._onBootstrapLoad);if(d.ConstantsApp.LOAD_FONT_EARLY){g.WorkinCloud.instance.getDispatcher().addEventListener(G.ConstantsCloud.EVENT_FILES_LOADED,M._onFontLoad);var a=g.WorkinCloud.instance.getAssets().getXML(d.ConstantsApp.CONFIG_XML_PATH);g.WorkinCloud.instance.setString(G.ConstantsCloud.STRING_REGION_ID,
s.string(a.node.resolve("localization").node.resolve("region").getInnerData()));g.WorkinCloud.instance.getAssets().addPackDef("fonts_"+g.WorkinCloud.instance.getString(G.ConstantsCloud.STRING_REGION_ID));g.WorkinCloud.instance.getAssets().loadPack("fonts_"+g.WorkinCloud.instance.getString(G.ConstantsCloud.STRING_REGION_ID))}else M._initServices(),M._main=new $};M._onFontLoad=function(){g.WorkinCloud.instance.getDispatcher().removeEventListener(G.ConstantsCloud.EVENT_FILES_LOADED,M._onFontLoad);M._initServices();
M._main=new $};M._initServices=function(){for(var a=g.WorkinCloud.instance.getAssets().getXML(d.ConstantsApp.CONFIG_XML_PATH).node.resolve("services").nodes.resolve("service").iterator();a.hasNext();){var b=a.next();switch(b.att.resolve("type").toString()){case "analytics":"true"==b.att.resolve("enabled").toString()&&(g.WorkinCloud.instance.log("[DocumentApp](_initServices) initAnalytics"),t.ServiceAnalytics.init(b.att.resolve("id").toString()))}}};M.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==
a.charAt(0)&&(a=z.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=z.substr(a,b,a.length-b);0>a.indexOf("assets")&&(a+="assets/");return a};$=function(){this._RATE_REFRESH_SCALE=0.4;this._flagGameplayPaused=this._flagInitialLoadComplete=this._flagJSEmbedPauseState=this._flagJSEmbedExists=!1;this._timerRefreshScale=0.001;g.WorkinCloud.instance.log("[Main] Constructed");this._timeline=D.root;D.uncaughtError.connect(r(this,this.errorHandler));
g.WorkinCloud.instance.getInput().prime();this._scaleSprite=new m.Sprite;this._timeline.add(this._scaleSprite);this._layerWorld=new O;this._layerUI=new O;this._timeline.addChild(this._layerWorld);this._timeline.addChild(this._layerUI);this._dt=0;this._isUIActive=this._isWorldActive=!1;this._flagFirstPlay=!0;this._flagWebAudioUnlocked=!1;this._flagJSEmbedExists=g.JSEmbedProxy.getExists();this._document={canvasScale:1};this._document=eval("document");this._changeActions=[];this._flowstack=[];this._addEventListeners();
this._beginEngine();g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_EASTER_EGG_UNLOCKED,!1)};l["com.nick.nicktoons.april_fools_2013.Main"]=$;$.__name__=["com","nick","nicktoons","april_fools_2013","Main"];$.prototype={_disposeWorld:function(){this._isWorldActive&&(this._isWorldActive=!1,this._world.dispose(),this._world=null)},_onEventInterfaceChange:function(a){this._executeInterfaceChange(a.flowId,a.screenId)},_handleWebAudioUnlock:function(){this._flagWebAudioUnlocked||(this._flagWebAudioUnlocked=
!0,g.WorkinCloud.instance._getSound().playSound("audio/silent"))},_onEventInput:function(a){this._handleWebAudioUnlock();g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_ORIENTATION_ALERT)||this._ui.handleInput(a)&&this._isWorldActive&&this._world.handleInput(a)},_onFlowEvent:function(a){this._addFlowEvent(a.flowId)},_onMuteToggle:function(){g.WorkinCloud.instance.setValue(d.ConstantsApp.BOOL_MUTED,!g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_MUTED));g.WorkinCloud.instance._getSound().setMute(g.WorkinCloud.instance.getValue(d.ConstantsApp.BOOL_MUTED))},
_enableInput:function(){g.WorkinCloud.instance.getDispatcher().addEventListener(p.WMEventInput.EVENT_INPUT,r(this,this._onEventInput))},_addEventListeners:function(){g.WorkinCloud.instance.getDispatcher().addEventListener(p.WMEventUpdate.EVENT_UPDATE,r(this,this._onEventUpdate));g.WorkinCloud.instance.getDispatcher().addEventListener(d.ConstantsApp.EVENT_MUTE_TOGGLE,r(this,this._onMuteToggle));g.WorkinCloud.instance.getDispatcher().addEventListener(p.WMEventFlow.EVENT_FLOW,r(this,this._onFlowEvent));
g.WorkinCloud.instance.getDispatcher().addEventListener(d.ConstantsApp.EVENT_WORLD_GENERATION_COMPLETE,r(this,this._onWorldGenerationComplete))},_executeInterfaceChange:function(a,b){for(var c=this._changeActions.length;0<c;)c--,this._changeActions[c]._getScreenId()==b&&this._changeActions[c]._getChangeEvent()==a&&(this._changeActions[c]._getAction()(),this._changeActions.splice(c,1))},_hideOrientationAlert:function(){g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_ORIENTATION_ALERT)&&(g.WorkinCloud.instance.log("[Main](_showOrientationAlert) Back to landscape."),
g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_ORIENTATION_ALERT,!1),g.JSEmbedProxy.unpause(),g.JSEmbedProxy.alertOff())},_showOrientationAlert:function(){g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_ORIENTATION_ALERT)||(g.WorkinCloud.instance.log("[Main](_showOrientationAlert) Portrait mode!"),g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_ORIENTATION_ALERT,!0),g.JSEmbedProxy.pause(),g.JSEmbedProxy.alertOn(g.WorkinCloud.instance._getLocalize().getData("orientation_landscape")._getString()))},
_unpauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!1);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(d.ConstantsApp.EVENT_UNPAUSE))},_pauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!0);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(d.ConstantsApp.EVENT_PAUSE))},_setResults:function(){var a=g.WorkinCloud.instance.getInt(d.ConstantsApp.INT_LEVEL),b=g.WorkinCloud.instance.getInt(d.ConstantsApp.INT_SCORE);switch(a){case 0:g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LEVEL1_SCORE,
b);break;case 1:g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LEVEL2_SCORE,b);break;case 2:g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LEVEL3_SCORE,b);break;case 3:g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LEVEL4_SCORE,b);break;case 4:g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LEVEL5_SCORE,b)}g.WorkinCloud.instance.modifyInt(d.ConstantsApp.INT_TOTAL_SCORE,b)},_executeFlowStack:function(a){if(!this._ui._getHasTransition())switch(g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_INPUT_LOCK,
!1),a){case d.ConstantsScreen.FLOW_SPLASH_PLAY:g.WorkinCloud.instance._getSound().playMusic("audio/bg_music",0.2);this._setDefaults();this._gotoAndPlayGame();break;case d.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP:this._ui.openScreen(d.ConstantsScreen.SCREEN_HELP,!1);t.ServiceAnalytics.sendMilestone("custom3");break;case d.ConstantsScreen.FLOW_HELP_CLOSE:this._ui.closeScreen(d.ConstantsScreen.SCREEN_HELP);break;case d.ConstantsScreen.FLOW_GAMEPLAY_MENU:g.WorkinCloud.instance.log("[Main] Main Menu Flow Click");
this._pauseGameplay();this._ui.openScreen(d.ConstantsScreen.SCREEN_GAMEPLAY_MENU,!1);break;case d.ConstantsScreen.FLOW_GAMEPLAY_MENU_CLOSE:this._unpauseGameplay();this._ui.closeScreen(d.ConstantsScreen.SCREEN_GAMEPLAY_MENU);break;case d.ConstantsScreen.FLOW_GAMEPLAY_MENU_QUIT:this._ui.openScreen(d.ConstantsScreen.SCREEN_QUIT_CONFIRM,!1);break;case d.ConstantsScreen.FLOW_GAMEPLAY_QUIT_YES:this._setResults(!1);this._resetFlagsResults();this._gotoEndGame(!0);break;case d.ConstantsScreen.FLOW_GAMEPLAY_QUIT_NO:this._ui.closeScreen(d.ConstantsScreen.SCREEN_QUIT_CONFIRM);
break;case d.ConstantsScreen.FLOW_BRANCH_GAME_LOSE:this._pauseGameplay();this._resetFlagsResults();this._setResults(!1);this._gotoEndGame(!1);break;case d.ConstantsScreen.FLOW_BRANCH_GAME_WIN:this._pauseGameplay();this._setResults(!0);this._ui.changeScreenTo(d.ConstantsScreen.SCREEN_GAME_WIN,!1,d.ConstantsScreen.TRANSITION_SCROLL_DOWN);break;case d.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN:this._onGameNew();this._setDefaults();this._gotoAndPlayGame();break;case d.ConstantsScreen.FLOW_NEXT_LEVEL:g.WorkinCloud.instance.modifyInt(d.ConstantsApp.INT_LEVEL,
1);this._gotoAndPlayGame();break;case d.ConstantsScreen.FLOW_BRANCH_LEVEL_WIN:this._pauseGameplay(),this._setResults(!0),4==g.WorkinCloud.instance.getInt(d.ConstantsApp.INT_LEVEL)&&g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_EASTER_EGG_UNLOCKED)?this._ui.changeScreenTo(d.ConstantsScreen.SCREEN_GAME_WIN,!1,d.ConstantsScreen.TRANSITION_SCROLL_DOWN):this._ui.changeScreenTo(d.ConstantsScreen.SCREEN_LEVEL_WIN,!1,d.ConstantsScreen.TRANSITION_SCROLL_DOWN)}},_runFlowStack:function(){if(0!=this._flowstack.length)for(;0<
this._flowstack.length;)this._executeFlowStack(this._flowstack[0]),this._flowstack.shift()},_addFlowEvent:function(a){this._flowstack.push(a)},_onEventUpdate:function(a){this._dt=a.getDt();0.12<this._dt&&(this._dt=0.12);if(this._flagJSEmbedExists&&(g.JSEmbedProxy.getIsPaused()!=this._flagJSEmbedPauseState&&((this._flagJSEmbedPauseState=g.JSEmbedProxy.getIsPaused())?this._pauseGameplay(!1):this._flagGameplayPaused||this._unpauseGameplay()),this._timerRefreshScale-=this._dt,0>=this._timerRefreshScale)){this._timerRefreshScale=
this._RATE_REFRESH_SCALE;if(this._flagInitialLoadComplete&&g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_TABLET)){if(g.JSEmbedProxy.getCanvasHeight()>g.JSEmbedProxy.getCanvasWidth()){this._showOrientationAlert();return}if(g.WorkinCloud.instance.getValue(d.ConstantsApp.BOOL_ORIENTATION_ALERT)){this._hideOrientationAlert();return}}this._flagJSEmbedExists&&g.JSEmbedProxy.getCanvasScale()!=this._scaleSprite.scaleX._value&&(this._scaleSprite.scaleX.set__(this._scaleSprite.scaleY.set__(g.JSEmbedProxy.getCanvasScale())),
g.WorkinCloud.instance.getInput()._setScale(g.JSEmbedProxy.getCanvasScale()))}f.tween.WorkinTweener._getInstance().update(this._dt);g.WorkinCloud.instance.getInput().update(this._dt);this._isUIActive&&this._ui.update(this._dt);this._isWorldActive&&(this._world.update(this._dt),this._world.render());g.WorkinCloud.instance._getSound().update(this._dt);g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_GAME_LOSE)?this._onFlowEvent(new p.WMEventFlow(d.ConstantsScreen.FLOW_BRANCH_GAME_LOSE)):g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_GAME_WIN)?
this._onFlowEvent(new p.WMEventFlow(d.ConstantsScreen.FLOW_BRANCH_GAME_WIN)):g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_LEVEL_LOSE)?this._onFlowEvent(new p.WMEventFlow(d.ConstantsScreen.FLOW_BRANCH_LEVEL_LOSE)):g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_LEVEL_WIN)&&this._onFlowEvent(new p.WMEventFlow(d.ConstantsScreen.FLOW_BRANCH_LEVEL_WIN));this._runFlowStack()},_generateWorld:function(){this._isWorldActive&&this._disposeWorld();g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_INPUT_LOCK,
!0);this._isWorldActive=!0;this._world=new k.World(this._layerWorld)},_resetFlagsResults:function(){g.WorkinCloud.instance.resetValue(d.ConstantsApp.BOOL_GAME_WIN);g.WorkinCloud.instance.resetValue(d.ConstantsApp.BOOL_GAME_LOSE);g.WorkinCloud.instance.resetValue(d.ConstantsApp.BOOL_LEVEL_WIN);g.WorkinCloud.instance.resetValue(d.ConstantsApp.BOOL_LEVEL_LOSE)},_onGameNew:function(){this._resetFlagsResults()},_gotoEndGame:function(a){this._flagWonPreviousGame=a;this._ui.changeScreenTo(d.ConstantsScreen.SCREEN_END_GAME,
!1,d.ConstantsScreen.TRANSITION_SCROLL_DOWN);t.ServiceAnalytics.sendMilestone("custom7")},_gotoSplash:function(){this._enableInput();this._ui.changeScreenTo(d.ConstantsScreen.SCREEN_SPLASH,!1,d.ConstantsScreen.TRANSITION_SCROLL_DOWN);t.ServiceAnalytics.sendMilestone("custom2")},_onWorldGenerationComplete:function(){g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_INPUT_LOCK,!1);this._world.start();this._ui.changeScreenTo(d.ConstantsScreen.SCREEN_GAMEPLAY_HUD);this._unpauseGameplay();t.ServiceAnalytics.sendMilestone("custom6")},
_gotoAndPlayGame:function(){this._loadChunks(["gameplay"],r(this,this._eventLoadCompleteGameplay),800)&&(g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_SCORE,0),this._generateWorld())},_generateUI:function(){this._isUIActive=!0;this._ui.addScreen(d.ConstantsScreen.SCREEN_LOADING,j.screens.ScreenLoading,"ui/loading_panel");this._ui.addScreen(d.ConstantsScreen.SCREEN_LOADING_OVERLAY,j.screens.ScreenGeneric,"ui/loading_2/loading_overlay");this._ui.addScreen(d.ConstantsScreen.SCREEN_CUTSCENE_BORDERS,
j.screens.ScreenGeneric,"ui/cutscene/cutscene_border");"en"==g.WorkinCloud.instance.getString(G.ConstantsCloud.STRING_REGION_ID)?this._ui.addScreen(d.ConstantsScreen.SCREEN_SPLASH,j.screens.ScreenSplash,"ui/splash/splash"):this._ui.addScreen(d.ConstantsScreen.SCREEN_SPLASH,j.screens.ScreenSplash,"ui/splash/splash_forlocalization");this._ui.addScreen(d.ConstantsScreen.SCREEN_HELP,j.screens.ScreenHelp);this._ui.addScreen(d.ConstantsScreen.SCREEN_GAMEPLAY_MENU,j.screens.ScreenGameplayMenu,"ui/AssetScreenGameplayHud");
this._ui.addScreen(d.ConstantsScreen.SCREEN_QUIT_CONFIRM,j.screens.ScreenQuitConfirm);this._ui.addScreen(d.ConstantsScreen.SCREEN_GAMEPLAY_HUD,j.screens.ScreenGameplayHUD);this._ui.addScreen(d.ConstantsScreen.SCREEN_END_GAME,j.screens.ScreenEndGame,"ui/end_screen/gameover_bg");this._ui.addScreen(d.ConstantsScreen.SCREEN_LEVEL_WIN,j.screens.ScreenLevelWin,"ui/background");this._ui.addScreen(d.ConstantsScreen.SCREEN_GAME_WIN,j.screens.ScreenGameWin,"ui/win_screen/win_bg");this._ui.addEventListener(p.WMEventInterfaceChange.EVENT_INTERFACE_OUTPUT,
r(this,this._onEventInterfaceChange))},_registerInput:function(){g.WorkinCloud.instance.getInput().registerInput(d.ConstantsApp.INPUT_SPACE,[e.Key.Space]);g.WorkinCloud.instance.getInput().registerInput(d.ConstantsApp.INPUT_LEFT,[e.Key.Left,e.Key.A]);g.WorkinCloud.instance.getInput().registerInput(d.ConstantsApp.INPUT_RIGHT,[e.Key.Right,e.Key.D]);g.WorkinCloud.instance.getInput().registerInput(d.ConstantsApp.INPUT_UP,[e.Key.Up,e.Key.W]);g.WorkinCloud.instance.getInput().registerInput(d.ConstantsApp.INPUT_DOWN,
[e.Key.Down,e.Key.S]);g.WorkinCloud.instance.getInput().registerInput(d.ConstantsApp.INPUT_Z,[e.Key.Z]);g.WorkinCloud.instance.getInput().registerInput(d.ConstantsApp.INPUT_X,[e.Key.X]);g.WorkinCloud.instance.getInput().registerInput(d.ConstantsApp.INPUT_C,[e.Key.C]);g.WorkinCloud.instance.getInput().registerInput(d.ConstantsApp.INPUT_P,[e.Key.P])},_setDefaults:function(){g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_PAUSED,!1);g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_MUTED,d.ConstantsApp.OPTION_SILENCE_AUDIO);
g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_GAMEOVER,!1);g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_GAME_WIN,!1);g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_GAME_LOSE,!1);g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_LEVEL_WIN,!1);g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_LEVEL_LOSE,!1);g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_INPUT_LOCK,!1);g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_TABLET,D._platform.getTouch().get_supported());g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_HEALTH,
3);g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LIVES,3);g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_SCORE,0);g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LEVEL,0);g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_TOTAL_SCORE,0);g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LEVEL1_SCORE,-1);g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LEVEL2_SCORE,-1);g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LEVEL3_SCORE,-1);g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LEVEL4_SCORE,
-1);g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LEVEL5_SCORE,-1);g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_ORIENTATION_ALERT,!1);g.WorkinCloud.instance._getSound().setMute(g.WorkinCloud.instance.getValue(d.ConstantsApp.BOOL_MUTED))},_beginEngine:function(){g.WorkinCloud.instance.log("[Main](_beginEngine)");this._timeline.add(new aa.ComponentUpdater);this._parseConfigXML();this._ui=new j.ScreenManager(this._layerUI);this._setDefaults();this._generateUI();this._registerInput();this._beginInitialLoad()},
_eventLoadCompleteInitial:function(){g.WorkinCloud.instance.getDispatcher().removeEventListener(G.ConstantsCloud.EVENT_FILES_LOADED,this._loadCallbackMethod);this._flagInitialLoadComplete=!0;T.delay(r(this,this._gotoSplash),800)},_eventLoadCompleteGameplay:function(){g.WorkinCloud.instance.getDispatcher().removeEventListener(G.ConstantsCloud.EVENT_FILES_LOADED,this._loadCallbackMethod);T.delay(r(this,this._gotoAndPlayGame),800)},_loadChunksDelayCallback:function(){this._loadChunks(this._loadChunksCurrent,
this._loadCallbackMethod,0)},_loadChunks:function(a,b,c){null==c&&(c=0);for(var i=0,e=!0;i<a.length;)g.WorkinCloud.instance.getAssets().isChunkLoaded(a[i])||(e=!1),i++;if(e)return!0;this._loadChunksCurrent=a;this._loadCallbackMethod=b;if(0<c)return T.delay(r(this,this._loadChunksDelayCallback),c),this._ui.changeScreenTo(d.ConstantsScreen.SCREEN_LOADING,!1,d.ConstantsScreen.TRANSITION_SCROLL_UP),!1;g.WorkinCloud.instance.getDispatcher().addEventListener(G.ConstantsCloud.EVENT_FILES_LOADED,this._loadCallbackMethod);
for(i=0;i<a.length;)g.WorkinCloud.instance.getAssets().isChunkLoaded(a[i])||g.WorkinCloud.instance.getAssets().loadChunk(a[i]),i++;g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_INPUT_LOCK,!0);this._ui.changeScreenTo(d.ConstantsScreen.SCREEN_LOADING,!1,d.ConstantsScreen.TRANSITION_SCROLL_UP);return!1},_beginInitialLoad:function(){this._loadChunks(["initial"],r(this,this._eventLoadCompleteInitial),800);g.WorkinCloud.instance.getAssets().loadFolder("fonts_"+g.WorkinCloud.instance.getString(G.ConstantsCloud.STRING_REGION_ID))},
_parseConfigXML:function(){g.WorkinCloud.instance.log("[Main](_parseConfigXML) Parse Config XML: "+d.ConstantsApp.CONFIG_XML_PATH);for(var a=g.WorkinCloud.instance.getAssets().getXML(d.ConstantsApp.CONFIG_XML_PATH),b=a.node.resolve("packs").nodes.resolve("pack").iterator();b.hasNext();){for(var c=b.next(),i=[],e=c.nodes.resolve("flump").iterator();e.hasNext();){var f=e.next();i.push(f.att.resolve("id").toString())}e=[];for(f=c.nodes.resolve("tiles").iterator();f.hasNext();){var h=f.next();e.push(h.att.resolve("id").toString())}g.WorkinCloud.instance.getAssets().addPackDef(c.att.resolve("id").toString(),
i,e)}for(b=a.node.resolve("chunks").nodes.resolve("chunk").iterator();b.hasNext();)c=b.next(),g.WorkinCloud.instance.getAssets().addChunk(c.att.resolve("id").toString(),c);d.ConstantsApp.LOAD_FONT_EARLY||(g.WorkinCloud.instance.setString(G.ConstantsCloud.STRING_REGION_ID,s.string(a.node.resolve("localization").node.resolve("region").getInnerData())),g.WorkinCloud.instance.log("[Main] Localization : Set Region: "+g.WorkinCloud.instance.getString(G.ConstantsCloud.STRING_REGION_ID)))},errorHandler:function(a){g.WorkinCloud.instance.log("Error:"+
a)},__class__:$};d={ConstantsApp:function(){}};l["com.nick.nicktoons.april_fools_2013.data.ConstantsApp"]=d.ConstantsApp;d.ConstantsApp.__name__="com,nick,nicktoons,april_fools_2013,data,ConstantsApp".split(",");d.ConstantsScreen=function(){};l["com.nick.nicktoons.april_fools_2013.data.ConstantsScreen"]=d.ConstantsScreen;d.ConstantsScreen.__name__="com,nick,nicktoons,april_fools_2013,data,ConstantsScreen".split(",");p={};g=void 0;G=void 0;t=void 0;f=void 0;aa=void 0;n=void 0;R=void 0;p.WMEventDispatcher=
function(){this._signals=new F};l["com.workinman.events.WMEventDispatcher"]=p.WMEventDispatcher;p.WMEventDispatcher.__name__=["com","workinman","events","WMEventDispatcher"];p.WMEventDispatcher.prototype={dispose:function(){for(var a=this._signals.iterator();a.hasNext();)a.next().dispose();this._signals=null},dispatchEvent:function(a){this._signals.exists(a.getEventId())&&this._signals.get(a.getEventId()).dispatchEvent(a)},removeEventListener:function(a,b){this._signals.exists(a)&&(this._signals.get(a).removeEventListener(b),
this._signals.get(a).isEmtpy()&&(this._signals.get(a).dispose(),this._signals.remove(a)))},addEventListener:function(a,b){this._signals.exists(a)||this._signals.set(a,new p._WMEventDispatcher.WMEventTracker);this._signals.get(a).addEventListener(b)},__class__:p.WMEventDispatcher};j={ScreenManager:function(a){p.WMEventDispatcher.call(this);this._container=a;this._layerScreen=new O;this._layerTransition=new O;this._container.addChild(this._layerScreen);this._container.addChild(this._layerTransition);
this._isPaused=!1;this._screens=[];this._screensOpen=[];this._screensQueue=[];this._transitionType=-1;this._flagCloseAllScreensWhenBottomCloses=this._flagHasScreenshot=this._flagOpenScreenAfterTransition=this._flagCloseScreenAfterTransition=this._flagHasTransition=!1;this._camera=new f.WorkinCamera(d.ConstantsApp.STAGE_CENTER_X,d.ConstantsApp.STAGE_CENTER_Y)}};l["com.nick.nicktoons.april_fools_2013.ui.ScreenManager"]=j.ScreenManager;j.ScreenManager.__name__="com,nick,nicktoons,april_fools_2013,ui,ScreenManager".split(",");
j.ScreenManager.__super__=p.WMEventDispatcher;j.ScreenManager.prototype=v(p.WMEventDispatcher.prototype,{_transitionPlay:function(){this._transition.show();this._transition.start()},_removeTransition:function(){this._flagHasTransition&&(this._layerTransition.removeChild(this._transition._getEntity()),this._transition._getDispatcher().removeEventListener(p.WMEventScreenOut.EVENT_SCREEN_OUTPUT,r(this,this._onEventTransitionOutput)),this._transition.dispose(),this._transition=null,this._flagHasTransition=
!1)},_addTransition:function(a,b){null==b&&(b=!0);if(this._flagHasTransition){if(!b)return;this._removeTransition()}this._transition=new j.transitions.TransitionBase(a);this._transition.hide();this._transition._getDispatcher().addEventListener(p.WMEventScreenOut.EVENT_SCREEN_OUTPUT,r(this,this._onEventTransitionOutput));this._layerTransition.addChild(this._transition._getEntity());this._flagHasTransition=!0},_updateTransition:function(a){switch(this._transitionType){case d.ConstantsScreen.TRANSITION_SCROLL:this._transitionScreenHeadedOut._getPos().x-=
3E3*a;this._transitionScreenHeadedIn._getPos().x-=3E3*a;0>=this._transitionScreenHeadedIn._getPos().x&&(this._transitionScreenHeadedIn._getPos().x=0,this._flagHasTransition=!1,this._onTransitionCloseScreen(),this._onQueueConditionMet(d.ConstantsScreen.CONDITION_TRANSITION_COMPLETE));break;case d.ConstantsScreen.TRANSITION_SCROLL_UP:this._transitionScreenHeadedOut._getPos().y-=2E3*a;this._transitionScreenHeadedIn._getPos().y-=2E3*a;0>=this._transitionScreenHeadedIn._getPos().y&&(this._transitionScreenHeadedIn._getPos().y=
0,this._flagHasTransition=!1,this._onTransitionCloseScreen(),this._onQueueConditionMet(d.ConstantsScreen.CONDITION_TRANSITION_COMPLETE));break;case d.ConstantsScreen.TRANSITION_SCROLL_DOWN:this._transitionScreenHeadedOut._getPos().y+=2E3*a;this._transitionScreenHeadedIn._getPos().y+=2E3*a;0<=this._transitionScreenHeadedIn._getPos().y&&(this._transitionScreenHeadedIn._getPos().y=0,this._flagHasTransition=!1,this._onTransitionCloseScreen(),this._onQueueConditionMet(d.ConstantsScreen.CONDITION_TRANSITION_COMPLETE));
break;case d.ConstantsScreen.TRANSITION_FADE:this._transition.update(a),this._transition.flagDispose&&this._removeTransition()}},_removeScreenDisplay:function(a){this._layerScreen.removeChild(a)},_addScreenDisplay:function(a){this._layerScreen.addChild(a)},_dispatchEventChange:function(a,b){this.dispatchEvent(new p.WMEventInterfaceChange(a,b))},_onQueueConditionMet:function(a,b){null==b&&(b="");for(var c=0;c<this._screensQueue.length;)this._screensQueue[c].validateCondition(a,b)&&(this._generateScreen(this._screensQueue[c].screenData),
this._screensQueue.splice(c,1)),c++},dispose:function(){for(var a=0;a<this._screensOpen.length;)this._disposeScreen(this._screensOpen[a].id),a++;this._screens=this._screensQueue=null;this._removeTransition();this._container.removeChild(this._layerScreen);this._container.removeChild(this._layerTransition);this._layerTransition=this._layerScreen=null;p.WMEventDispatcher.prototype.dispose.call(this)},_getScreenData:function(a){for(var b=this._screens.length-1;0<=b;){if(this._screens[b].id==a)return this._screens[b];
b--}g.WorkinCloud.instance.log("[ScreenManager](_getScreenData) ERROR: Screen >"+a+"< idoes not exist. getScreenData() returning NULL.");return null},_hasScreenData:function(a){for(var b=this._screens.length-1;0<=b;){if(this._screens[b].id==a)return!0;b--}return!1},_removeScreenshot:function(){this._flagHasScreenshot&&(this._layerScreen.removeChild(this._screenshot._getEntity()),this._screenshot.dispose(),this._screenshot=null,this._flagHasScreenshot=!1)},_addScreenshot:function(){g.WorkinCloud.instance.log("[ScreenManager](_addScreenshot) ERROR: Screenshots not supported in HTML5 yet.")},
_onTransitionCloseScreen:function(){this._flagCloseScreenAfterTransition&&(this.closeScreen(this._screenIdToCloseAfterTransition,!1),this._flagCloseScreenAfterTransition=!1);this._flagOpenScreenAfterTransition&&(this.openScreen(this._screenIdToOpenDuringTransition,!1),this._flagOpenScreenAfterTransition=!1)},_onEventTransitionOutput:function(a){a.flowId==d.ConstantsScreen.OUTPUT_OPENED?(g.WorkinCloud.instance.log("[ScreenManager] Transition Midway..."),this._onTransitionCloseScreen(),this._removeScreenshot(),
this._onQueueConditionMet(d.ConstantsScreen.CONDITION_TRANSITION_MIDWAY)):a.flowId==d.ConstantsScreen.OUTPUT_CLOSED&&(g.WorkinCloud.instance.log("[ScreenManager] Transition Complete."),this._removeScreenshot(),this._onQueueConditionMet(d.ConstantsScreen.CONDITION_TRANSITION_COMPLETE))},_onEventScreenOutput:function(a){a.flowId==d.ConstantsScreen.OUTPUT_OPENED?this._dispatchEventChange(d.ConstantsScreen.CHANGE_OPEN_COMPLETE,a.screenId):a.flowId==d.ConstantsScreen.OUTPUT_CLOSED&&(this._dispatchEventChange(d.ConstantsScreen.CHANGE_CLOSE_COMPLETE,
a.screenId),this._onQueueConditionMet(d.ConstantsScreen.CONDITION_CLOSED_SPECIFIC,a.screenId),this._flagHasTransition&&this._transitionType==d.ConstantsScreen.TRANSITION_STAGED&&this._transitionPlay())},_disposeScreen:function(a){for(var b=0;b<this._screensOpen.length;){if(this._screensOpen[b].id==a){this._screensOpen[b]._getDispatcher().removeEventListener(p.WMEventScreenOut.EVENT_SCREEN_OUTPUT,r(this,this._onEventScreenOutput));this._removeScreenDisplay(this._screensOpen[b]._getEntity());this._screensOpen[b].dispose();
this._screensOpen.splice(b,1);break}b++}},_generateScreen:function(a){if(this.isScreenOpen(a.id))this.getScreen(a.id).reset(),this._dispatchEventChange(d.ConstantsScreen.CHANGE_OPEN_BEGIN,a.id);else{var b=N.createInstance(a.screenClass,[a.id,a.assetClassName,a.data]);if(null==b)g.WorkinCloud.instance.log("[ScreenManager](_generateScreen) ERROR: Screen Class for >"+a.id+"< not found.");else{if(this._flagHasTransition)switch(this._transitionScreenHeadedIn=b,this._transitionType){case d.ConstantsScreen.TRANSITION_SCROLL:b._getPos().x=
d.ConstantsApp.STAGE_WIDTH;break;case d.ConstantsScreen.TRANSITION_SCROLL_UP:b._getPos().y=d.ConstantsApp.STAGE_HEIGHT;break;case d.ConstantsScreen.TRANSITION_SCROLL_DOWN:b._getPos().y=-d.ConstantsApp.STAGE_HEIGHT}this._screensOpen.push(b);b.renderPosition(this._camera);this._addScreenDisplay(b._getEntity());b._getDispatcher().addEventListener(p.WMEventScreenOut.EVENT_SCREEN_OUTPUT,r(this,this._onEventScreenOutput));b.open(!0);this._dispatchEventChange(d.ConstantsScreen.CHANGE_OPEN_BEGIN,a.id)}}},
_addScreenToQueue:function(a,b,c){null==c&&(c="");this.hasQueuedScreen(a.id)||this._screensQueue.push(new j.screens.data.ScreenQueueData(a,b,c))},removeAllQueuedScreens:function(){for(var a=this._screensQueue.length-1;0<=a;)this._screensQueue.splice(a,1),a--},removeQueuedScreen:function(a){for(var b=this._screensQueue.length-1;0<=b;){if(this._screensQueue[b].screenData.id==a){this._screensQueue.splice(b,1);break}b--}},hasQueuedScreen:function(a){for(var b=this._screensQueue.length-1;0<=b;){if(this._screensQueue[b].screenData.id==
a)return!0;b--}return!1},isScreenOpen:function(a){for(var b=this._screensOpen.length-1;0<=b;){if(this._screensOpen[b].id==a)return!0;b--}return!1},getScreen:function(a){null==a&&(a="");if(0==this._screensOpen.length)return g.WorkinCloud.instance.log("[ScreenManager](getScreen) ERROR: no screens are open. Unable to getScreen()"),null;if(""==a)return this._screensOpen[this._screensOpen.length-1];for(var b=this._screensOpen.length-1;0<=b;){if(this._screensOpen[b].id==a)return this._screensOpen[b];b--}g.WorkinCloud.instance.log("[ScreenManager](getScreen) ERROR: Screen >"+
a+"< is not open or does not exist. getScreen() returning NULL.");return null},update:function(a){if(!this._isPaused){0.15<a&&(a=0.15);this._flagHasTransition&&this._updateTransition(a);for(this._loop=this._screensOpen.length-1;0<=this._loop;)this._screensOpen[this._loop].update(a),this._screensOpen[this._loop].renderPosition(this._camera),this._screensOpen[this._loop].flagDispose&&(this._disposeScreen(this._screensOpen[this._loop].id),0==this._screensOpen.length&&this._onQueueConditionMet(d.ConstantsScreen.CONDITION_CLOSED_ALL)),
this._loop--}},_getHasTransition:function(){return this._flagHasTransition},changeScreenTo:function(a,b,c,i){null==i&&(i="");null==c&&(c=-1);null==b&&(b=!1);g.WorkinCloud.instance.log("[ScreenManager](changeTo) "+a);this.removeAllQueuedScreens();if(this.isScreenOpen(a)){g.WorkinCloud.instance.log("[ScreenManager](changeTo) Screen is already open.");for(b=this._screensOpen.length-1;0<=b;)this._screensOpen[b].id!=a&&this.closeScreen(this._screensOpen[b].id,!1,b),b--;this._dispatchEventChange(d.ConstantsScreen.CHANGE_OPEN_BEGIN,
a);this._dispatchEventChange(d.ConstantsScreen.CHANGE_OPEN_COMPLETE,a)}else if(this._flagOpenScreenAfterTransition=this._flagCloseScreenAfterTransition=!1,0<this._screensOpen.length){g.WorkinCloud.instance.log("[ScreenManager](changeFrom) "+this._screensOpen[0].id);this._screensOpen[0].suspend();var e=d.ConstantsScreen.CONDITION_CLOSED_ALL;if(-1<c)switch(this._transitionType=c,this._transitionType){case d.ConstantsScreen.TRANSITION_SCREENSHOT:this._flagOpenScreenAfterTransition=!0;b=!1;this._addScreenshot();
this._transitionPlay();break;case d.ConstantsScreen.TRANSITION_SCROLL:this._flagHasTransition=!0;this._flagOpenScreenAfterTransition=!1;this._flagCloseScreenAfterTransition=!0;b=!1;this._transitionScreenHeadedOut=this._screensOpen[0];e=d.ConstantsScreen.CONDITION_IMMEDIATE;break;case d.ConstantsScreen.TRANSITION_SCROLL_UP:this._flagHasTransition=!0;this._flagOpenScreenAfterTransition=!1;this._flagCloseScreenAfterTransition=!0;b=!1;this._transitionScreenHeadedOut=this._screensOpen[0];e=d.ConstantsScreen.CONDITION_IMMEDIATE;
break;case d.ConstantsScreen.TRANSITION_SCROLL_DOWN:this._flagHasTransition=!0;this._flagOpenScreenAfterTransition=!1;this._flagCloseScreenAfterTransition=!0;b=!1;this._transitionScreenHeadedOut=this._screensOpen[0];e=d.ConstantsScreen.CONDITION_IMMEDIATE;break;case d.ConstantsScreen.TRANSITION_SCROLL:this._flagHasTransition=!0;this._flagOpenScreenAfterTransition=!1;this._flagCloseScreenAfterTransition=!0;b=!1;this._transitionScreenHeadedOut=this._screensOpen[0];e=d.ConstantsScreen.CONDITION_IMMEDIATE;
break;case d.ConstantsScreen.TRANSITION_FADE:this._addTransition(i,this._flagHasTransition?this._transition._getIsOutro()?!0:!1:!1),this._flagCloseScreenAfterTransition=!0,b=!1,this._transitionPlay(),e=d.ConstantsScreen.CONDITION_TRANSITION_MIDWAY}if(0<this._screensOpen.length&&(this._flagCloseScreenAfterTransition?this._screenIdToCloseAfterTransition=this._screensOpen[0].id:this.closeScreen(this._screensOpen[0].id,b,0),1<this._screensOpen.length))for(b=1;b<this._screensOpen.length;)this.closeScreen(this._screensOpen[b].id,
!1,this._screensOpen.length),b++;this._flagOpenScreenAfterTransition?(g.WorkinCloud.instance.log("[ScreenManager] Store Screen to open at transition midway: "+a),this._screenIdToOpenDuringTransition=a):this.openScreen(a,!0,e)}else this.openScreen(a,!1)},_moveScreenToTop:function(a){var b=this.getScreen(a);if(null==b)g.WorkinCloud.instance.log("[ScreenManager](_moveScreenToTop) ERROR: Screen >"+a+"< is not open or does not exist. Cancelling move.");else{b.isClosing()&&b.open(!1);for(var c=this._screensOpen.length-
1;0<=c&&!(this._screensOpen[c].id==a);)c--;this._screensOpen.splice(c,1);b.reset();this._removeScreenDisplay(b._getEntity());this._addScreenDisplay(b._getEntity());this._screensOpen.push(b)}},openScreen:function(a,b,c,i){null==i&&(i="");null==c&&(c=0);null==b&&(b=!0);g.WorkinCloud.instance.log("[ScreenManager](openScreen) "+a);if(this._hasScreenData(a))if(this.isScreenOpen(a))this._moveScreenToTop(a);else{if(c!=d.ConstantsScreen.CONDITION_IMMEDIATE&&b){if(0<this._screensOpen.length){this._addScreenToQueue(this._getScreenData(a),
c,i);return}if((c==d.ConstantsScreen.CONDITION_TRANSITION_COMPLETE||c==d.ConstantsScreen.CONDITION_TRANSITION_MIDWAY)&&this._flagHasTransition){this._addScreenToQueue(this._getScreenData(a),c,i);return}}this._generateScreen(this._getScreenData(a))}else g.WorkinCloud.instance.log("[ScreenManager](closeScreen) ERROR: Screen >"+a+"< does not exist. Cancelling open().")},closeScreen:function(a,b,c){null==c&&(c=-1);null==b&&(b=!0);null==a&&(a="");if(0==this._screensOpen.length)this.removeQueuedScreen(a);
else{if(""==a)c=this._screensOpen[this._screensOpen.length-1];else if(0<=c&&c<this._screensOpen.length)c=this._screensOpen[c];else if(c=this.getScreen(a),null==c){this.removeQueuedScreen(a);return}c.close(b);this._dispatchEventChange(d.ConstantsScreen.CHANGE_CLOSE_BEGIN,a)}},handleInput:function(a){for(var b=!0,c=this._screensOpen.length-1;0<=c;)this._screensOpen[c].handleInput(a)||(b=!1),c--;return b},addScreen:function(a,b,c,i,d){null==i&&(i=0);null==c&&(c="");this._screens.push(new j.screens.data.ScreenData(a,
b,c,i,d))},__class__:j.ScreenManager});n={IPoolable:function(){}};l["com.workinman.display.IPoolable"]=n.IPoolable;n.IPoolable.__name__=["com","workinman","display","IPoolable"];n.IPoolable.prototype={__class__:n.IPoolable};n.Poolable=function(){this._flagPooled=!0;this._flagActive=!1};l["com.workinman.display.Poolable"]=n.Poolable;n.Poolable.__name__=["com","workinman","display","Poolable"];n.Poolable.__interfaces__=[n.IPoolable];n.Poolable.prototype={_setIsActive:function(a){return this._flagActive=
a},_getIsActive:function(){return this._flagActive},_setIsPooled:function(a){return this._flagPooled=a},_getIsPooled:function(){return this._flagPooled},dispose:function(){this.release()},release:function(){this._flagActive=!1},renew:function(){this._flagActive=!0},__class__:n.Poolable};n.Element=function(a){n.Poolable.call(this,a);this._SHOW_COLLISION=d.ConstantsApp.DEBUG_COLLISIONS;this._entity=new O;this._display=new m.Sprite;this._entity.add(this._display);this._elements=[];this._textureEntity=
new O;this._entity.addChild(this._textureEntity);this._texture=new m.Sprite;this._textureEntity.add(this._texture);this._dispatcher=new p.WMEventDispatcher;this._pos=new f.WorkinPoint;this._velocity=new f.WorkinPoint;this._renderOffset=new f.WorkinPoint;this._renderOrigin=new f.WorkinPoint;this._render=new n.Renderable;this._uniqueId=G.ConstantsCloud.getUniqueId();this._layer=this._assetId="";this._doDelete=!1;!0==a.pooled?this._setIsPooled(!0):(this._setIsPooled(!1),this.renew(a));this._collision=
new I.Rectangle(0,0,0,0);this._collisionOffset=new f.WorkinPoint;this._collisionActive=!1;a.collision&&this.setCollision(a.collision);this._addEventListeners()};l["com.workinman.display.Element"]=n.Element;n.Element.__name__=["com","workinman","display","Element"];n.Element.__super__=n.Poolable;n.Element.prototype=v(n.Poolable.prototype,{_removeEventListeners:function(){},_addEventListeners:function(){},_buildCollisionBox:function(){this._SHOW_COLLISION&&(null!=this._collisionEntity&&this._textureEntity.removeChild(this._collisionEntity),
this._collisionDebug=new m.FillSprite(16711680,this._collision.width|0,this._collision.height|0),this._collisionDebug.x.set__(this._collisionOffset.x),this._collisionDebug.y.set__(this._collisionOffset.y),this._collisionDebug.alpha.set__(0.5),this._collisionEntity=new O,this._collisionEntity.add(this._collisionDebug),this._textureEntity.addChild(this._collisionEntity))},setOrigin:function(a){this._renderOrigin.toPoint(a);this._render.width=this._texture.getNaturalWidth();this._render.height=this._texture.getNaturalHeight();
this._texture.x.set__(-(this._renderOrigin.x*this._render.width));this._texture.y.set__(-(this._renderOrigin.y*this._render.height))},applyRenderable:function(){this._display.x.set__(this._render.x);this._display.y.set__(this._render.y);this._display.scaleX.set__(this._render.scaleX);this._display.scaleY.set__(this._render.scaleY);this._display.rotation.set__(this._render.rotation);this._display.alpha.set__(this._render.alpha);this._display.set_visible(this._render.visible)},renderPosition:function(a){null==
a?(this._render.x=this._pos.x+this._renderOffset.x,this._render.y=this._pos.y+this._renderOffset.y):(this._render.x=this._pos.x-a._getPos().x+a._getScreenCenterX()+this._renderOffset.x,this._render.y=this._pos.y-a._getPos().y+a._getScreenCenterY()+this._renderOffset.y);for(var b=0,c=this._elements;b<c.length;){var i=c[b];++b;i.renderPosition(a)}this.applyRenderable()},_addElement:function(a){this._elements.push(a);this._entity.addChild(a._getEntity());return a},updatePositionFromVelocity:function(a){this._pos.x+=
this._velocity.x*a;this._pos.y+=this._velocity.y*a},update:function(a){for(var b=0,c=this._elements;b<c.length;){var i=c[b];++b;i.update(a)}},hitTest:function(a,b){return a>this._pos.x-this._render.width/2&&a<this._pos.x+this._render.width/2?b<this._pos.y+this._render.height/2&&b>this._pos.y-this._render.height/2:!1},swapTexture:function(a){this._textureEntity.remove(this._texture);this._texture.dispose();this._texture=a;this._render.width=this._texture.getNaturalWidth();this._render.height=this._texture.getNaturalHeight();
this._texture.x.set__(-(this._renderOrigin.x*this._render.width));this._texture.y.set__(-(this._renderOrigin.y*this._render.height));this._textureEntity.add(this._texture)},setTexture:function(a){""!=a&&(!1==g.WorkinCloud.instance.getAssets().hasAsset(a)?g.WorkinCloud.instance.log("[Element](setTexture) No asset named "+a+" exists!"):this.swapTexture(new m.ImageSprite(g.WorkinCloud.instance.getAssets().getTexture(a))))},_getUniqueId:function(){return this._uniqueId},_setLayer:function(a){return this._layer=
a},_getLayer:function(){return this._layer},_getDepth:function(){return this._pos.z},_getIsCollisionCollision:function(){return this._collisionActive},_getCollision:function(){return this._collision},_getDispatcher:function(){return this._dispatcher},_getEntity:function(){return this._entity},_getRenderable:function(){return this._render},_setDoDelete:function(a){return this._doDelete=a},_getDoDelete:function(){return this._doDelete},_setPos:function(a){this._pos.toPoint(a);return this._pos},_getPos:function(){return this._pos},
dispose:function(){if(this._getIsPooled())this.release();else{for(var a=0,b=this._elements;a<b.length;){var c=b[a];++a;c.dispose()}this._elements=null;this._removeEventListeners();this._dispatcher.dispose();this._dispatcher=null;this._entity.dispose();this._velocity=this._pos=this._entity=null;this._texture.dispose();this._display=this._texture=null;this._textureEntity.dispose();this._renderOrigin=this._renderOffset=this._render=this._textureEntity=null}},release:function(){this._getIsPooled()&&n.Poolable.prototype.release.call(this)},
renew:function(a){a.asset&&(this._assetId=a.asset,this.setTexture(this._assetId));this._doDelete=!1;a.layer&&(this._layer=a.layer);a.x&&(this._pos.x=a.x);a.y&&(this._pos.y=a.y);a.rot&&(this._render.rotation=a.rot);a.scale&&(this._render.scaleX=this._render.scaleY=a.scale);a.origin?this.setOrigin(a.origin):this.setOrigin(new f.WorkinPoint(0,0))},setCollision:function(a,b,c){this._collisionActive=a;null==b?(this._collisionOffset.x=-(this._renderOrigin.x*this._render.width),this._collisionOffset.y=-(this._renderOrigin.y*
this._render.height)):(this._collisionOffset.x=b.x,this._collisionOffset.y=b.y);null==c?(this._collision.width=this._render.width,this._collision.height=this._render.height):(this._collision.width=c.x,this._collision.height=c.y);this._collisionActive&&this._buildCollisionBox()},__class__:n.Element});j.buttons={};j.buttons.ButtonBase=function(a,b,c,i,d,e,g){null==g&&(g="");null==e&&(e="");null==d&&(d="");null==i&&(i="");this._DEBUG_SHOW_HITBOX=!1;null==c&&(c=new f.WorkinPoint(0.5,0.5));n.Element.call(this,
{x:a,y:b,asset:this._assetUp,origin:c});this._assetUp=""==i?this._getDefaultAssetUp():i;this._assetOver=""==d?this._getDefaultAssetOver():d;this._assetDown=""==e?this._getDefaultAssetDown():e;this._assetDisabled=""==g?this._getDefaultAssetDisabled():g;this._flagDragged=this._flagClickTransition=this._flagDown=!1;this.enable();this._buildHitBox()};l["com.nick.nicktoons.april_fools_2013.ui.buttons.ButtonBase"]=j.buttons.ButtonBase;j.buttons.ButtonBase.__name__="com,nick,nicktoons,april_fools_2013,ui,buttons,ButtonBase".split(",");
j.buttons.ButtonBase.__super__=n.Element;j.buttons.ButtonBase.prototype=v(n.Element.prototype,{_renderDisabled:function(){""!=this._assetDisabled&&this.setTexture(this._assetDisabled)},_renderReturnUp:function(){this._flagClickTransition||(f.tween.WorkinTweener._getInstance().tween(this._render,0.15,{scaleX:1,scaleY:1}).ease(f.tween.PennerManager.EASE_QUAD_OUT),this._renderUp())},_renderDown:function(){this._flagClickTransition||(f.tween.WorkinTweener._getInstance().tween(this._render,0.15,{scaleX:1.04,
scaleY:1.04}).ease(f.tween.PennerManager.EASE_QUAD_OUT),""!=this._assetDown&&this.setTexture(this._assetDown))},_renderUp:function(){""!=this._assetUp&&this.setTexture(this._assetUp)},update:function(a){n.Element.prototype.update.call(this,a);this._flagDown&&!1==g.WorkinCloud.instance.getInput().getInput(d.ConstantsApp.INPUT_CLICK)&&(this._upConnection.dispose(),this._renderReturnUp())},_onCancelDrag:function(){this._flagDragged=!1;this._dispatch(j.buttons.ButtonBase.CANCEL_DRAG)},_onUp:function(){this._flagDown&&
(this._upConnection.dispose(),this._upConnection=null,this._flagDown=!1,this._renderReturnUp(),this._click(),this._flagDragged&&this._onCancelDrag(),this._dispatch(j.buttons.ButtonBase.UP))},_onDown:function(){this._flagDown=!0;this._renderDown();this._upConnection=this._hitBox.get_pointerUp().connect(r(this,this._onUpEvent));this._dispatch(j.buttons.ButtonBase.DOWN)},_click:function(){g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_ORIENTATION_ALERT)||(this._dispatch(j.buttons.ButtonBase.CLICK),
""!=this._getClickFlow()&&g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventFlow(this._getClickFlow())),""!=this._getClickEvent()&&g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(this._getClickEvent())))},_dispatch:function(a){this._GET_DO_DISPATCH()&&this._dispatcher.dispatchEvent(new p.WMEvent(a))},_onUpEvent:function(a){this._onUp(a.viewX,a.viewY)},_onDownEvent:function(a){this._onDown(a.viewX,a.viewY)},_getClickFlow:function(){return""},_getClickEvent:function(){return""},
_GET_DISABLE_FRAME:function(){return 1},_GET_CUSTOM_HIT_BOX:function(){return new I.Point(0,0)},_GET_DO_DISPATCH:function(){return!0},_getDefaultAssetDisabled:function(){return""},_getDefaultAssetDown:function(){return""},_getDefaultAssetOver:function(){return""},_getDefaultAssetUp:function(){return""},dispose:function(){this.disable();this._downConnection.dispose();this._downConnection=null;this._flagDown&&(this._upConnection.dispose(),this._upConnection=null);this._hitBox.dispose();n.Element.prototype.dispose.call(this)},
_buildHitBox:function(){this._DEBUG_SHOW_HITBOX?this._hitBox=new m.FillSprite(16711680,this._render.width|0,this._render.height|0):(this._hitBox=new m.FillSprite(16711680,this._render.width|0,this._render.height|0),this._hitBox.alpha.set__(0));var a=new O;a.add(this._hitBox);this._textureEntity.addChild(a);this._downConnection=this._hitBox.get_pointerDown().connect(r(this,this._onDownEvent))},disable:function(){this._flagEnabled=!1;this._renderDisabled()},enable:function(){this._flagEnabled=!0;this._renderUp()},
addText:function(a){this._addElement(a);a._getTextDisplay().set_pointerEnabled(!1)},__class__:j.buttons.ButtonBase});n.Display=function(a,b,c,i){null==c&&(c="");this._flagLocked=!1;n.Element.call(this,{x:a,y:b,asset:c,origin:i});this._addEventListeners()};l["com.workinman.display.Display"]=n.Display;n.Display.__name__=["com","workinman","display","Display"];n.Display.__super__=n.Element;n.Display.prototype=v(n.Element.prototype,{lock:function(){this._flagLocked=!0},dispose:function(){n.Element.prototype.dispose.call(this);
this._removeEventListeners()},_updateValue:function(){return""},_refresh:function(){},_onUpdateDisplay:function(a){this._flagLocked||a._getData().valueID==this._updateValue()&&this._refresh()},_removeEventListeners:function(){n.Element.prototype._removeEventListeners.call(this);g.WorkinCloud.instance.getDispatcher().removeEventListener(n.Display.EVENT_UPDATE_DISPLAY,r(this,this._onUpdateDisplay))},_addEventListeners:function(){n.Element.prototype._addEventListeners.call(this);g.WorkinCloud.instance.getDispatcher().addEventListener(n.Display.EVENT_UPDATE_DISPLAY,
r(this,this._onUpdateDisplay))},__class__:n.Display});j.displays={};j.displays.DisplayFinalScores=function(a,b,c){n.Display.call(this,a,b);a=g.WorkinCloud.instance.getInt(this._updateValue());this._textNum=this._addElement(new n.TextBase(0,0,s.string(a),"Basic",{origin:new f.WorkinPoint(0.5,0.5)}));this._render.scaleX=0.5;this._render.scaleY=0.5;this._level=c;this._refresh()};l["com.nick.nicktoons.april_fools_2013.ui.displays.DisplayFinalScores"]=j.displays.DisplayFinalScores;j.displays.DisplayFinalScores.__name__=
"com,nick,nicktoons,april_fools_2013,ui,displays,DisplayFinalScores".split(",");j.displays.DisplayFinalScores.__super__=n.Display;j.displays.DisplayFinalScores.prototype=v(n.Display.prototype,{_getLevel:function(){return this._level},dispose:function(){n.Display.prototype.dispose.call(this);this._textNum=null},_updateValue:function(){switch(this._level){case 0:return d.ConstantsApp.INT_TOTAL_SCORE;case 1:return d.ConstantsApp.INT_LEVEL1_SCORE;case 2:return d.ConstantsApp.INT_LEVEL2_SCORE;case 3:return d.ConstantsApp.INT_LEVEL3_SCORE;
case 4:return d.ConstantsApp.INT_LEVEL4_SCORE;case 5:return d.ConstantsApp.INT_LEVEL5_SCORE;default:return d.ConstantsApp.INT_SCORE}},_refresh:function(){var a=g.WorkinCloud.instance.getInt(this._updateValue());this._textNum._setText(s.string(a))},__class__:j.displays.DisplayFinalScores});j.displays.DisplayScore=function(a,b){n.Display.call(this,a,b);var c=g.WorkinCloud.instance.getInt(this._updateValue());this._textNum=this._addElement(new n.TextBase(0,0,s.string(c),"Basic2",{origin:new f.WorkinPoint(0,
0)}));this._render.scaleX=1;this._render.scaleY=1;this._refresh()};l["com.nick.nicktoons.april_fools_2013.ui.displays.DisplayScore"]=j.displays.DisplayScore;j.displays.DisplayScore.__name__="com,nick,nicktoons,april_fools_2013,ui,displays,DisplayScore".split(",");j.displays.DisplayScore.__super__=n.Display;j.displays.DisplayScore.prototype=v(n.Display.prototype,{dispose:function(){n.Display.prototype.dispose.call(this);this._textNum=null},_updateValue:function(){return d.ConstantsApp.INT_SCORE},_refresh:function(){var a=
g.WorkinCloud.instance.getInt(this._updateValue());this._textNum._setText(s.string(a))},__class__:j.displays.DisplayScore});j.screens={};j.screens.ScreenBase=function(a,b){this._STATE_SUSPENDED="suspend";this._STATE_OPENED="opened";this._STATE_OUT="out";this._STATE_IN="in";this.id=a;n.Element.call(this,{asset:b});this._clickWall=new O;var c=new m.FillSprite(16711680,d.ConstantsApp.STAGE_WIDTH,d.ConstantsApp.STAGE_HEIGHT);c.alpha.set__(0);this._clickWall.add(c);this._entity.addChild(this._clickWall);
this._entity.addChild(this._textureEntity);this._buildButtons();this._flagStateAnimationComplete=this._flagStateCompleteTemp=this.flagDispose=!1;this._states=[];this._generateStates();this._stateIndex=this._states.length+2;this._setFirstState()};l["com.nick.nicktoons.april_fools_2013.ui.screens.ScreenBase"]=j.screens.ScreenBase;j.screens.ScreenBase.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,ScreenBase".split(",");j.screens.ScreenBase.__super__=n.Element;j.screens.ScreenBase.prototype=
v(n.Element.prototype,{_onStateComplete:function(){this._flagStateCompleteTemp=!1;""!=this._states[this._stateIndex].outFunc&&g.WorkinCloud.instance.log("[ScreenBase](_onStateComplete) Out Func not supported in HTML5 yet");switch(this._states[this._stateIndex].actionOnComplete){case j.screens.data.ScreenStateData.ACTION_OPENED:this._setOpenedState();this._dispatcher.dispatchEvent(new p.WMEventScreenOut(d.ConstantsScreen.OUTPUT_OPENED,this.id));break;case j.screens.data.ScreenStateData.ACTION_CLOSED:this.setFlagDispose();
this._dispatcher.dispatchEvent(new p.WMEventScreenOut(d.ConstantsScreen.OUTPUT_CLOSED,this.id));break;case j.screens.data.ScreenStateData.ACTION_NEW_STATE:this._setState(this._states[this._stateIndex].actionData);break;case j.screens.data.ScreenStateData.ACTION_EVENT:this._dispatcher.dispatchEvent(new p.WMEvent(this._states[this._stateIndex].actionData));break;case j.screens.data.ScreenStateData.ACTION_FLOW:this._doFlowEvent(this._states[this._stateIndex].actionData)}},_findStateIndex:function(a){for(var b=
this._states.length-1;0<=b;){if(this._states[b].id==a)return b;b--}return-1},getState:function(){return this._states[this._stateIndex].id},_setState:function(a,b){null==b&&(b=!1);var c=this._findStateIndex(a);if(0>c)g.WorkinCloud.instance.log("[ScreenBase](_setState) ERROR : State >"+a+"< not found."),g.WorkinCloud.instance.log("[ScreenBase](_setState) cancelling setState().");else if(b||c!=this._stateIndex)this._flagStateAnimationComplete=this._flagStateCompleteTemp=!1,this._stateIndex=c},_addState:function(a,
b,c,i,d,e){null==e&&(e="");null==d&&(d="");null==i&&(i="");null==c&&(c=0);this._states.push(new j.screens.data.ScreenStateData(a,b,c,i,d,e))},isClosing:function(){return this.getState()==this._STATE_OUT},close:function(){this.setFlagDispose();this._dispatcher.dispatchEvent(new p.WMEventScreenOut(d.ConstantsScreen.OUTPUT_CLOSED,this.id))},suspend:function(){this._setState(this._STATE_SUSPENDED)},open:function(){this._setOpenedState();this._dispatcher.dispatchEvent(new p.WMEventScreenOut(d.ConstantsScreen.OUTPUT_OPENED,
this.id))},dispose:function(){this._states=null;n.Element.prototype.dispose.call(this)},reset:function(){this._setFirstState()},handleInput:function(a){var b=!0;switch(a.input){case d.ConstantsApp.INPUT_CLICK:switch(a.phase){case 1:this._onInputDown(a.x,a.y)||(b=!1);break;case 2:this._onInputMove(a.x,a.y)||(b=!1);break;case 0:this._onInputUp(a.x,a.y)||(b=!1)}break;default:this._onInput(a)||(b=!1)}return b},update:function(a){n.Element.prototype.update.call(this,a);this._flagStateCompleteTemp&&this._onStateComplete()},
_doFlowEvent:function(a){g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventFlow(a))},_buildButtons:function(){},_onInput:function(){return this.getState()!=this._STATE_OPENED?!1:!0},_onInputMove:function(){return this.getState()!=this._STATE_OPENED?!1:!0},_onInputUp:function(){return this.getState()!=this._STATE_OPENED?!1:!0},_onInputDown:function(){return this.getState()!=this._STATE_OPENED?!1:!0},_generateStates:function(){this._addState(this._STATE_IN,"in",j.screens.data.ScreenStateData.ACTION_OPENED);
this._addState(this._STATE_OUT,"out",j.screens.data.ScreenStateData.ACTION_CLOSED);this._addState(this._STATE_OPENED,"open");this._addState(this._STATE_SUSPENDED,"suspend")},_setOpenedState:function(){this._setState(this._STATE_OPENED)},_setFirstState:function(){this._setState(this._STATE_IN)},setFlagDispose:function(){this.flagDispose=!0},__class__:j.screens.ScreenBase});j.screens.ScreenEndGame=function(a,b,c){null==b&&(b="");this._BLINK_TIME=1;j.screens.ScreenBase.call(this,a,b,c);this._blinkTimer=
this._BLINK_TIME;this._counter=0;this._mouseDown=this._dragging=!1;this._addElement(this._spongeBob=new n.Element({x:d.ConstantsApp.STAGE_CENTER_X-300,y:d.ConstantsApp.STAGE_HEIGHT-210,origin:new f.WorkinPoint(0.5,0.5),asset:"gameover_HD_SB"}));this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X,60,"april_fools","",{origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X,140,"game_over","",{origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X-
15,275,"total_fails","",{origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(this._score0=new j.displays.DisplayFinalScores(d.ConstantsApp.STAGE_CENTER_X+100,261,0));this._score0.lock();this._addElement(this._buttonPlayAgain=new j.buttons.ButtonBase(d.ConstantsApp.STAGE_CENTER_X,d.ConstantsApp.STAGE_CENTER_Y+165,new f.WorkinPoint(0.5,0.5),"ui/splash/splash_button","ui/splash/splash_button","ui/splash/splash_button"))._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onBegin));
this._buttonPlayAgain.addText(new n.TextLocalized(0,0,"play_again","",{origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(this._krabbyPatty=new n.Element({x:d.ConstantsApp.STAGE_CENTER_X+280,y:d.ConstantsApp.STAGE_HEIGHT-125,origin:new f.WorkinPoint(0.5,0.5),asset:"gameover_patty"}));this._addElement(this._plankton=new n.Element({x:d.ConstantsApp.STAGE_CENTER_X+350,y:d.ConstantsApp.STAGE_HEIGHT-150,origin:new f.WorkinPoint(0.5,0.5),asset:"gameover_plankton"}));g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_TABLET);
this._addElement(this._hiddenText=new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X,d.ConstantsApp.STAGE_CENTER_Y+225,"easter_egg","",{origin:new f.WorkinPoint(0.5,0.5)}))};l["com.nick.nicktoons.april_fools_2013.ui.screens.ScreenEndGame"]=j.screens.ScreenEndGame;j.screens.ScreenEndGame.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,ScreenEndGame".split(",");j.screens.ScreenEndGame.__super__=j.screens.ScreenBase;j.screens.ScreenEndGame.prototype=v(j.screens.ScreenBase.prototype,{dispose:function(){this._score5=
this._score4=this._score3=this._score2=this._score1=this._score0=this._buttonPlayAgain=this._textClickToPlay=this._plankton=this._krabbyPatty=null;j.screens.ScreenBase.prototype.dispose.call(this)},checkInput:function(a,b){return this._krabbyPatty.hitTest(a,b)?this._dragging=!0:this._dragging=!1},handleInput:function(a){var b=!0;switch(a.input){case d.ConstantsApp.INPUT_CLICK:this._inX=a.x;this._inY=a.y;switch(a.phase){case p.WMEventInput.PHASE_DOWN:this._mouseDown=!0;this.checkInput(this._inX,this._inY);
break;case p.WMEventInput.PHASE_UP:this._mouseDown=!1}break;case d.ConstantsApp.INPUT_SPACE:break;default:this._onInput(a)||(b=!1)}return b},_redoLevel5:function(){g.WorkinCloud.instance._getSound().playSound("belch");if(this.getState()!=this._STATE_OPENED)return!1;if(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_INPUT_LOCK))return!0;this._doFlowEvent(d.ConstantsScreen.FLOW_BRANCH_GAME_WIN);g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_INPUT_LOCK,!0);return!1},_onBegin:function(){g.WorkinCloud.instance._getSound().playSound("fart");
switch(this._counter){case 0:this._buttonPlayAgain._getPos().x=g.WorkinUtils.getRandom(141.5,818.5);this._buttonPlayAgain._getPos().y=g.WorkinUtils.getRandom(32.5,527.5);break;case 1:this._buttonPlayAgain._getPos().x=g.WorkinUtils.getRandom(141.5,818.5);this._buttonPlayAgain._getPos().y=g.WorkinUtils.getRandom(32.5,527.5);break;case 2:if(this.getState()!=this._STATE_OPENED)return;this._doFlowEvent(d.ConstantsScreen.FLOW_SPLASH_PLAY)}this._counter++},update:function(a){j.screens.ScreenBase.prototype.update.call(this,
a);g.WorkinCloud.instance.getInput().getInput(d.ConstantsApp.INPUT_CLICK);this._krabbyPatty._getPos().x<d.ConstantsApp.STAGE_CENTER_X-100&&this._krabbyPatty._getPos().y>d.ConstantsApp.STAGE_CENTER_Y&&(g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_EASTER_EGG_UNLOCKED,!0),this._redoLevel5());this._dragging&&this._mouseDown&&(this._krabbyPatty._getPos().x=this._inX,this._krabbyPatty._getPos().y=this._inY)},__class__:j.screens.ScreenEndGame});j.screens.ScreenGameWin=function(a,b,c){null==b&&(b="");
this._BLINK_TIME=1;j.screens.ScreenBase.call(this,a,b,c);this._blinkTimer=this._BLINK_TIME;this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X,90,"april_fools","",{origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X,150,"game_complete","",{origin:new f.WorkinPoint(0.5,0.5)}));a=g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_TABLET)?"tap_anywhere":"click_anywhere";this._textClickToPlay=this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X,
d.ConstantsApp.STAGE_HEIGHT-100,a,"",{origin:new f.WorkinPoint(0.5,0.5)}))};l["com.nick.nicktoons.april_fools_2013.ui.screens.ScreenGameWin"]=j.screens.ScreenGameWin;j.screens.ScreenGameWin.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,ScreenGameWin".split(",");j.screens.ScreenGameWin.__super__=j.screens.ScreenBase;j.screens.ScreenGameWin.prototype=v(j.screens.ScreenBase.prototype,{_onInputDown:function(){if(this.getState()!=this._STATE_OPENED)return!1;if(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_INPUT_LOCK))return!0;
this._doFlowEvent(d.ConstantsScreen.FLOW_SPLASH_PLAY);g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_INPUT_LOCK,!0);return!1},handleInput:function(a){var b=!0;switch(a.input){case d.ConstantsApp.INPUT_CLICK:switch(a.phase){case 1:this._onInputDown(a.x,a.y)||(b=!1);break;case 2:this._onInputMove(a.x,a.y)||(b=!1);break;case 0:this._onInputUp(a.x,a.y)||(b=!1)}break;case d.ConstantsApp.INPUT_SPACE:break;default:this._onInput(a)||(b=!1)}return b},update:function(a){j.screens.ScreenBase.prototype.update.call(this,
a);this._blinkTimer-=a;0>=this._blinkTimer&&(0==this._textClickToPlay._getRenderable().alpha?(this._blinkTimer=this._BLINK_TIME,this._textClickToPlay._getRenderable().alpha=1):(this._blinkTimer=this._BLINK_TIME/2,this._textClickToPlay._getRenderable().alpha=0))},__class__:j.screens.ScreenGameWin});j.screens.ScreenGameplayHUD=function(a,b,c){null==b&&(b="");this._flagFirstAppearance=!0;j.screens.ScreenBase.call(this,a,b,c);this._addElement(new n.Element({asset:"ui/gameplay_hud/fail_container",x:d.ConstantsApp.STAGE_CENTER_X-
65,y:0,origin:new f.WorkinPoint(0.5,0)}));this._addElement(new j.displays.DisplayScore(d.ConstantsApp.STAGE_CENTER_X-40,18));this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X-100,18,"fails","",{origin:new f.WorkinPoint(0.5,0)}));this._addElement(new n.Element({asset:"screen_border",x:d.ConstantsApp.STAGE_CENTER_X,y:d.ConstantsApp.STAGE_CENTER_Y,origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(new j.buttons.ButtonBase(d.ConstantsApp.STAGE_CENTER_X+125,0,new f.WorkinPoint(0.5,
0),"ui/gameplay_hud/pause_button","ui/gameplay_hud/pause_button","ui/gameplay_hud/pause_button"))._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventPauseClick))};l["com.nick.nicktoons.april_fools_2013.ui.screens.ScreenGameplayHUD"]=j.screens.ScreenGameplayHUD;j.screens.ScreenGameplayHUD.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,ScreenGameplayHUD".split(",");j.screens.ScreenGameplayHUD.__super__=j.screens.ScreenBase;j.screens.ScreenGameplayHUD.prototype=
v(j.screens.ScreenBase.prototype,{update:function(a){j.screens.ScreenBase.prototype.update.call(this,a)},_onEventPauseClick:function(){g.WorkinCloud.instance._getSound().playSound("button_click",2);this._doFlowEvent(d.ConstantsScreen.FLOW_GAMEPLAY_MENU)},__class__:j.screens.ScreenGameplayHUD});j.screens.ScreenGameplayMenu=function(a,b,c){null==b&&(b="");j.screens.ScreenBase.call(this,a,b,c);this._pos.x=d.ConstantsApp.STAGE_WIDTH/2;this._pos.y=-d.ConstantsApp.STAGE_HEIGHT/2;f.tween.WorkinTweener._getInstance().tween(this._getPos(),
0.5,{y:d.ConstantsApp.STAGE_HEIGHT/2},null,null,!1).ease(f.tween.PennerManager.EASE_IN);this._soundIsMuted=g.WorkinCloud.instance._getSound().getMute();this._addElement(new n.Element({asset:"ui/AssetScreenGameplayHud",x:0,y:0,origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(new n.Element({asset:"ui/menu/updated_pause_screen",x:0,y:0,origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(new j.buttons.ButtonBase(-70,-50,new f.WorkinPoint(0.5,0.5),"ui/menu/pause_icon_resume","ui/menu/pause_icon_resume",
"ui/menu/pause_icon_resume"))._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventResumeClick));this._addElement(new j.buttons.ButtonBase(80,-50,new f.WorkinPoint(0.5,0.5),"ui/menu/pause_icon_help","ui/menu/pause_icon_help","ui/menu/pause_icon_help"))._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventHelpClick));this._soundIsMuted?(this._buttonSoundOff=new j.buttons.ButtonBase(-70,50,new f.WorkinPoint(0.5,0.5),"ui/menu/pause_icon_sound_off",
"ui/menu/pause_icon_sound_off","ui/menu/pause_icon_sound_off"),this._addElement(this._buttonSoundOff)._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventSoundToggleClick))):(this._buttonSoundOn=new j.buttons.ButtonBase(-70,50,new f.WorkinPoint(0.5,0.5),"ui/menu/pause_icon_sound_on","ui/menu/pause_icon_sound_on","ui/menu/pause_icon_sound_on"),this._addElement(this._buttonSoundOn)._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventSoundToggleClick)));
this._addElement(new j.buttons.ButtonBase(80,50,new f.WorkinPoint(0.5,0.5),"ui/menu/pause_icon_quit","ui/menu/pause_icon_quit","ui/menu/pause_icon_quit"))._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventQuitClick))};l["com.nick.nicktoons.april_fools_2013.ui.screens.ScreenGameplayMenu"]=j.screens.ScreenGameplayMenu;j.screens.ScreenGameplayMenu.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,ScreenGameplayMenu".split(",");j.screens.ScreenGameplayMenu.__super__=
j.screens.ScreenBase;j.screens.ScreenGameplayMenu.prototype=v(j.screens.ScreenBase.prototype,{dispose:function(){j.screens.ScreenBase.prototype.dispose.call(this);this._buttonQuit=this._buttonResume=this._buttonSoundOff=this._buttonSoundOn=this._buttonHelp=null},_removeEventListeners:function(){j.screens.ScreenBase.prototype._removeEventListeners.call(this)},_addEventListeners:function(){j.screens.ScreenBase.prototype._addEventListeners.call(this)},_onEventQuitClick:function(){g.WorkinCloud.instance._getSound().playSound("button_click");
this.getState()==this._STATE_OPENED&&this._doFlowEvent(d.ConstantsScreen.FLOW_GAMEPLAY_MENU_QUIT)},unPause:function(){this._doFlowEvent(d.ConstantsScreen.FLOW_GAMEPLAY_MENU_CLOSE)},_onEventResumeClick:function(){g.WorkinCloud.instance._getSound().playSound("button_click");if(this.getState()==this._STATE_OPENED)f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.5,{y:-d.ConstantsApp.STAGE_HEIGHT/2},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.unPause))},_onEventSoundToggleClick:function(){g.WorkinCloud.instance._getSound().playSound("button_click");
!1==this._soundIsMuted?(this._soundIsMuted=!0,g.WorkinCloud.instance._getSound().setMute(this._soundIsMuted),this._buttonSoundOff=new j.buttons.ButtonBase(-70,50,new f.WorkinPoint(0.5,0.5),"ui/menu/pause_icon_sound_off","ui/menu/pause_icon_sound_off","ui/menu/pause_icon_sound_off"),this._addElement(this._buttonSoundOff)._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventSoundToggleClick)),this._buttonSoundOn._getDispatcher().removeEventListener(j.buttons.ButtonBase.CLICK,
r(this,this._onEventSoundToggleClick)),this._entity.removeChild(this._buttonSoundOn._getEntity())):(this._soundIsMuted=!1,g.WorkinCloud.instance._getSound().setMute(this._soundIsMuted),this._buttonSoundOn=new j.buttons.ButtonBase(-70,50,new f.WorkinPoint(0.5,0.5),"ui/menu/pause_icon_sound_on","ui/menu/pause_icon_sound_on","ui/menu/pause_icon_sound_on"),this._addElement(this._buttonSoundOn)._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventSoundToggleClick)),this._buttonSoundOff._getDispatcher().removeEventListener(j.buttons.ButtonBase.CLICK,
r(this,this._onEventSoundToggleClick)),this._entity.removeChild(this._buttonSoundOff._getEntity()))},_onEventHelpClick:function(){g.WorkinCloud.instance._getSound().playSound("button_click");this.getState()==this._STATE_OPENED&&this._doFlowEvent(d.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP)},__class__:j.screens.ScreenGameplayMenu});j.screens.ScreenGeneric=function(a,b,c){null==b&&(b="");j.screens.ScreenBase.call(this,a,b,c);this._flagHasSpaceAction=!1};l["com.nick.nicktoons.april_fools_2013.ui.screens.ScreenGeneric"]=
j.screens.ScreenGeneric;j.screens.ScreenGeneric.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,ScreenGeneric".split(",");j.screens.ScreenGeneric.__super__=j.screens.ScreenBase;j.screens.ScreenGeneric.prototype=v(j.screens.ScreenBase.prototype,{_onInputMove:function(){return!1},_onInputUp:function(){return!1},_onInputDown:function(){return!1},__class__:j.screens.ScreenGeneric});j.screens.ScreenHelp=function(a,b,c){null==b&&(b="");j.screens.ScreenBase.call(this,a,b,c);this._pos.x=d.ConstantsApp.STAGE_CENTER_X;
this._pos.y=d.ConstantsApp.STAGE_CENTER_Y;this._render.scaleX=0;this._render.scaleY=0;f.tween.WorkinTweener._getInstance().tween(this._render,0.25,{scaleX:1,scaleY:1},null,null,!1).ease(f.tween.PennerManager.EASE_IN);this._addElement(new n.Element({asset:"ui/quit_confirm/quitconfirm_screen",x:0,y:0,origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(new n.TextLocalized(0,-50,"krabby_patty","",{origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(this._button=new j.buttons.ButtonBase(0,20,new f.WorkinPoint(0.5,
0.5),"ui/quit_confirm/quitconfirm_button","ui/quit_confirm/quitconfirm_button","ui/quit_confirm/quitconfirm_button"))._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventPlayClick));this._button.addText(new n.TextLocalized(0,0,"ok","",{origin:new f.WorkinPoint(0.5,0.5)}))};l["com.nick.nicktoons.april_fools_2013.ui.screens.ScreenHelp"]=j.screens.ScreenHelp;j.screens.ScreenHelp.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,ScreenHelp".split(",");j.screens.ScreenHelp.__super__=
j.screens.ScreenBase;j.screens.ScreenHelp.prototype=v(j.screens.ScreenBase.prototype,{resume:function(){this._doFlowEvent(d.ConstantsScreen.FLOW_HELP_CLOSE)},_onEventPlayClick:function(){g.WorkinCloud.instance._getSound().playSound("button_click");this.getState()==this._STATE_OPENED&&(f.tween.WorkinTweener._getInstance().tween(this._render,0.25,{scaleX:0,scaleY:0}).ease(f.tween.PennerManager.EASE_QUAD_OUT),f.tween.WorkinTweener._getInstance().tween(this._render,0.25,{scaleX:0,scaleY:0},null,null,
!1).ease(f.tween.PennerManager.EASE_ELASTIC_OUT).onComplete(r(this,this.resume)))},__class__:j.screens.ScreenHelp});j.screens.ScreenLevelWin=function(a,b,c){null==b&&(b="");this._BLINK_TIME=1;j.screens.ScreenBase.call(this,a,b,c);this._blinkTimer=this._BLINK_TIME;this._addElement(new n.Element({asset:"ui/menu/pause_screen",x:d.ConstantsApp.STAGE_CENTER_X,y:d.ConstantsApp.STAGE_CENTER_Y,origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X,210,"level_complete",
"",{origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X-75+60,330,"number_fails","",{origin:new f.WorkinPoint(0.5,0.5)}));this._score=new j.displays.DisplayScore(d.ConstantsApp.STAGE_CENTER_X+40+60,320);this._score.lock();this._addElement(this._score);a=g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_TABLET)?"tap_anywhere_continue":"hit_space_again";this._textClickToPlay=this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X,d.ConstantsApp.STAGE_HEIGHT-
60,a,"",{origin:new f.WorkinPoint(0.5,0.5)}))};l["com.nick.nicktoons.april_fools_2013.ui.screens.ScreenLevelWin"]=j.screens.ScreenLevelWin;j.screens.ScreenLevelWin.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,ScreenLevelWin".split(",");j.screens.ScreenLevelWin.__super__=j.screens.ScreenBase;j.screens.ScreenLevelWin.prototype=v(j.screens.ScreenBase.prototype,{_onInputDown:function(){if(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_TABLET)){if(this.getState()!=this._STATE_OPENED)return!1;
if(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_INPUT_LOCK))return!0;this._doFlowEvent(d.ConstantsScreen.FLOW_NEXT_LEVEL);g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_INPUT_LOCK,!0)}return!1},_continue:function(){this.getState()==this._STATE_OPENED&&(g.WorkinCloud.instance._getSound().playSound("button_click"),this._doFlowEvent(d.ConstantsScreen.FLOW_NEXT_LEVEL))},handleInput:function(a){var b=!0;switch(a.input){case d.ConstantsApp.INPUT_CLICK:switch(a.phase){case 1:this._onInputDown(a.x,
a.y)||(b=!1);break;case 2:this._onInputMove(a.x,a.y)||(b=!1);break;case 0:this._onInputUp(a.x,a.y)||(b=!1)}break;case d.ConstantsApp.INPUT_SPACE:switch(a.phase){case 1:this._continue()}break;default:this._onInput(a)||(b=!1)}return b},update:function(a){j.screens.ScreenBase.prototype.update.call(this,a);this._blinkTimer-=a;0>=this._blinkTimer&&(0==this._textClickToPlay._getRenderable().alpha?(this._blinkTimer=this._BLINK_TIME,this._textClickToPlay._getRenderable().alpha=1):(this._blinkTimer=this._BLINK_TIME/
2,this._textClickToPlay._getRenderable().alpha=0))},__class__:j.screens.ScreenLevelWin});j.screens.ScreenLoading=function(a,b,c){null==b&&(b="");j.screens.ScreenBase.call(this,a,b,c);this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X,210,"loading","",{origin:new f.WorkinPoint(0.5,0.5)}));this._timerSpin=0.35;this._counter=0;this._addElement(this._loadDot1=new n.Element({x:d.ConstantsApp.STAGE_CENTER_X-120,y:d.ConstantsApp.STAGE_CENTER_Y+50,origin:new f.WorkinPoint(0.5,0.5),asset:"loader_dot_OFF"}));
this._addElement(this._loadDot2=new n.Element({x:d.ConstantsApp.STAGE_CENTER_X-40,y:d.ConstantsApp.STAGE_CENTER_Y+50,origin:new f.WorkinPoint(0.5,0.5),asset:"loader_dot_OFF"}));this._addElement(this._loadDot3=new n.Element({x:d.ConstantsApp.STAGE_CENTER_X+40,y:d.ConstantsApp.STAGE_CENTER_Y+50,origin:new f.WorkinPoint(0.5,0.5),asset:"loader_dot_OFF"}));this._addElement(this._loadDot4=new n.Element({x:d.ConstantsApp.STAGE_CENTER_X+120,y:d.ConstantsApp.STAGE_CENTER_Y+50,origin:new f.WorkinPoint(0.5,
0.5),asset:"loader_dot_OFF"}))};l["com.nick.nicktoons.april_fools_2013.ui.screens.ScreenLoading"]=j.screens.ScreenLoading;j.screens.ScreenLoading.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,ScreenLoading".split(",");j.screens.ScreenLoading.__super__=j.screens.ScreenBase;j.screens.ScreenLoading.prototype=v(j.screens.ScreenBase.prototype,{dispose:function(){j.screens.ScreenBase.prototype.dispose.call(this)},update:function(a){j.screens.ScreenBase.prototype.update.call(this,a);this._timerSpin-=
a;if(0>=this._timerSpin){3<this._counter&&(this._counter=0);switch(this._counter){case 0:this._loadDot4.setTexture("loader_dot_OFF");this._loadDot1.setTexture("loader_dot_ON");break;case 1:this._loadDot1.setTexture("loader_dot_OFF");this._loadDot2.setTexture("loader_dot_ON");break;case 2:this._loadDot2.setTexture("loader_dot_OFF");this._loadDot3.setTexture("loader_dot_ON");break;case 3:this._loadDot3.setTexture("loader_dot_OFF"),this._loadDot4.setTexture("loader_dot_ON")}this._timerSpin=0.35;this._counter++}},
__class__:j.screens.ScreenLoading});j.screens.ScreenQuitConfirm=function(a,b,c){j.screens.ScreenBase.call(this,a,b,c);this._pos.x=d.ConstantsApp.STAGE_WIDTH/2;this._pos.y=d.ConstantsApp.STAGE_HEIGHT;f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.3,{y:d.ConstantsApp.STAGE_HEIGHT/2+90},null,null,!1).ease(f.tween.PennerManager.EASE_IN);this._addElement(new n.Element({asset:"ui/quit_confirm/quitconfirm_screen",x:0,y:0,origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(new n.TextLocalized(0,
-70,"quit_confirm_header","",{origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(new n.TextLocalized(0,-35,"quit_confirm_header_2","",{origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(this._buttonYes=new j.buttons.ButtonBase(-100,25,new f.WorkinPoint(0.5,0.5),"ui/quit_confirm/quitconfirm_button","ui/quit_confirm/quitconfirm_button","ui/quit_confirm/quitconfirm_button"))._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onYesClick));this._buttonYes.addText(new n.TextLocalized(0,
0,"yes","",{origin:new f.WorkinPoint(0.5,0.5)}));this._addElement(this._buttonNo=new j.buttons.ButtonBase(100,25,new f.WorkinPoint(0.5,0.5),"ui/quit_confirm/quitconfirm_button","ui/quit_confirm/quitconfirm_button","ui/quit_confirm/quitconfirm_button"))._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onNoClick));this._buttonNo.addText(new n.TextLocalized(0,0,"no","",{origin:new f.WorkinPoint(0.5,0.5)}))};l["com.nick.nicktoons.april_fools_2013.ui.screens.ScreenQuitConfirm"]=
j.screens.ScreenQuitConfirm;j.screens.ScreenQuitConfirm.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,ScreenQuitConfirm".split(",");j.screens.ScreenQuitConfirm.__super__=j.screens.ScreenBase;j.screens.ScreenQuitConfirm.prototype=v(j.screens.ScreenBase.prototype,{closeMenu:function(){this._flagQuit?this._doFlowEvent(d.ConstantsScreen.FLOW_GAMEPLAY_QUIT_YES):this._doFlowEvent(d.ConstantsScreen.FLOW_GAMEPLAY_QUIT_NO)},_onNoClick:function(){g.WorkinCloud.instance._getSound().playSound("button_click");
this.getState()==this._STATE_OPENED&&(this._flagQuit=!1,f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.3,{y:d.ConstantsApp.STAGE_HEIGHT},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.closeMenu)))},_onYesClick:function(){g.WorkinCloud.instance._getSound().playSound("plankton_cackle");g.WorkinCloud.instance._getSound().playSound("button_click");this.getState()==this._STATE_OPENED&&(this._flagQuit=!0,f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.3,
{y:d.ConstantsApp.STAGE_HEIGHT},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.closeMenu)))},dispose:function(){j.screens.ScreenBase.prototype.dispose.call(this)},__class__:j.screens.ScreenQuitConfirm});j.screens.ScreenScreenshot=function(){};l["com.nick.nicktoons.april_fools_2013.ui.screens.ScreenScreenshot"]=j.screens.ScreenScreenshot;j.screens.ScreenScreenshot.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,ScreenScreenshot".split(",");j.screens.ScreenScreenshot.__super__=
j.screens.ScreenBase;j.screens.ScreenScreenshot.prototype=v(j.screens.ScreenBase.prototype,{dispose:function(){j.screens.ScreenBase.prototype.dispose.call(this)},__class__:j.screens.ScreenScreenshot});j.screens.ScreenSplash=function(a,b,c){null==b&&(b="");this._BLINK_TIME=1;j.screens.ScreenBase.call(this,a,b,c);this._soundIsMuted=g.WorkinCloud.instance._getSound().getMute();this._blinkTimer=this._BLINK_TIME;this._counter=0;"en"!=g.WorkinCloud.instance.getString(G.ConstantsCloud.STRING_REGION_ID)&&
(this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X,150,"title","",{origin:new f.WorkinPoint(0.5,0.5)})),this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X,250,"title2","",{origin:new f.WorkinPoint(0.5,0.5)})),this._addElement(new n.TextLocalized(d.ConstantsApp.STAGE_CENTER_X,350,"title3","",{origin:new f.WorkinPoint(0.5,0.5)})),this._addElement(new n.TextLocalized(110,30,"nickelodeon","",{origin:new f.WorkinPoint(0.5,0.5)})),this._addElement(new n.TextLocalized(110,
60,"spongebob","",{origin:new f.WorkinPoint(0.5,0.5)})),this._addElement(new n.TextLocalized(110,90,"squarepants","",{origin:new f.WorkinPoint(0.5,0.5)})));this._buttonPlay=new j.buttons.ButtonBase(d.ConstantsApp.STAGE_CENTER_X+125,495,new f.WorkinPoint(0.5,0.5),"ui/splash/splash_button","ui/splash/splash_button","ui/splash/splash_button");this._addElement(this._buttonPlay)._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onBegin));this._buttonPlay.addText(new n.TextLocalized(0,
0,"play","",{origin:new f.WorkinPoint(0.5,0.5)}));this._soundIsMuted?(this._buttonSoundOff=new j.buttons.ButtonBase(860,475,new f.WorkinPoint(0.5,0.5),"ui/splash/splash_sound_OFF","ui/splash/splash_sound_OFF","ui/splash/splash_sound_OFF"),this._addElement(this._buttonSoundOff)._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventSoundToggleClick))):(this._buttonSoundOn=new j.buttons.ButtonBase(860,475,new f.WorkinPoint(0.5,0.5),"ui/splash/splash_sound_ON","ui/splash/splash_sound_ON",
"ui/splash/splash_sound_ON"),this._addElement(this._buttonSoundOn)._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventSoundToggleClick)))};l["com.nick.nicktoons.april_fools_2013.ui.screens.ScreenSplash"]=j.screens.ScreenSplash;j.screens.ScreenSplash.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,ScreenSplash".split(",");j.screens.ScreenSplash.__super__=j.screens.ScreenBase;j.screens.ScreenSplash.prototype=v(j.screens.ScreenBase.prototype,{_onEventSoundToggleClick:function(){g.WorkinCloud.instance._getSound().playSound("button_click");
!1==this._soundIsMuted?(this._soundIsMuted=!0,g.WorkinCloud.instance._getSound().setMute(this._soundIsMuted),this._buttonSoundOff=new j.buttons.ButtonBase(860,475,new f.WorkinPoint(0.5,0.5),"ui/splash/splash_sound_OFF","ui/splash/splash_sound_OFF","ui/splash/splash_sound_OFF"),this._addElement(this._buttonSoundOff)._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventSoundToggleClick)),this._buttonSoundOn._getDispatcher().removeEventListener(j.buttons.ButtonBase.CLICK,
r(this,this._onEventSoundToggleClick)),this._entity.removeChild(this._buttonSoundOn._getEntity())):(this._soundIsMuted=!1,g.WorkinCloud.instance._getSound().setMute(this._soundIsMuted),this._buttonSoundOn=new j.buttons.ButtonBase(860,475,new f.WorkinPoint(0.5,0.5),"ui/splash/splash_sound_ON","ui/splash/splash_sound_ON","ui/splash/splash_sound_ON"),this._addElement(this._buttonSoundOn)._getDispatcher().addEventListener(j.buttons.ButtonBase.CLICK,r(this,this._onEventSoundToggleClick)),this._buttonSoundOff._getDispatcher().removeEventListener(j.buttons.ButtonBase.CLICK,
r(this,this._onEventSoundToggleClick)),this._entity.removeChild(this._buttonSoundOff._getEntity()))},_onBegin:function(){g.WorkinCloud.instance._getSound().playSound("fart");switch(this._counter){case 0:this._buttonPlay._getPos().x=g.WorkinUtils.getRandom(141.5,818.5);this._buttonPlay._getPos().y=g.WorkinUtils.getRandom(32.5,527.5);break;case 1:this._buttonPlay._getPos().x=g.WorkinUtils.getRandom(141.5,818.5);this._buttonPlay._getPos().y=g.WorkinUtils.getRandom(32.5,527.5);break;case 2:if(this.getState()!=
this._STATE_OPENED)return;this._doFlowEvent(d.ConstantsScreen.FLOW_SPLASH_PLAY)}this._counter++},update:function(a){j.screens.ScreenBase.prototype.update.call(this,a)},__class__:j.screens.ScreenSplash});j.screens.data={};j.screens.data.ChangeActionData=function(){};l["com.nick.nicktoons.april_fools_2013.ui.screens.data.ChangeActionData"]=j.screens.data.ChangeActionData;j.screens.data.ChangeActionData.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,data,ChangeActionData".split(",");j.screens.data.ChangeActionData.prototype=
{_getAction:function(){return this._action},_getChangeEvent:function(){return this._changeEvent},_getScreenId:function(){return this._screenId},__class__:j.screens.data.ChangeActionData};j.screens.data.ScreenData=function(a,b,c,i,d){null==i&&(i=0);null==c&&(c="");this.id=a;this.screenClass=b;this.assetClassName=c;this.layer=i;this.data=null==d?new F:d};l["com.nick.nicktoons.april_fools_2013.ui.screens.data.ScreenData"]=j.screens.data.ScreenData;j.screens.data.ScreenData.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,data,ScreenData".split(",");
j.screens.data.ScreenData.prototype={__class__:j.screens.data.ScreenData};j.screens.data.ScreenQueueData=function(a,b,c){null==c&&(c="");this.screenData=a;this.openCondition=b;this.openTestString=c};l["com.nick.nicktoons.april_fools_2013.ui.screens.data.ScreenQueueData"]=j.screens.data.ScreenQueueData;j.screens.data.ScreenQueueData.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,data,ScreenQueueData".split(",");j.screens.data.ScreenQueueData.prototype={validateCondition:function(a,b){null==
b&&(b="");return this.openCondition==a?""==this.openTestString||this.openTestString==b:!1},__class__:j.screens.data.ScreenQueueData};j.screens.data.ScreenStateData=function(a,b,c,i,d,e){this.id=a;this.animation=b;this.actionOnComplete=c;this.actionData=i;this.inFunc=d;this.outFunc=e};l["com.nick.nicktoons.april_fools_2013.ui.screens.data.ScreenStateData"]=j.screens.data.ScreenStateData;j.screens.data.ScreenStateData.__name__="com,nick,nicktoons,april_fools_2013,ui,screens,data,ScreenStateData".split(",");
j.screens.data.ScreenStateData.prototype={__class__:j.screens.data.ScreenStateData};j.transitions={};j.transitions.TransitionBase=function(a,b,c,i){null==i&&(i="");null==c&&(c=!1);null==b&&(b=!0);this._STATE_OUT=3;this._STATE_IDLE=2;this._STATE_IN=1;this._STATE_HIDDEN=0;this._transitionId=i;this._flagOutOnly=c;this.flagDispose=!1;n.Element.call(this,{asset:a});b?this._setState(this._STATE_HIDDEN):this._flagOutOnly?this._setState(this._STATE_OUT):this._setState(this._STATE_IN)};l["com.nick.nicktoons.april_fools_2013.ui.transitions.TransitionBase"]=
j.transitions.TransitionBase;j.transitions.TransitionBase.__name__="com,nick,nicktoons,april_fools_2013,ui,transitions,TransitionBase".split(",");j.transitions.TransitionBase.__super__=n.Element;j.transitions.TransitionBase.prototype=v(n.Element.prototype,{dispose:function(){n.Element.prototype.dispose.call(this);this._mc=null},_setState:function(a){this._state=a;switch(this._state){case this._STATE_HIDDEN:this.hide()}},show:function(){this._mc.set_visible(!0)},hide:function(){this._mc.set_visible(!1)},
start:function(){this.show();this._setState(this._STATE_IN)},update:function(a){n.Element.prototype.update.call(this,a)},_getIsOutro:function(){return this._state==this._STATE_OUT},__class__:j.transitions.TransitionBase});k={World:function(a){this.TIMER_STACK=0.1;this._STATE_GAMEOVER=2;this._STATE_GAMEPLAY=1;this._STATE_INITIALIZING=0;p.WMEventDispatcher.call(this);this._timeline=a;this._timerCrystal=0.2;this._flagToggle=!1;this._elementManager=new n.ElementManager(this._timeline,d.ConstantsApp.STAGE_CENTER_X,
d.ConstantsApp.STAGE_CENTER_Y);this._elementManager.addLayer(d.ConstantsApp.LAYER_BG);this._elementManager.addLayer(d.ConstantsApp.LAYER_PLAYER);this._elementManager.addLayer(d.ConstantsApp.LAYER_FG);this._elementManager.addLayer(d.ConstantsApp.LAYER_HD_CHAR);this._level=g.WorkinCloud.instance.getInt(d.ConstantsApp.INT_LEVEL);4<this._level&&(this._level=0,g.WorkinCloud.instance.setInt(d.ConstantsApp.INT_LEVEL,0));this.stack([r(this,this._initParticles),r(this,this._initLevel),r(this,this._initObstacles),
r(this,this._initPlayer),r(this,this._initHD),r(this,this._onGenerationComplete)]);this._setState(this._STATE_INITIALIZING)}};l["com.nick.nicktoons.april_fools_2013.world.World"]=k.World;k.World.__name__="com,nick,nicktoons,april_fools_2013,world,World".split(",");k.World.__super__=p.WMEventDispatcher;k.World.prototype=v(p.WMEventDispatcher.prototype,{_initObstacles4:function(){this._jellyFish=[];for(var a=0,b=160,c=230,i=0,d=!1,i=!1,e=0;3>a;){0==a%2?(d=!0,c=266):(d=!1,c=230);switch(a){case 0:c=335;
i=!1;e=95;break;case 1:b=580;c=350;i=!1;e=85;break;case 2:b=450,c=220,i=!0,e=100}c=new k.obstacles.JellyFish({x:b,y:c,staggerY:d,staggerX:i,fps:1,bobRate:1.2,bobOffset:e});this._elementManager.addElement(c);this._jellyFish.push(c);b+=50;a++}this._geysers=[];for(var a=0,b=440,c=340,i=180,e=0.5,f=1.5;3>a;){d=0==a%2?!1:!0;switch(a){case 0:i=-90;break;case 1:b=815;c=200;i=180;f=1;break;case 2:b=0,c=100,i=90,e=2,f=5}d=new k.obstacles.Geyser({x:b,y:c,fps:1,rotation:i,stagger:d,eruptTimer:e,bubbleLifeSpan:f});
this._elementManager.addElement(d);this._geysers.push(d);b+=50;a++}},_initObstacles3:function(){this._jellyFish=[];for(var a=0,b=570,c=230,i=0,d=!1,i=!1;3>a;){0==a%2?(d=!0,c=266):(d=!1,c=230);switch(a){case 0:c=340;i=!1;break;case 1:c=340;i=!1;break;case 2:b=350,c=120,i=!0}c=new k.obstacles.JellyFish({x:b,y:c,staggerY:d,staggerX:i,fps:1,bobRate:1.2,bobOffset:120});this._elementManager.addElement(c);this._jellyFish.push(c);b+=50;a++}this._geysers=[];for(var a=0,b=450,c=380,i=180,e=0.75,f=1.01;6>a;){d=
0==a%2?!1:!0;switch(a){case 2:b=750;break;case 4:i=-90;f=0.5;c=300;b=960;break;case 5:f=1.01,i=0,b=220,c=340,e=1}d=new k.obstacles.Geyser({x:b,y:c,fps:1,rotation:i,stagger:d,eruptTimer:e,bubbleLifeSpan:f});this._elementManager.addElement(d);this._geysers.push(d);b+=50;a++}},_initObstacles2:function(){this._jellyFish=[];for(var a=0,b=350,c=230,i=0,d,e;2>a;)d=0==a%2?!0:!1,c=250,e=new k.obstacles.JellyFish({x:b,y:c,staggerY:d,fps:1}),this._elementManager.addElement(e),this._jellyFish.push(e),b+=250,
a++;this._geysers=[];a=0;b=350;for(e=1.01;4>a;){0==a%2?(d=!1,c=380,i=180):(d=!0,c=500,i=0);switch(a){case 1:e=2;break;case 2:e=1.01;break;case 3:b=0,c=260,i=90}c=new k.obstacles.Geyser({x:b,y:c,fps:1,rotation:i,stagger:d,bubbleLifeSpan:e});this._elementManager.addElement(c);this._geysers.push(c);b+=150;a++}},_initObstacles1:function(){this._jellyFish=[];for(var a=0,b=150,c=230,i=0,d;4>a;)d=0==a%2?!0:!1,c=250,c=new k.obstacles.JellyFish({x:b,y:c,staggerY:d,fps:1}),this._elementManager.addElement(c),
this._jellyFish.push(c),b+=200,a++;this._geysers=[];for(var a=0,b=100,c=180,e=1.5,f=1;3>a;){switch(a){case 0:c=560;b=430;break;case 1:c=560;b=490;break;case 2:c=125,b=960,i=-90,e=2,f=1.5}d=new k.obstacles.Geyser({x:b,y:c,fps:1,rotation:i,eruptTimer:f,bubbleLifeSpan:e});this._elementManager.addElement(d);this._geysers.push(d);b+=150;a++}},_initObstacles0:function(){this._jellyFish=[];var a=0,b=150,c=230,i=0,d=!1,i=!1,e=0,f=1.2,g;for(this._jellyFish=[];6>a;){switch(a){case 0:c=337;b=700;e=105;d=!0;
i=!1;break;case 2:b=520;c=135;e=80;i=!0;break;case 4:b=320;c=360;e=80;f=0.8;d=!0;i=!1;break;case 5:b=520,c=280,e=60,f=0.8,d=!1}g=new k.obstacles.JellyFish({x:b,y:c,staggerY:d,staggerX:i,fps:1,bobRate:f,bobOffset:e});this._elementManager.addElement(g);this._jellyFish.push(g);b+=50;a++}this._geysers=[];a=0;c=560;i=0;for(f=1.5;6>a;){switch(a){case 0:b=215;f=2.75;break;case 1:b=265;f=1.5;break;case 2:b=420;f=2.75;d=!0;break;case 3:b=470;f=1.5;break;case 4:b=615;f=2.75;d=!1;break;case 5:b=665,f=1.5}e=
new k.obstacles.Geyser({x:b,y:c,fps:1,rotation:i,stagger:d,eruptTimer:1,bubbleLifeSpan:f});this._elementManager.addElement(e);this._geysers.push(e);b+=50;a++}},_initLevel4:function(){this._tiles=[];var a=0,b=0,c=0,i=180,e,f=d.ConstantsApp.TYPE_PLATFORM;if(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_EASTER_EGG_UNLOCKED))for(;3>a;){for(;24>b;){switch(a){case 0:switch(b){case 4:case 18:c+=80;b+=2;break;case 8:case 13:c+=120,b+=3}break;case 1:switch(b){case 3:c+=120;i+=20;b+=3;break;case 8:c+=
120;i-=40;b+=3;break;case 13:c+=120;i+=20;b+=3;break;case 18:c+=80,b+=2}break;case 2:switch(b){case 6:case 11:case 16:c+=120,b+=3}}e=new k.elements.Tile({x:c,y:i,type:f});this._elementManager.addElement(e);this._tiles.push(e);c+=40;b++}c=b=0;i+=160;a++}else{for(;3>a;){for(;24>b;){switch(a){case 0:switch(b){case 0:case 1:case 2:case 3:case 20:case 21:case 22:case 23:f=d.ConstantsApp.TYPE_PLATFORM;break;case 4:case 5:case 8:case 9:case 10:case 13:case 14:case 15:case 18:case 19:f=d.ConstantsApp.TYPE_TRICK_PLATFORM;
break;case 6:case 7:case 11:case 12:case 16:case 17:f=d.ConstantsApp.TYPE_INVIS_PLATFORM;break;default:f=d.ConstantsApp.TYPE_INVIS_PLATFORM}break;case 1:switch(b){case 3:c+=120;i+=20;b+=3;break;case 8:c+=120;i-=40;b+=3;break;case 13:c+=120;i+=20;b+=3;break;case 18:c+=80,b+=2}break;case 2:switch(b){case 0:case 1:case 2:case 3:case 21:case 22:case 23:f=d.ConstantsApp.TYPE_PLATFORM;break;case 6:case 7:case 8:case 11:case 12:case 13:case 16:case 17:case 18:f=d.ConstantsApp.TYPE_TRICK_PLATFORM;break;case 9:case 10:case 14:case 15:case 19:case 20:f=
d.ConstantsApp.TYPE_INVIS_PLATFORM;break;default:f=d.ConstantsApp.TYPE_INVIS_PLATFORM}}e=new k.elements.Tile({x:c,y:i,type:f});this._elementManager.addElement(e);this._tiles.push(e);c+=40;b++}c=b=0;i+=160;a++}i=450;for(a=0;6>a;){switch(a){case 0:c=375;break;case 1:c=120;i=130;break;case 2:c=280;i=300;break;case 3:c=640;i=300;break;case 4:c=780;i=450;break;case 5:c=460,i=268}e=new k.elements.Tile({x:c,y:i,type:d.ConstantsApp.TYPE_SPAWN_HD,sideCollisionEnabled:!0});this._elementManager.addElement(e);
this._tiles.push(e);a++}}},_initLevel3:function(){this._tiles=[];var a=0,b=0,c=0,i=180,e,f=d.ConstantsApp.TYPE_PLATFORM;if(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_EASTER_EGG_UNLOCKED))for(;3>a;){for(;24>b;){switch(a){case 0:switch(b){case 5:case 8:case 12:case 16:c+=80;b+=2;break;case 11:case 15:case 19:case 20:f=d.ConstantsApp.TYPE_PLATFORM;break;default:f=d.ConstantsApp.TYPE_PLATFORM}break;case 1:switch(b){case 6:c+=80;b+=2;break;case 14:c+=120;b+=3;break;default:f=d.ConstantsApp.TYPE_PLATFORM}break;
case 2:switch(b){case 3:c+=120;b+=3;break;case 6:case 7:case 8:f=d.ConstantsApp.TYPE_PLATFORM;break;case 9:f=d.ConstantsApp.TYPE_PLATFORM;break;case 14:c+=120,b+=3}}e=new k.elements.Tile({x:c,y:i,type:f});this._elementManager.addElement(e);this._tiles.push(e);c+=40;b++}c=b=0;i+=160;a++}else{for(;3>a;){for(;24>b;){switch(a){case 0:switch(b){case 5:c+=80;b+=2;break;case 9:case 10:case 13:case 14:case 17:case 18:f=d.ConstantsApp.TYPE_TRICK_PLATFORM;break;case 11:case 12:case 15:case 16:case 19:case 20:f=
d.ConstantsApp.TYPE_INVIS_PLATFORM;break;default:f=d.ConstantsApp.TYPE_PLATFORM}break;case 1:switch(b){case 6:case 7:f=d.ConstantsApp.TYPE_TRICK_PLATFORM;break;case 14:c+=120;b+=3;break;default:f=d.ConstantsApp.TYPE_PLATFORM}break;case 2:switch(b){case 3:case 4:case 5:f=d.ConstantsApp.TYPE_TRICK_PLATFORM;break;case 6:case 7:case 8:f=d.ConstantsApp.TYPE_INVIS_PLATFORM;break;case 9:f=d.ConstantsApp.TYPE_PLATFORM;break;case 14:c+=120,b+=3}}e=new k.elements.Tile({x:c,y:i,type:f});this._elementManager.addElement(e);
this._tiles.push(e);c+=40;b++}c=b=0;i+=160;a++}i=450;for(a=0;6>a;){switch(a){case 0:c=375;break;case 1:c=690;break;case 2:c=320;i=280;break;case 3:c=520;i=130;break;case 4:c=780;i=280;break;case 5:c=100,i=130}e=new k.elements.Tile({x:c,y:i,type:d.ConstantsApp.TYPE_SPAWN_HD,sideCollisionEnabled:!0});this._elementManager.addElement(e);this._tiles.push(e);a++}}},_initLevel2:function(){this._tiles=[];var a=0,b=0,c=0,i=180,e,f=d.ConstantsApp.TYPE_PLATFORM;if(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_EASTER_EGG_UNLOCKED))for(;3>
a;){for(;24>b;){switch(a){case 0:switch(b){case 13:c+=120,b+=3}break;case 1:switch(b){case 11:c+=120,b+=3}}e=new k.elements.Tile({x:c,y:i,type:f});this._elementManager.addElement(e);this._tiles.push(e);c+=40;b++}c=b=0;i+=160;a++}else{for(;3>a;){for(;24>b;){switch(a){case 0:switch(b){case 4:case 5:case 6:f=d.ConstantsApp.TYPE_INVIS_PLATFORM;break;case 7:f=f=d.ConstantsApp.TYPE_PLATFORM;break;case 14:case 15:case 16:f=d.ConstantsApp.TYPE_TRICK_PLATFORM;break;case 17:f=f=d.ConstantsApp.TYPE_PLATFORM}break;
case 1:switch(b){case 3:case 4:case 5:f=d.ConstantsApp.TYPE_TRICK_PLATFORM;break;case 6:f=f=d.ConstantsApp.TYPE_PLATFORM;break;case 11:c+=120,b+=3}}e=new k.elements.Tile({x:c,y:i,type:f});this._elementManager.addElement(e);this._tiles.push(e);c+=40;b++}c=b=0;i+=160;a++}i=450;for(a=0;4>a;){switch(a){case 0:c=200;break;case 1:c=690;break;case 2:c=480;i=230;break;case 3:c=520,i=130}e=new k.elements.Tile({x:c,y:i,type:d.ConstantsApp.TYPE_SPAWN_HD,sideCollisionEnabled:!0});this._elementManager.addElement(e);
this._tiles.push(e);a++}}},_initLevel1:function(){this._tiles=[];var a=0,b=0,c=0,i=180,e,f=d.ConstantsApp.TYPE_PLATFORM;if(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_EASTER_EGG_UNLOCKED))for(;3>a;){for(;24>b;){switch(a){case 0:switch(b){case 4:case 14:c+=120,b+=3}break;case 1:switch(b){default:f=d.ConstantsApp.TYPE_PLATFORM}break;case 2:switch(b){case 10:c+=120,b+=3}}e=new k.elements.Tile({x:c,y:i,type:f});this._elementManager.addElement(e);this._tiles.push(e);c+=40;b++}c=b=0;i+=160;a++}else{for(;3>
a;){for(;24>b;){switch(a){case 0:switch(b){case 5:case 6:case 7:case 8:f=d.ConstantsApp.TYPE_INVIS_PLATFORM;break;case 9:case 10:case 11:f=d.ConstantsApp.TYPE_TRICK_PLATFORM;break;case 12:f=f=d.ConstantsApp.TYPE_PLATFORM;break;case 14:c+=120;b+=3;break;case 20:case 21:case 22:case 23:f=d.ConstantsApp.TYPE_TRICK_PLATFORM}break;case 1:switch(b){default:f=d.ConstantsApp.TYPE_PLATFORM}break;case 2:switch(b){case 10:c+=120,b+=3}}e=new k.elements.Tile({x:c,y:i,type:f});this._elementManager.addElement(e);
this._tiles.push(e);c+=40;b++}c=b=0;i+=160;a++}a=0;for(i=298;1>a;){switch(a){case 0:c=480}e=new k.elements.Tile({x:c,y:i,type:d.ConstantsApp.TYPE_SPAWN_HD,sideCollisionEnabled:!0});this._elementManager.addElement(e);this._tiles.push(e);a++}}},_initLevel0:function(){this._tiles=[];var a=0,b=0,c=0,i=180,e,f=d.ConstantsApp.TYPE_PLATFORM;if(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_EASTER_EGG_UNLOCKED))for(;3>a;){for(;24>b;){switch(a){case 0:switch(b){case 4:f=d.ConstantsApp.TYPE_PLATFORM;c+=
160;b+=4;break;case 9:c+=160;b+=4;break;case 14:c+=160,b+=4}break;case 1:switch(b){case 4:c+=90;b+=3;break;case 8:c+=160;b+=4;break;case 13:c+=155;b+=3;break;case 17:c+=120;b+=3;break;default:f=d.ConstantsApp.TYPE_PLATFORM}break;case 2:switch(b){case 4:f=d.ConstantsApp.TYPE_PLATFORM;c+=160;b+=4;break;case 9:c+=160;b+=4;break;case 14:c+=160,b+=4}}e=new k.elements.Tile({x:c,y:i,type:f});this._elementManager.addElement(e);this._tiles.push(e);c+=40;b++}c=b=0;i+=160;a++}else{for(;3>a;){for(;24>b;){switch(a){case 0:switch(b){case 0:case 1:case 2:case 3:case 8:case 13:case 18:f=
d.ConstantsApp.TYPE_PLATFORM;break;default:f=d.ConstantsApp.TYPE_TRICK_PLATFORM}break;case 1:switch(b){case 4:c+=90;b+=3;break;case 8:c+=160;b+=4;break;case 13:c+=155;b+=3;break;case 17:c+=120;b+=3;break;default:f=d.ConstantsApp.TYPE_PLATFORM}break;case 2:switch(b){case 4:f=d.ConstantsApp.TYPE_PLATFORM;c+=160;b+=4;break;case 9:c+=160;b+=4;break;case 14:c+=160,b+=4}}e=new k.elements.Tile({x:c,y:i,type:f});this._elementManager.addElement(e);this._tiles.push(e);c+=40;b++}c=b=0;i+=160;a++}for(a=0;8>a;){switch(a){case 0:c=
440;i=298;break;case 1:c=260;break;case 2:c=640;break;case 3:i=450;c=300;break;case 4:c=510;break;case 5:i=130;c=300;break;case 6:c=510;break;case 7:c=700}e=new k.elements.Tile({x:c,y:i,type:d.ConstantsApp.TYPE_SPAWN_HD,sideCollisionEnabled:!0});this._elementManager.addElement(e);this._tiles.push(e);a++}}},_initObstaclesDebug:function(){this._jellyFish=[];this._geysers=[]},_initLevelDebug:function(){this._tiles=[];for(var a=0,b=0,c=0,i=180,e,f=d.ConstantsApp.TYPE_PLATFORM;3>a;){for(;24>b;){switch(a){case 2:switch(b){case 6:c+=
120;b+=3;break;case 11:c+=160,b+=4}}e=new k.elements.Tile({x:c,y:i,type:f});this._elementManager.addElement(e);this._tiles.push(e);c+=40;b++}c=b=0;i+=160;a++}},_onGenerationComplete:function(){g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(d.ConstantsApp.EVENT_WORLD_GENERATION_COMPLETE))},_initPlayer:function(){this._player=d.ConstantsApp.DEBUG_EASY_MODE?new k.player.NormalPlayer({x:50,y:100,array:this._tiles,objective:this._winLadder,fps:1}):new k.player.NormalPlayer({x:69,y:380,
array:this._tiles,objective:this._winLadder,fps:1});this._player.setInputLocked(!1,!1);this._player.setFacing(d.ConstantsApp.DIR_RIGHT);this._plankton=new k.elements.Plankton({x:870,y:140});this._elementManager.addElement(this._plankton);this._elementManager.addElement(this._player)},_initObstacles:function(){switch(this._level){case 0:this._initObstacles1();break;case 1:this._initObstacles2();break;case 2:this._initObstacles4();break;case 3:this._initObstacles3();break;case 4:this._initObstacles0();
break;case 5:this._initObstaclesDebug();break;default:this._initObstacles1()}},_initLevel:function(){this._elementManager.addElement(new n.Element({layer:d.ConstantsApp.LAYER_BG,asset:"background"}));switch(this._level){case 0:this._initLevel1();break;case 1:this._initLevel2();break;case 2:this._initLevel4();break;case 3:this._initLevel3();break;case 4:this._initLevel0();break;case 5:this._initLevelDebug();break;default:this._initLevel1()}for(var a=0,b,c=0,i=0;2>a;){switch(a){case 0:c=860;i=308;break;
case 1:c=40,i=148}b=new k.elements.Tile({x:c,y:i,type:d.ConstantsApp.TYPE_LADDER});this._elementManager.addElement(b);this._tiles.push(b);a++}this._winLadder=new k.elements.WinLadder({x:830,y:-38});this._elementManager.addElement(this._winLadder);a=0;c=860;for(i=290;2>a;)b=new k.elements.Tile({x:c,y:i,type:d.ConstantsApp.TYPE_CHECKPOINT_1}),this._elementManager.addElement(b),this._tiles.push(b),i+=40,c+=20,a++;a=0;c=40;for(i=120;2>a;)b=new k.elements.Tile({x:c,y:i,type:d.ConstantsApp.TYPE_CHECKPOINT_2}),
this._elementManager.addElement(b),this._tiles.push(b),i+=40,c+=20,a++},_poolParticles:function(){var a=[];a.x=-1E3;a.y=-1E3;a.layer=d.ConstantsApp.LAYER_FG;a.origin=new f.WorkinPoint(0.5,0.5);for(var b,c=0;c<d.ConstantsApp.POOL_SIZE_PARTICLES;)b=new k.obstacles.Bubble(a),this._elementManager.addElement(b),this._bubbles.push(b),c++},_initParticles:function(){this._bubbles=[];this._bubblesIndex=0;this._poolParticles()},_initHD:function(){this._hdCharArray=[];this._randomArray=[];for(var a=this._prevHDChar=
0;9>a;){switch(a){case d.ConstantsApp.HD_TYPE_SPONGEBOB:this._hdChar=new k.hd_character.HD_Leo({movie:"_leo",library:"anim_hd_spongebob",player:this._player});break;case d.ConstantsApp.HD_TYPE_COSMO:this._hdChar=new k.hd_character.HD_Cosmo({movie:"_Cosmo",library:"anim_hd_cosmo",player:this._player});break;case d.ConstantsApp.HD_TYPE_MIKEY:this._hdChar=new k.hd_character.HD_Mikey({movie:"_Mikey",library:"anim_hd_mikey",player:this._player});break;case d.ConstantsApp.HD_TYPE_PATRICK:this._hdChar=new k.hd_character.HD_Patrick({movie:"_Patrick",
library:"anim_hd_patrick",player:this._player});break;case d.ConstantsApp.HD_TYPE_SANJAY:this._hdChar=new k.hd_character.HD_Sanjay({movie:"_Sanjay",library:"anim_hd_sanjay",player:this._player});break;case d.ConstantsApp.HD_TYPE_SPONGEBOB_2:this._hdChar=new k.hd_character.HD_Spongebob_2({movie:"SB",library:"anim_hd_spongebob_2",player:this._player});break;case d.ConstantsApp.HD_TYPE_DONNIE:this._hdChar=new k.hd_character.HD_Donnie({movie:"_Donnie",library:"anim_hd_donnie",player:this._player});break;
case d.ConstantsApp.HD_TYPE_PO:this._hdChar=new k.hd_character.HD_Po({movie:"_character_po",library:"anim_hd_po",player:this._player});break;case d.ConstantsApp.HD_TYPE_RAPH:this._hdChar=new k.hd_character.HD_Raph({movie:"_Raph",library:"anim_hd_raph",player:this._player})}this._hdCharArray.push(this._hdChar);a++}if(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_TABLET)){this._touchControls=[];for(var b,c="",i=0,a=0;4>a;){switch(a){case 0:c="ui/gameplay_hud/left_button";i=70;break;case 1:c="ui/gameplay_hud/right_button";
i=210;break;case 2:c="ui/gameplay_hud/crouch_button";i=760;break;case 3:c="ui/gameplay_hud/jump_button",i=860}b=new k.touch_controls.TouchControl({x:i,y:492,asset:c,buttonID:a});this._elementManager.addElement(b);this._touchControls.push(b);a++}}},handleInput:function(a){if(!(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_PAUSED)||this._state==this._STATE_INITIALIZING))switch(a.input){case d.ConstantsApp.INPUT_CLICK:switch(a.phase){case p.WMEventInput.PHASE_DOWN:if(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_TABLET))for(var b=
0,c=this._touchControls;b<c.length;){var i=c[b];++b;i._getRectangle().contains(a.x,a.y)&&null}}}},_animateAll:function(){for(this._loop=this._hdCharArray.length;0<this._loop;)this._loop--,this._hdCharArray[this._loop]._getAnimation()&&this._hdCharArray[this._loop].startTweens()},_spawnHDCharacter:function(){var a=this._hdCharArray.length,b=g.WorkinUtils.getRandom(0,8)|0,a=this._randomArray.length;if(0<a)if(9==a){for(;0<a--;)this._randomArray.splice(a,1);b=g.WorkinUtils.getRandom(0,8)|0}else for(;0<
a--;)for(;this._randomArray[a]==b;)b=g.WorkinUtils.getRandom(0,8)|0;0==this._level&&(b=3);for(a=this._hdCharArray.length;0<a;)a--,this._hdCharArray[a]._getType()==b&&this._hdCharArray[a]._getAnimation()?(this._flagToggle=!0,this._elementManager.addElement(this._hdCharArray[a]),this._hdCharArray[a].startTweens()):null;this._randomArray.push(b);this._prevHDChar=b},_screenShake:function(){this._timerScreenShake=0.5;this._screenShakeMagnitude=4},_spawnBubble:function(a){this._bubbles[this._bubblesIndex].revive(a);
this._bubblesIndex++;this._bubblesIndex>=d.ConstantsApp.POOL_SIZE_PARTICLES&&(this._bubblesIndex=0)},_levelComplete:function(){g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventFlow(d.ConstantsScreen.FLOW_BRANCH_LEVEL_WIN))},_unpause:function(){g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_PAUSED,!1)},_pause:function(){g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_PAUSED,!0)},_onAnimateAll:function(){this._animateAll()},_onScreenShake:function(){this._screenShake()},_onLevelComplete:function(){this._levelComplete()},
_onSpawnBubble:function(a){this._spawnBubble(a._getData())},_onSpawnHDCharacter:function(){this._spawnHDCharacter()},_onUnpause:function(){this._unpause()},_onPause:function(){this._pause()},_removeEventListeners:function(){g.WorkinCloud.instance.getDispatcher().removeEventListener(d.ConstantsApp.EVENT_PAUSE,r(this,this._onPause));g.WorkinCloud.instance.getDispatcher().removeEventListener(d.ConstantsApp.EVENT_UNPAUSE,r(this,this._onUnpause));g.WorkinCloud.instance.getDispatcher().removeEventListener(d.ConstantsApp.EVENT_SPAWN_BUBBLES,
r(this,this._onSpawnBubble));g.WorkinCloud.instance.getDispatcher().removeEventListener(d.ConstantsApp.EVENT_SPAWN_HD_CHARACTER,r(this,this._onSpawnHDCharacter));g.WorkinCloud.instance.getDispatcher().removeEventListener(d.ConstantsApp.EVENT_LEVEL_COMPLETE,r(this,this._onLevelComplete));g.WorkinCloud.instance.getDispatcher().removeEventListener(d.ConstantsApp.EVENT_SCREEN_SHAKE,r(this,this._onScreenShake))},_addEventListeners:function(){g.WorkinCloud.instance.getDispatcher().addEventListener(d.ConstantsApp.EVENT_PAUSE,
r(this,this._onPause));g.WorkinCloud.instance.getDispatcher().addEventListener(d.ConstantsApp.EVENT_UNPAUSE,r(this,this._onUnpause));g.WorkinCloud.instance.getDispatcher().addEventListener(d.ConstantsApp.EVENT_SPAWN_BUBBLES,r(this,this._onSpawnBubble));g.WorkinCloud.instance.getDispatcher().addEventListener(d.ConstantsApp.EVENT_SPAWN_HD_CHARACTER,r(this,this._onSpawnHDCharacter));g.WorkinCloud.instance.getDispatcher().addEventListener(d.ConstantsApp.EVENT_LEVEL_COMPLETE,r(this,this._onLevelComplete));
g.WorkinCloud.instance.getDispatcher().addEventListener(d.ConstantsApp.EVENT_SCREEN_SHAKE,r(this,this._onScreenShake));g.WorkinCloud.instance.getDispatcher().addEventListener(d.ConstantsApp.EVENT_ANIMATE_EVERY_HD_CHAR,r(this,this._onAnimateAll))},updateStack:function(a){0!=this._stack.length&&(this._timerStack-=a,0>this._timerStack&&(this._stack[0].apply(this,[]),this._stack.shift(),this._timerStack=this.TIMER_STACK))},stack:function(a){this._timerStack=this.TIMER_STACK;null==this._stack&&(this._stack=
[]);for(var b=0;b<a.length;){var c=a[b];++b;this._stack.push(c)}},render:function(){this._elementManager.renderElements()},_geyserCollision:function(a){this._loop=this._geysers.length;if(0<this._loop)for(;0<this._loop;)this._loop--,this._geysers[this._loop].update(a),this._geysers[this._loop].runCollisionCheck(this._player,this._player._getFacing())&&(this._player.doDeathAnimation(),this._setState(this._STATE_GAMEOVER))},_bubbleCollision:function(a){this._loop=this._bubbles.length;if(0<this._loop)for(;0<
this._loop;)this._loop--,this._bubbles[this._loop].update(a),this._bubbles[this._loop]._getOnScreen()&&this._bubbles[this._loop].runCollisionCheck(this._player,this._player._getFacing())&&(this._player.doDeathAnimation(),this._setState(this._STATE_GAMEOVER))},_jellyFishCollision:function(a){this._loop=this._jellyFish.length;if(0<this._loop)for(;0<this._loop;)this._loop--,this._jellyFish[this._loop].update(a),this._jellyFish[this._loop].runCollisionCheck(this._player,this._player._getFacing())&&(this._player.doDeathAnimation(),
this._setState(this._STATE_GAMEOVER))},_checkCollisions:function(a){this._jellyFishCollision(a);this._bubbleCollision(a);this._geyserCollision(a)},_updateHDChar:function(a){this._loop=this._hdCharArray.length;if(0<this._loop)for(;0<this._loop;){this._loop--;if(!this._hdCharArray[this._loop]._getAnimation())switch(this._hdCharArray[this._loop]._getType()){case d.ConstantsApp.HD_TYPE_SPONGEBOB:this._hdCharArray[this._loop].update(a);break;case d.ConstantsApp.HD_TYPE_COSMO:this._hdCharArray[this._loop].update(a);
break;case d.ConstantsApp.HD_TYPE_MIKEY:this._hdCharArray[this._loop].update(a);break;case d.ConstantsApp.HD_TYPE_PATRICK:this._hdCharArray[this._loop].update(a);break;case d.ConstantsApp.HD_TYPE_SANJAY:this._hdCharArray[this._loop].update(a);break;case d.ConstantsApp.HD_TYPE_SPONGEBOB_2:this._hdCharArray[this._loop].update(a);break;case d.ConstantsApp.HD_TYPE_DONNIE:this._hdCharArray[this._loop].update(a);break;case d.ConstantsApp.HD_TYPE_PO:this._hdCharArray[this._loop].update(a);break;case d.ConstantsApp.HD_TYPE_RAPH:this._hdCharArray[this._loop].update(a)}this._hdCharArray[this._prevHDChar]._getAnimation()&&
this._elementManager.removeElement2(this._hdCharArray[this._prevHDChar]);this._hdCharArray[this._loop]._getDoDelete()}g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_ANIMATE_ALL_STARTED)&&this._hdCharArray[0]._getAnimation()&&this._hdCharArray[1]._getAnimation()&&this._hdCharArray[2]._getAnimation()&&this._hdCharArray[3]._getAnimation()&&this._hdCharArray[4]._getAnimation()&&this._hdCharArray[5]._getAnimation()&&g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_ANIMATE_ALL_STARTED,!1)},_updateTiles:function(a){this._loop=
this._tiles.length;if(0<this._loop)for(;0<this._loop;)this._loop--,this._tiles[this._loop].update(a),!0==this._tiles[this._loop]._getDoDelete()&&(this._tiles[this._loop]._getType(),this._elementManager.removeElement(this._tiles[this._loop]),this._tiles.splice(this._loop,1))},_updatePlayer:function(a){this._state==this._STATE_GAMEOVER&&this._player._getFlagRespawn()&&this._setState(this._STATE_GAMEPLAY);this._state==this._STATE_GAMEPLAY&&560<this._player._getPredictedPos().y+this._player._getHeight()&&
(this._player.doDeathAnimation(),this._setState(this._STATE_GAMEOVER));this._player.update(a)},_updatePlankton:function(a){null!=this._plankton&&(this._plankton.update(a),this._plankton._getDoDelete()&&(this._elementManager.removeElement(this._plankton),this._plankton=null))},update:function(a){this.updateStack(a);if(!0!=g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_PAUSED))switch(a=Math.round(1E3*a)/1E3,0.15<a&&(a=0.15),0<this._timerScreenShake?(this._timerScreenShake-=a,this._elementManager._getCamera()._getPos().x+=
g.WorkinUtils.getRandom(-this._screenShakeMagnitude,this._screenShakeMagnitude,!1),this._elementManager._getCamera()._getPos().y+=g.WorkinUtils.getRandom(-this._screenShakeMagnitude,this._screenShakeMagnitude,!1)):(this._elementManager._getCamera()._getPos().x=d.ConstantsApp.STAGE_CENTER_X,this._elementManager._getCamera()._getPos().y=d.ConstantsApp.STAGE_CENTER_Y),this._state){case this._STATE_GAMEPLAY:this._updatePlankton(a);this._updatePlayer(a);this._updateTiles(a);this._updateHDChar(a);this._checkCollisions(a);
if(g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_TABLET)){g.WorkinCloud.instance.setBool(d.ConstantsApp.INPUT_LEFT,!1);g.WorkinCloud.instance.setBool(d.ConstantsApp.INPUT_RIGHT,!1);g.WorkinCloud.instance.setBool(d.ConstantsApp.INPUT_DOWN,!1);g.WorkinCloud.instance.setBool(d.ConstantsApp.INPUT_UP,!1);for(a=g.WorkinCloud.instance.getInput()._getMultiTouch().iterator();a.hasNext();)for(var b=a.next(),c=0,i=this._touchControls;c<i.length;){var e=i[c];++c;if(e._getRectangle().contains(b._getCurrentPos().x,
b._getCurrentPos().y))switch(e._getButtonID()){case 0:g.WorkinCloud.instance.setBool(d.ConstantsApp.INPUT_LEFT,!0);break;case 1:g.WorkinCloud.instance.setBool(d.ConstantsApp.INPUT_RIGHT,!0);break;case 2:g.WorkinCloud.instance.setBool(d.ConstantsApp.INPUT_DOWN,!0);break;case 3:g.WorkinCloud.instance.setBool(d.ConstantsApp.INPUT_UP,!0)}}}break;case this._STATE_GAMEOVER:if(this._updatePlayer(a),!1==g.WorkinCloud.instance.getInput()._getPointer()._getConsumed())switch(g.WorkinCloud.instance.getInput()._getPointer()._getSwipe()){case g.WorkinCloud.instance.getInput()._getPointer().SWIPE_UP:g.WorkinCloud.instance.getInput()._getPointer()._setConsumed(!0);
break;case g.WorkinCloud.instance.getInput()._getPointer().SWIPE_DOWN:g.WorkinCloud.instance.getInput()._getPointer()._setConsumed(!0);break;case g.WorkinCloud.instance.getInput()._getPointer().SWIPE_LEFT:g.WorkinCloud.instance.getInput()._getPointer()._setConsumed(!0);break;case g.WorkinCloud.instance.getInput()._getPointer().SWIPE_RIGHT:g.WorkinCloud.instance.getInput()._getPointer()._setConsumed(!0);case g.WorkinCloud.instance.getInput()._getPointer().SWIPE_NONE:}}},_setState:function(a){this._state=
a},dispose:function(){this._elementManager.dispose();this._timeline=this._elementManager=null;this._removeEventListeners();this._player=this._winLadder=this._hdChar=this._randomArray=this._hdCharArray=this._geysers=this._bubbles=this._jellyFish=this._tiles=this._spongs=this._stack=null;p.WMEventDispatcher.prototype.dispose.call(this)},start:function(){this._addEventListeners();this._setState(this._STATE_GAMEPLAY)},__class__:k.World});k.elements={};k.elements.Crystal=function(){};l["com.nick.nicktoons.april_fools_2013.world.elements.Crystal"]=
k.elements.Crystal;k.elements.Crystal.__name__="com,nick,nicktoons,april_fools_2013,world,elements,Crystal".split(",");k.elements.Crystal.__super__=n.Element;k.elements.Crystal.prototype=v(n.Element.prototype,{update:function(a){n.Element.prototype.update.call(this,a);this._pos.x-=this._speed*a;-100>this._pos.x&&this._setDoDelete(!0);this._render.rotation+=this._rot*a},__class__:k.elements.Crystal});k.elements.Plankton=function(a){this._counter=0;n.Element.call(this,{asset:"plankton",layer:d.ConstantsApp.LAYER_PLAYER,
origin:new f.WorkinPoint(0.5,0.5)});this._getPos().x=a.x;this._getPos().y=a.y;f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.15,{y:this._getPos().y-10},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.fall))};l["com.nick.nicktoons.april_fools_2013.world.elements.Plankton"]=k.elements.Plankton;k.elements.Plankton.__name__="com,nick,nicktoons,april_fools_2013,world,elements,Plankton".split(",");k.elements.Plankton.__super__=n.Element;k.elements.Plankton.prototype=
v(n.Element.prototype,{dispose:function(){n.Element.prototype.dispose.call(this)},remove:function(){f.tween.WorkinTweener._getInstance().stop(this._getPos());this._setDoDelete(!0)},jump:function(){this._counter++;if(3<this._counter)f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.5,{y:this._getPos().y-200},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.remove));else f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.15,{y:this._getPos().y-10},null,null,
!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.fall))},fall:function(){f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.15,{y:this._getPos().y+10},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.jump))},update:function(a){n.Element.prototype.update.call(this,a)},__class__:k.elements.Plankton});k.elements.TestElement=function(){};l["com.nick.nicktoons.april_fools_2013.world.elements.TestElement"]=k.elements.TestElement;k.elements.TestElement.__name__=
"com,nick,nicktoons,april_fools_2013,world,elements,TestElement".split(",");k.elements.TestElement.__super__=n.Element;k.elements.TestElement.prototype=v(n.Element.prototype,{update:function(a){n.Element.prototype.update.call(this,a);this.updatePositionFromVelocity(a);if(0<this._velocity.x&&this._pos.x>d.ConstantsApp.STAGE_WIDTH-this._render.width/2||0>this._velocity.x&&this._pos.x<this._render.width/2)this._velocity.x*=-1;if(0<this._velocity.y&&this._pos.y>d.ConstantsApp.STAGE_HEIGHT-this._render.height/
2||0>this._velocity.y&&this._pos.y<this._render.height/2)this._velocity.y*=-1;this.rect.x=this._pos.x-this._render.width/2;this.rect.y=this._pos.y-this._render.height/2;this._render.rotation+=this._rotation*a},dispose:function(){this.rect=null;n.Element.prototype.dispose.call(this)},renew:function(a){n.Element.prototype.renew.call(this,a);this.rect=new I.Rectangle(this._render.x,this._render.y,this._render.width,this._render.height)},__class__:k.elements.TestElement});n.AnimatedElement=function(a){if(null!=
a.movie&&""!=a.movie&&(null==a.library||""==a.library)&&(null==a.asset||""==a.asset))a.asset=a.movie;n.Element.call(this,a);this._animations=new F;this._queuedAnimations=[];this._lastFrame=-1;this._currentFrame=0;this._currentAnimation="";this._fps=24;this._animationStopped=!0;this._symbol=this._library="";a.library&&a.movie&&this.setLibraryAndSymbol(a.library,a.movie);a.fps&&(this._fps=a.fps)};l["com.workinman.display.AnimatedElement"]=n.AnimatedElement;n.AnimatedElement.__name__=["com","workinman",
"display","AnimatedElement"];n.AnimatedElement.__super__=n.Element;n.AnimatedElement.prototype=v(n.Element.prototype,{_onAnimationComplete:function(){},_setFrame:function(a){this._movie.set_position(Math.floor(a)/this._frames*this._duration)},update:function(a){n.Element.prototype.update.call(this,a);if(""!=this._currentAnimation&&(0<this._currentLoop||this._flagLoop)&&!1==this._animationStopped)this._currentFrame+=this._fps*a,this._currentFrame>this._currentFrameList[1]&&(this._currentLoop--,1>this._currentLoop&&
!1==this._flagLoop?0<this._queuedAnimations.length?(this._doAnimate(this._queuedAnimations[0]._getName(),this._queuedAnimations[0]._getLoops(),this._queuedAnimations[0]._getForce()),this._queuedAnimations.splice(0,1)):this._onAnimationComplete():this._currentFrame=this._currentFrameList[0]),null!=this._movie&&(this._currentFrame|0)!=this._lastFrame&&this._setFrame(this._currentFrame),this._lastFrame=this._currentFrame|0},clearQueue:function(){for(;0<this._queuedAnimations.length;)this._queuedAnimations.splice(0,
1)},stopAnimation:function(){this._animationStopped=!0},_doAnimate:function(a,b,c){null==c&&(c=!1);null==b&&(b=0);this._currentAnimation==a&&!1==c||(null!=this._animations&&this._animations.exists(a)?(this._currentFrameList=null,this._currentFrameList=this._animations.get(a).slice(),this._currentFrame=this._currentFrameList[0],this._currentAnimation=a,this._currentLoop=b,this._flagLoop=0==b,this._animationStopped=!1):g.WorkinCloud.instance.log("Animation not found: "+a))},animate:function(a,b,c){null==
c&&(c=!1);null==b&&(b=0);this.clearQueue();this._doAnimate(a,b,c);return this},addAnimation:function(a,b,c){null==c&&(c=-1);null==b&&(b=-1);-1==b&&(b=0);-1==c&&(c=this._frames|0);this._animations.set(a,[b,c]);return this},setLibraryAndSymbol:function(a,b){this._library=a;this._symbol=b;this._texture.dispose();var c=g.WorkinCloud.instance.getAssets().getLibrary(this._library)._symbols.get(this._symbol);this._duration=c.duration;this._frames=c.frames;this._movie=c.createSprite();this._movie.set_paused(!0);
this._texture=this._movie;this._textureEntity.add(this._texture);return this},_getAnimationFrameRelative:function(){return this._currentFrame-this._currentFrameList[0]|0},_setAnimationFrame:function(a){this._currentFrame=a;this._setFrame(this._currentFrame);this.stopAnimation();return this._currentFrame|0},_getAnimationFrame:function(){return this._currentFrame|0},_getAnimationRatio:function(){return(this._currentFrame-this._currentFrameList[0])/(this._currentFrameList[1]-this._currentFrameList[0])},
_setFps:function(a){return this._fps=a},_getFps:function(){return this._fps},_getCurrentAnimation:function(){return this._currentAnimation},dispose:function(){this._queuedAnimations=this._currentFrameList=this._animations=this._movie=null;n.Element.prototype.dispose.call(this)},__class__:n.AnimatedElement});k.elements.Tile=function(a){this._STATE_CHECKPOINT_2=6;this._STATE_CHECKPOINT_1=5;this._STATE_SPAWN_HD=4;this._STATE_INVIS_PLATFORM=3;this._STATE_TRICK_PLATFORM=2;this._STATE_LADDER=1;this._STATE_PLATFORM=
0;this._state=a.type;n.AnimatedElement.call(this,{x:a.x,y:a.y,movie:this._movieId(),library:this._libraryId(),layer:d.ConstantsApp.LAYER_BG,origin:new f.WorkinPoint(0,0)});this.addAnimation("platform",0,0);this.addAnimation("ladder",1,1);d.ConstantsApp.DEBUG_MODE?(this.addAnimation("invis",2,2),this.addAnimation("trick",3,3)):(this.addAnimation("invis",4,4),this.addAnimation("trick",0,0));a.sideCollisionEnabled&&(this._flagSideCollide=a.sideCollisionEnabled);this._getDimensions();d.ConstantsApp.DEBUG_TILE_COLLISION_TOGGLE?
this._flagCollideable=!1:this._testCollision();this.setCollision(!0);this._setState(this._state)};l["com.nick.nicktoons.april_fools_2013.world.elements.Tile"]=k.elements.Tile;k.elements.Tile.__name__="com,nick,nicktoons,april_fools_2013,world,elements,Tile".split(",");k.elements.Tile.__super__=n.AnimatedElement;k.elements.Tile.prototype=v(n.AnimatedElement.prototype,{dispose:function(){n.AnimatedElement.prototype.dispose.call(this)},checkBoxToBoxCollision:function(a){var b,c,i,d,e,f,g;b=this._getPos().x;
i=this._getPos().x+this._getWidth();e=this._getPos().y;g=this._getPos().y+this._getHeight();c=a._getPredictedPos().x;d=a._getPredictedPos().x;f=a._getPredictedPos().y;a=a._getPredictedPos().y+a._getHeight()-10;if(e<a&&g>f||a>e&&g>f)if(i>c&&b<d||c>i&&d<b)return!0;return!1},setCollision:function(a,b,c){this._collisionActive=a;null==b?(this._collisionOffset.x=-(this._renderOrigin.x*this._render.width),this._collisionOffset.y=-(this._renderOrigin.y*this._render.height)):(this._collisionOffset.x=b.x,this._collisionOffset.y=
b.y);null==c?(this._collision.width=this._getWidth(),this._collision.height=this._getHeight()):(this._collision.width=c.x,this._collision.height=c.y);this._collisionActive&&this._buildCollisionBox()},_libraryId:function(){return"anim_tiles"},_movieId:function(){return"_tile"},_setState:function(a){this._state=a;switch(this._state){case this._STATE_PLATFORM:this.animate("platform");break;case this._STATE_LADDER:this.animate("ladder");break;case this._STATE_INVIS_PLATFORM:this.animate("invis");break;
case this._STATE_TRICK_PLATFORM:this.animate("trick");break;case this._STATE_SPAWN_HD:this.animate("invis");break;case this._STATE_CHECKPOINT_1:this.animate("invis");break;case this._STATE_CHECKPOINT_2:this.animate("invis")}},_testCollision:function(){switch(this._state){case this._STATE_PLATFORM:this._flagCollideable=!0;break;case this._STATE_LADDER:this._flagCollideable=!0;break;case this._STATE_TRICK_PLATFORM:this._flagCollideable=!1;break;case this._STATE_INVIS_PLATFORM:this._flagCollideable=
!0;break;case this._STATE_SPAWN_HD:this._flagCollideable=!0;break;case this._STATE_CHECKPOINT_1:this._flagCollideable=!0;break;default:this._flagCollideable=!0}},_getDimensions:function(){switch(this._state){case this._STATE_PLATFORM:this._height=this._width=40;break;case this._STATE_LADDER:this._width=60;this._height=130;break;default:this._height=this._width=40}},_getHeight:function(){return this._height},_getWidth:function(){return this._width},setType:function(a){this._setState(a)},_getType:function(){return this._state},
_getSideCollideable:function(){return this._flagSideCollide},_getCollideable:function(){return this._flagCollideable},__class__:k.elements.Tile});k.elements.WinLadder=function(a){n.Element.call(this,{x:a.x,y:a.y,asset:"win_ladder",layer:d.ConstantsApp.LAYER_BG,origin:new f.WorkinPoint(0,0)});this._pos.x=a.x;this._pos.y=a.y;this._width=60;this._height=160;this.setCollision(!0)};l["com.nick.nicktoons.april_fools_2013.world.elements.WinLadder"]=k.elements.WinLadder;k.elements.WinLadder.__name__="com,nick,nicktoons,april_fools_2013,world,elements,WinLadder".split(",");
k.elements.WinLadder.__super__=n.Element;k.elements.WinLadder.prototype=v(n.Element.prototype,{dispose:function(){n.Element.prototype.dispose.call(this)},runCollisionCheck:function(a){var b,c,i,d,e,f,g;b=this._getPos().x;i=this._getPos().x+this._getWidth();e=this._getPos().y;g=this._getPos().y+this._getHeight();c=a._getPredictedPos().x;d=a._getPredictedPos().x;f=a._getPredictedPos().y;a=a._getPredictedPos().y+a._getHeight()-10;if(e<a&&g>f||a>e&&g>f)if(i>c&&b<d||c>i&&d<b)return!0;return!1},setCollision:function(a,
b,c){this._collisionActive=a;null==b?(this._collisionOffset.x=-(this._renderOrigin.x*this._render.width),this._collisionOffset.y=-(this._renderOrigin.y*this._render.height)):(this._collisionOffset.x=b.x,this._collisionOffset.y=b.y);null==c?(this._collision.width=this._getWidth(),this._collision.height=this._getHeight()):(this._collision.width=c.x,this._collision.height=c.y);this._collisionActive&&this._buildCollisionBox()},_getHeight:function(){return this._height},_getWidth:function(){return this._width},
update:function(a){n.Element.prototype.update.call(this,a)},__class__:k.elements.WinLadder});k.hd_character={};k.hd_character.HD_Base=function(a){this._STATE_DAZED=2;this._STATE_SURPRISED=1;this._STATE_IDLE=0;n.AnimatedElement.call(this,{movie:a.movie,library:a.library,layer:a.layer,fps:a.fps});this._pos.x=a.x;this._pos.y=a.y;this._type=a.type;this._player=a.player};l["com.nick.nicktoons.april_fools_2013.world.hd_character.HD_Base"]=k.hd_character.HD_Base;k.hd_character.HD_Base.__name__="com,nick,nicktoons,april_fools_2013,world,hd_character,HD_Base".split(",");
k.hd_character.HD_Base.__super__=n.AnimatedElement;k.hd_character.HD_Base.prototype=v(n.AnimatedElement.prototype,{dispose:function(){n.AnimatedElement.prototype.dispose.call(this);this._player=null},updateToPlayer:function(){this._flagUpdate=!0},startTweens:function(){},update:function(a){n.AnimatedElement.prototype.update.call(this,a)},_onAnimationComplete:function(){},_setState:function(a){this._state=a;switch(this._state){case this._STATE_IDLE:this.animate("idle");break;case this._STATE_SURPRISED:this.animate("surprised",
1)}},_getAnimation:function(){return this._animationDone},_getType:function(){return this._type},__class__:k.hd_character.HD_Base});k.hd_character.HD_Cosmo=function(a){k.hd_character.HD_Base.call(this,{x:-1E3,y:-1E3,movie:a.movie,library:a.library,layer:d.ConstantsApp.LAYER_FG,fps:24,player:a.player,type:d.ConstantsApp.HD_TYPE_COSMO});this._player=a.player;this._playerPos=this._player._getPos().x;this._alphaOut=this._flagUpdate=!1;this._animationDone=!0;this._bobSin=0;this._bobRate=2;this._bobOffset=
0.5;this._pos.x=-1E3;this._pos.y=-1E3;this._timerLifeSpan=0.75;this.addAnimation("idle",0,0);this.addAnimation("surprised",1,49);this._setState(this._STATE_IDLE)};l["com.nick.nicktoons.april_fools_2013.world.hd_character.HD_Cosmo"]=k.hd_character.HD_Cosmo;k.hd_character.HD_Cosmo.__name__="com,nick,nicktoons,april_fools_2013,world,hd_character,HD_Cosmo".split(",");k.hd_character.HD_Cosmo.__super__=k.hd_character.HD_Base;k.hd_character.HD_Cosmo.prototype=v(k.hd_character.HD_Base.prototype,{dispose:function(){k.hd_character.HD_Base.prototype.dispose.call(this)},
tweenOffScreen:function(){this._pos.x=-1E3;this._pos.y=-1E3;this._animationDone=!0;this._render.alpha=1;this._alphaOut=!1;this._setState(this._STATE_IDLE)},updateToPlayer:function(){this._flagUpdate=!0},startTweens:function(){this._pos.y=306.6;this._playerPos=this._player._getPredictedPos().x;this._animationDone=!1;g.WorkinCloud.instance._getSound().playSound("cosmo_out",0.75);this._playerPos>d.ConstantsApp.STAGE_CENTER_X?(this._pos.x=d.ConstantsApp.STAGE_CENTER_X+d.ConstantsApp.STAGE_WIDTH,this._render.scaleX=
-1):(this._pos.x=-d.ConstantsApp.STAGE_CENTER_X,this._render.scaleX=1);f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:d.ConstantsApp.STAGE_CENTER_X},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.updateToPlayer))},update:function(a){k.hd_character.HD_Base.prototype.update.call(this,a);0>=this._player._getPredictedPos().y&&(f.tween.WorkinTweener._getInstance().stop(this._getPos()),this._animationDone=!0);if(this._flagUpdate&&(this._bobSin+=a*this._bobRate,
this._pos.y+=Math.sin(this._bobSin)*this._bobOffset,this._timerLifeSpan-=a,0>this._timerLifeSpan||this._player._getIsDead()))this._timerLifeSpan=0,this._setState(this._STATE_SURPRISED),this._flagUpdate=!1;this._alphaOut&&(this._render.alpha-=a/5,0>this._render.alpha&&(this._render.alpha=0,this.tweenOffScreen()))},_onAnimationComplete:function(){switch(this._state){case this._STATE_SURPRISED:this._flagUpdate=!1,this._alphaOut=!0}},_setState:function(a){this._state=a;switch(this._state){case this._STATE_IDLE:this.animate("idle");
break;case this._STATE_SURPRISED:g.WorkinCloud.instance._getSound().playSound("cosmo",0.75),this.animate("surprised",1)}},__class__:k.hd_character.HD_Cosmo});k.hd_character.HD_Donnie=function(a){this._STATE_FROZEN=10;k.hd_character.HD_Base.call(this,{x:-1E3,y:-1E3,movie:a.movie,library:a.library,layer:d.ConstantsApp.LAYER_FG,fps:24,player:a.player,type:d.ConstantsApp.HD_TYPE_DONNIE});this._player=a.player;this._playerPos=this._player._getPos().x;this._animationDone=!0;this._flagUpdate=!1;this._timerLifeSpan=
1;this._pos.x=-1E3;this._pos.y=-1E3;this.addAnimation("frozen",0,0);this.addAnimation("idle",0,14);this.addAnimation("surprised",15,44);this._setState(this._STATE_FROZEN)};l["com.nick.nicktoons.april_fools_2013.world.hd_character.HD_Donnie"]=k.hd_character.HD_Donnie;k.hd_character.HD_Donnie.__name__="com,nick,nicktoons,april_fools_2013,world,hd_character,HD_Donnie".split(",");k.hd_character.HD_Donnie.__super__=k.hd_character.HD_Base;k.hd_character.HD_Donnie.prototype=v(k.hd_character.HD_Base.prototype,
{dispose:function(){k.hd_character.HD_Base.prototype.dispose.call(this)},tweenOffScreen:function(){this._pos.x=-1E3;this._pos.y=-1E3;this._render.scaleX=1;this._render.scaleY=1;this._flagUpdate=!1;this._animationDone=!0;this._setState(this._STATE_FROZEN)},updateToPlayer:function(){this._setState(this._STATE_SURPRISED)},startTweens:function(){this._setState(this._STATE_IDLE);this._pos.x=d.ConstantsApp.STAGE_CENTER_X;this._pos.y=d.ConstantsApp.STAGE_HEIGHT+d.ConstantsApp.STAGE_HEIGHT/2;this._flagUpdate=
!0;this._animationDone=!1;f.tween.WorkinTweener._getInstance().tween(this._getPos(),1,{y:d.ConstantsApp.STAGE_HEIGHT/2-100},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.updateToPlayer));f.tween.WorkinTweener._getInstance().tween(this._render,1.75,{scaleX:2.2,scaleY:2.2},null,null,!1).ease(f.tween.PennerManager.EASE_IN)},update:function(a){k.hd_character.HD_Base.prototype.update.call(this,a);0>=this._player._getPredictedPos().y&&(f.tween.WorkinTweener._getInstance().stop(this._getPos()),
f.tween.WorkinTweener._getInstance().stop(this._render),this._animationDone=!0)},_onAnimationComplete:function(){switch(this._state){case this._STATE_SURPRISED:this.tweenOffScreen()}},_setState:function(a){this._state=a;switch(this._state){case this._STATE_FROZEN:this.animate("frozen");break;case this._STATE_IDLE:this.animate("idle");break;case this._STATE_SURPRISED:g.WorkinCloud.instance._getSound().playSound("whoosh"),f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{y:d.ConstantsApp.STAGE_HEIGHT+
d.ConstantsApp.STAGE_HEIGHT/2},null,null,!1).ease(f.tween.PennerManager.EASE_IN),this.animate("surprised",1)}},__class__:k.hd_character.HD_Donnie});k.hd_character.HD_Leo=function(a){this._STATE_SWALLOW=5;this._STATE_OUT_2=4;this._STATE_OUT=3;this._STATE_BELCH=2;k.hd_character.HD_Base.call(this,{x:-1E3,y:-1E3,movie:a.movie,library:a.library,layer:d.ConstantsApp.LAYER_FG,fps:24,player:a.player,type:d.ConstantsApp.HD_TYPE_SPONGEBOB});this._player=a.player;this._playerPos=this._player._getPos().x;this._pos.y=
-1E3;this._pos.x=-1E3;this._animationDone=!0;this._flagUpdate=!1;this._timerLifeSpan=1;this.addAnimation("idle",0,0);this.addAnimation("eating",0,21);this.addAnimation("swallow",22,61);this.addAnimation("belch",62,104);this.addAnimation("out",105,121);this.addAnimation("out_final",121,121);this._setState(this._STATE_IDLE)};l["com.nick.nicktoons.april_fools_2013.world.hd_character.HD_Leo"]=k.hd_character.HD_Leo;k.hd_character.HD_Leo.__name__="com,nick,nicktoons,april_fools_2013,world,hd_character,HD_Leo".split(",");
k.hd_character.HD_Leo.__super__=k.hd_character.HD_Base;k.hd_character.HD_Leo.prototype=v(k.hd_character.HD_Base.prototype,{dispose:function(){k.hd_character.HD_Base.prototype.dispose.call(this)},tweenOffScreen:function(){this._pos.y=-1E3;this._pos.x=-1E3;this._animationDone=!0;this._flagUpdate=!1;this._setState(this._STATE_IDLE);this._timerLifeSpan=1},updateToPlayer:function(){this._setState(this._STATE_SURPRISED);this._flagUpdate=!0},startTweens:function(){this._pos.y=994;this._pos.x=this._player._getPredictedPos().x;
this._animationDone=!1;f.tween.WorkinTweener._getInstance().tween(this._getPos(),1.2,{y:440},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.updateToPlayer))},update:function(a){k.hd_character.HD_Base.prototype.update.call(this,a);0>=this._player._getPredictedPos().y&&(f.tween.WorkinTweener._getInstance().stop(this._getPos()),this._animationDone=!0)},_onAnimationComplete:function(){switch(this._state){case this._STATE_SURPRISED:this._setState(this._STATE_SWALLOW);break;case this._STATE_SWALLOW:this._setState(this._STATE_BELCH);
break;case this._STATE_BELCH:this._setState(this._STATE_OUT);break;case this._STATE_OUT:this._setState(this._STATE_OUT),f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{y:d.ConstantsApp.STAGE_HEIGHT+400},null,null,!1).ease(f.tween.PennerManager.EASE_OUT).onComplete(r(this,this.tweenOffScreen))}},_setState:function(a){this._state=a;switch(this._state){case this._STATE_IDLE:this.animate("idle");break;case this._STATE_SURPRISED:this.animate("eating",1);break;case this._STATE_BELCH:g.WorkinCloud.instance._getSound().playSound("belch");
this.animate("belch",1);break;case this._STATE_OUT:this.animate("out",1);break;case this._STATE_OUT_2:this.animate("out_final");break;case this._STATE_SWALLOW:g.WorkinCloud.instance._getSound().playSound("gulp01"),this.animate("swallow",1)}},__class__:k.hd_character.HD_Leo});k.hd_character.HD_Mikey=function(a){k.hd_character.HD_Base.call(this,{x:-1E3,y:-1E3,movie:a.movie,library:a.library,layer:d.ConstantsApp.LAYER_FG,fps:24,player:a.player,type:d.ConstantsApp.HD_TYPE_MIKEY});this._player=a.player;
this._playerPos=this._player._getPos().x;this._pos.x=-1E3;this._pos.y=-1E3;this._flagSwitch=this._flagUpdate=!1;this._animationDone=!0;this._timerLifeSpan=1;this.addAnimation("idle",0,0);this.addAnimation("kick",0,27);this.addAnimation("kick2",14,27);this.addAnimation("surprised",28,58);this.addAnimation("dazed",59,71);this._setState(this._STATE_IDLE)};l["com.nick.nicktoons.april_fools_2013.world.hd_character.HD_Mikey"]=k.hd_character.HD_Mikey;k.hd_character.HD_Mikey.__name__="com,nick,nicktoons,april_fools_2013,world,hd_character,HD_Mikey".split(",");
k.hd_character.HD_Mikey.__super__=k.hd_character.HD_Base;k.hd_character.HD_Mikey.prototype=v(k.hd_character.HD_Base.prototype,{dispose:function(){k.hd_character.HD_Base.prototype.dispose.call(this)},tweenOffScreen:function(){this._pos.x=-1E3;this._pos.y=-1E3;this._animationDone=!0;this._timerLifeSpan=1;this._setState(this._STATE_IDLE);this._render.rotation=0;this._flagSwitch=!0},rotateOffScreen:function(){this._flagUpdate=!1;f.tween.WorkinTweener._getInstance().tween(this._getPos(),1,{y:d.ConstantsApp.STAGE_HEIGHT},
null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.tweenOffScreen));g.WorkinCloud.instance._getSound().playSound("whistledown");if(this._pos.x>d.ConstantsApp.STAGE_WIDTH/2)f.tween.WorkinTweener._getInstance().tween(this._render,0.5,{rotation:-45},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.tweenOffScreen));else f.tween.WorkinTweener._getInstance().tween(this._render,0.5,{rotation:45},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,
this.tweenOffScreen))},startTimer:function(){this._flagUpdate=!0},finalAnimation:function(){this._setState(this._STATE_SURPRISED);f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.5,{y:d.ConstantsApp.STAGE_HEIGHT/2-130},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.startTimer))},updateToPlayer:function(){g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(d.ConstantsApp.EVENT_SCREEN_SHAKE));g.WorkinCloud.instance._getSound().playSound("big_crash");
this._pos.y=d.ConstantsApp.STAGE_HEIGHT;if(this._pos.x>=d.ConstantsApp.STAGE_WIDTH)f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.5,{x:d.ConstantsApp.STAGE_WIDTH+125},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.finalAnimation));else f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.5,{x:-100},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.finalAnimation))},startTweens:function(){this._pos.y=0;this._playerPos=this._player._getPredictedPos().x;
this._animationDone=this._flagSwitch=!1;this._playerPos>d.ConstantsApp.STAGE_CENTER_X?(this._flagRight=!0,this._render.scaleX=1,this._pos.x=d.ConstantsApp.STAGE_WIDTH,f.tween.WorkinTweener._getInstance().tween(this._getPos(),1.5,{x:-d.ConstantsApp.STAGE_WIDTH},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.updateToPlayer))):(this._flagRight=!1,this._pos.x=-d.ConstantsApp.STAGE_WIDTH,this._render.scaleX=-1,f.tween.WorkinTweener._getInstance().tween(this._getPos(),3,{x:2*d.ConstantsApp.STAGE_WIDTH},
null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.updateToPlayer)));null},update:function(a){k.hd_character.HD_Base.prototype.update.call(this,a);0>=this._player._getPredictedPos().y&&(f.tween.WorkinTweener._getInstance().stop(this._getPos()),f.tween.WorkinTweener._getInstance().stop(this._render),this._animationDone=!0);this._flagRight?this._pos.x<d.ConstantsApp.STAGE_WIDTH&&!1==this._flagSwitch&&(this._setState(3),g.WorkinCloud.instance._getSound().playSound("whoosh"),this._flagSwitch=
!0):0<this._pos.x&&!1==this._flagSwitch&&(this._setState(3),g.WorkinCloud.instance._getSound().playSound("whoosh"),this._flagSwitch=!0);if(this._flagUpdate&&(this._timerLifeSpan-=a,0>this._timerLifeSpan||this._player._getIsDead()))this._timerLifeSpan=0,this.rotateOffScreen()},_onAnimationComplete:function(){switch(this._state){case this._STATE_SURPRISED:this._setState(this._STATE_DAZED)}},_setState:function(a){this._state=a;switch(this._state){case this._STATE_IDLE:this.animate("idle");break;case this._STATE_SURPRISED:this.animate("surprised",
1);break;case 3:this.animate("kick",1);break;case 4:this.animate("kick2");break;case this._STATE_DAZED:this.animate("dazed")}},__class__:k.hd_character.HD_Mikey});k.hd_character.HD_Patrick=function(a){k.hd_character.HD_Base.call(this,{x:-1E3,y:-1E3,movie:a.movie,library:a.library,layer:d.ConstantsApp.LAYER_FG,fps:24,player:a.player,type:d.ConstantsApp.HD_TYPE_PATRICK});this._player=a.player;this._playerPos=this._player._getPos().x;this._animationDone=!0;this._flagUpdate=!1;this._timerLifeSpan=1;this._pos.x=
-1E3;this._pos.y=-1E3;this.addAnimation("frozen",1,1);this.addAnimation("idle",1,12);this.addAnimation("surprised",1,12);this._setState(10)};l["com.nick.nicktoons.april_fools_2013.world.hd_character.HD_Patrick"]=k.hd_character.HD_Patrick;k.hd_character.HD_Patrick.__name__="com,nick,nicktoons,april_fools_2013,world,hd_character,HD_Patrick".split(",");k.hd_character.HD_Patrick.__super__=k.hd_character.HD_Base;k.hd_character.HD_Patrick.prototype=v(k.hd_character.HD_Base.prototype,{dispose:function(){k.hd_character.HD_Base.prototype.dispose.call(this)},
tweenOffScreen:function(){this._pos.x=-1E3;this._pos.y=-1E3;this._animationDone=!0;this._setState(10);this._flagUpdate=!1;this._timerLifeSpan=1},updateToPlayer:function(){g.WorkinCloud.instance._getSound().playSound("Sound_patHappy");this._flagUpdate=!0},startTweens:function(){this._setState(this._STATE_IDLE);this._pos.y=320;this._playerPos=this._player._getPredictedPos().x;this._animationDone=!1;this._playerPos>d.ConstantsApp.STAGE_CENTER_X?(this._flagInitLeft=!1,this._render.scaleX=1,this._pos.x=
d.ConstantsApp.STAGE_CENTER_X+d.ConstantsApp.STAGE_WIDTH):(this._flagInitLeft=!0,this._render.scaleX=-1,this._pos.x=-d.ConstantsApp.STAGE_CENTER_X);f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:this._playerPos},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.updateToPlayer))},update:function(a){k.hd_character.HD_Base.prototype.update.call(this,a);0>=this._player._getPredictedPos().y&&(f.tween.WorkinTweener._getInstance().stop(this._getPos()),this._animationDone=
!0);if(this._flagUpdate&&(this._player._getIsDead()||(this._playerPos=this._player._getPos().x,this._getPos().x=this._playerPos),this._timerLifeSpan-=a,0>this._timerLifeSpan||this._player._getIsDead()))this._timerLifeSpan=0,this._setState(this._STATE_SURPRISED)},_onAnimationComplete:function(){switch(this._state){case this._STATE_SURPRISED:if(this._flagUpdate=!1,this._flagInitLeft)f.tween.WorkinTweener._getInstance().tween(this._getPos(),1,{x:-d.ConstantsApp.STAGE_WIDTH},null,null,!1).ease(f.tween.PennerManager.EASE_OUT).onComplete(r(this,
this.tweenOffScreen));else f.tween.WorkinTweener._getInstance().tween(this._getPos(),1,{x:d.ConstantsApp.STAGE_WIDTH+d.ConstantsApp.STAGE_CENTER_X},null,null,!1).ease(f.tween.PennerManager.EASE_OUT).onComplete(r(this,this.tweenOffScreen))}},_setState:function(a){this._state=a;switch(this._state){case 10:this.animate("frozen");break;case this._STATE_IDLE:this.animate("idle");break;case this._STATE_SURPRISED:this.animate("surprised",1)}},__class__:k.hd_character.HD_Patrick});k.hd_character.HD_Po=function(a){k.hd_character.HD_Base.call(this,
{x:-1E3,y:-1E3,movie:a.movie,library:a.library,layer:d.ConstantsApp.LAYER_FG,fps:24,player:a.player,type:d.ConstantsApp.HD_TYPE_PO});this._player=a.player;this._playerPos=this._player._getPos().x;this._pos.y=-1E3;this._pos.x=-1E3;this._animationDone=!0;this._flagUpdate=!1;this._timerLifeSpan=1;this.addAnimation("idle",0,0);this._setState(this._STATE_IDLE)};l["com.nick.nicktoons.april_fools_2013.world.hd_character.HD_Po"]=k.hd_character.HD_Po;k.hd_character.HD_Po.__name__="com,nick,nicktoons,april_fools_2013,world,hd_character,HD_Po".split(",");
k.hd_character.HD_Po.__super__=k.hd_character.HD_Base;k.hd_character.HD_Po.prototype=v(k.hd_character.HD_Base.prototype,{dispose:function(){k.hd_character.HD_Base.prototype.dispose.call(this)},tweenOffScreen:function(){g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(d.ConstantsApp.EVENT_SCREEN_SHAKE));g.WorkinCloud.instance._getSound().playSound("big_crash");this._pos.y=-1E3;this._pos.x=-1E3;this._animationDone=!0;this._flagUpdate=!1;this._setState(this._STATE_IDLE);this._timerLifeSpan=
1},updateToPlayer:function(){},startTweens:function(){this._pos.x=-111.8;this._pos.y=-86.65;this._playerPos=this._player._getPredictedPos().x;this._animationDone=!1;f.tween.WorkinTweener._getInstance().tween(this._getPos(),1,{x:d.ConstantsApp.STAGE_WIDTH,y:d.ConstantsApp.STAGE_HEIGHT},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.tweenOffScreen))},update:function(a){k.hd_character.HD_Base.prototype.update.call(this,a)},_onAnimationComplete:function(){},_setState:function(a){this._state=
a;switch(this._state){case this._STATE_IDLE:this.animate("idle")}},__class__:k.hd_character.HD_Po});k.hd_character.HD_Raph=function(a){k.hd_character.HD_Base.call(this,{x:-1E3,y:-1E3,movie:a.movie,library:a.library,layer:d.ConstantsApp.LAYER_FG,fps:24,player:a.player,type:d.ConstantsApp.HD_TYPE_RAPH});this._player=a.player;this._playerPos=this._player._getPos().x;this._animationDone=!0;this._flagUpdate=!1;this._timerLifeSpan=1;this._pos.x=-1E3;this._pos.y=-1E3;this.addAnimation("idle",0,14);this.addAnimation("2 jab",
15,34);this.addAnimation("megapunch",35,48);this._setState(this._STATE_IDLE)};l["com.nick.nicktoons.april_fools_2013.world.hd_character.HD_Raph"]=k.hd_character.HD_Raph;k.hd_character.HD_Raph.__name__="com,nick,nicktoons,april_fools_2013,world,hd_character,HD_Raph".split(",");k.hd_character.HD_Raph.__super__=k.hd_character.HD_Base;k.hd_character.HD_Raph.prototype=v(k.hd_character.HD_Base.prototype,{dispose:function(){k.hd_character.HD_Base.prototype.dispose.call(this)},tweenOffScreen:function(){this._pos.x=
-1E3;this._pos.y=-1E3;this._animationDone=!0;this._setState(this._STATE_IDLE);this._flagUpdate=!1;this._timerLifeSpan=1},endTween:function(){if(this._flagInitLeft)f.tween.WorkinTweener._getInstance().tween(this._getPos(),1,{x:-d.ConstantsApp.STAGE_WIDTH},null,null,!1).ease(f.tween.PennerManager.EASE_OUT).onComplete(r(this,this.tweenOffScreen));else f.tween.WorkinTweener._getInstance().tween(this._getPos(),1,{x:d.ConstantsApp.STAGE_WIDTH+d.ConstantsApp.STAGE_CENTER_X},null,null,!1).ease(f.tween.PennerManager.EASE_OUT).onComplete(r(this,
this.tweenOffScreen))},updateToPlayer:function(){this._setState(this._STATE_SURPRISED)},startTweens:function(){this._pos.y=120;this._playerPos=this._player._getPredictedPos().x;this._animationDone=!1;this._playerPos>d.ConstantsApp.STAGE_CENTER_X?(this._flagInitLeft=!1,this._render.scaleX=1,this._pos.x=d.ConstantsApp.STAGE_CENTER_X+d.ConstantsApp.STAGE_WIDTH):(this._flagInitLeft=!0,this._pos.x=-d.ConstantsApp.STAGE_CENTER_X);f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:250},null,
null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.updateToPlayer))},update:function(a){k.hd_character.HD_Base.prototype.update.call(this,a);0>=this._player._getPredictedPos().y&&(f.tween.WorkinTweener._getInstance().stop(this._getPos()),this._animationDone=!0)},_onAnimationComplete:function(){switch(this._state){case this._STATE_SURPRISED:this._setState(2);break;case 2:this.endTween()}},_setState:function(a){this._state=a;switch(this._state){case this._STATE_IDLE:this.animate("idle");
break;case this._STATE_SURPRISED:g.WorkinCloud.instance._getSound().playSound("jab");this.animate("2 jab",1);break;case 2:this.animate("megapunch",1)}},__class__:k.hd_character.HD_Raph});k.hd_character.HD_Sanjay=function(a){this._STATE_CLOSE2=5;this._STATE_SWIPE_OUT=4;this._STATE_SWIPE=3;this._STATE_CLOSE=2;k.hd_character.HD_Base.call(this,{x:-1E3,y:-1E3,movie:a.movie,library:a.library,layer:d.ConstantsApp.LAYER_FG,fps:24,player:a.player,type:d.ConstantsApp.HD_TYPE_SANJAY});this._player=a.player;
this._playerPos=this._player._getPos().x;this._pos.x=-1E3;this._pos.y=-1E3;this._animationDone=!0;this._flagUpdate=!1;this._timerLifeSpan=1;this.addAnimation("idle",0,0);this.addAnimation("close up",1,15);this.addAnimation("close up 2",16,24);this.addAnimation("swipe",25,34);this.addAnimation("swipe idle",34,34);this.addAnimation("surprised",1,16);this._setState(this._STATE_IDLE)};l["com.nick.nicktoons.april_fools_2013.world.hd_character.HD_Sanjay"]=k.hd_character.HD_Sanjay;k.hd_character.HD_Sanjay.__name__=
"com,nick,nicktoons,april_fools_2013,world,hd_character,HD_Sanjay".split(",");k.hd_character.HD_Sanjay.__super__=k.hd_character.HD_Base;k.hd_character.HD_Sanjay.prototype=v(k.hd_character.HD_Base.prototype,{dispose:function(){k.hd_character.HD_Base.prototype.dispose.call(this)},updateToPlayer:function(){this._setState(this._STATE_CLOSE);this._flagUpdate=!0},startTweens:function(){this._pos.y=d.ConstantsApp.STAGE_HEIGHT;this._pos.x=75;this._animationDone=!1;f.tween.WorkinTweener._getInstance().tween(this._getPos(),
1.2,{y:-225},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.updateToPlayer))},update:function(a){k.hd_character.HD_Base.prototype.update.call(this,a);0>=this._player._getPredictedPos().y&&(f.tween.WorkinTweener._getInstance().stop(this._getPos()),this._animationDone=!0)},_onAnimationComplete:function(){switch(this._state){case this._STATE_CLOSE:g.WorkinCloud.instance._getSound().playSound("sanjay");this._setState(this._STATE_CLOSE2);break;case this._STATE_CLOSE2:this._setState(this._STATE_SWIPE);
f.tween.WorkinTweener._getInstance().tween(this._getPos(),4.2,{y:d.ConstantsApp.STAGE_HEIGHT},null,null,!1).ease(f.tween.PennerManager.EASE_OUT);break;case this._STATE_SWIPE:this._setState(this._STATE_SWIPE_OUT)}},_setState:function(a){this._state=a;switch(this._state){case this._STATE_IDLE:this.animate("idle");break;case this._STATE_SURPRISED:this.animate("surprised",1);break;case this._STATE_CLOSE:this.animate("close up",1);break;case this._STATE_CLOSE2:this.animate("close up 2",1);break;case this._STATE_SWIPE:this.animate("swipe",
1);break;case this._STATE_SWIPE_OUT:this.animate("swipe idle")}},__class__:k.hd_character.HD_Sanjay});k.hd_character.HD_Spongebob_2=function(a){k.hd_character.HD_Base.call(this,{x:-1E3,y:-1E3,movie:a.movie,library:a.library,layer:d.ConstantsApp.LAYER_FG,fps:24,player:a.player,type:d.ConstantsApp.HD_TYPE_SPONGEBOB_2});this._player=a.player;this._playerPos=this._player._getPos().x;this._pos.x=-1E3;this._pos.y=-1E3;this._flagUpdate=!1;this._timerLifeSpan=1;this._animationDone=!0;this.addAnimation("frozen",
0,0);this.addAnimation("idle",0,33);this._setState(10)};l["com.nick.nicktoons.april_fools_2013.world.hd_character.HD_Spongebob_2"]=k.hd_character.HD_Spongebob_2;k.hd_character.HD_Spongebob_2.__name__="com,nick,nicktoons,april_fools_2013,world,hd_character,HD_Spongebob_2".split(",");k.hd_character.HD_Spongebob_2.__super__=k.hd_character.HD_Base;k.hd_character.HD_Spongebob_2.prototype=v(k.hd_character.HD_Base.prototype,{dispose:function(){k.hd_character.HD_Base.prototype.dispose.call(this)},tweenOffScreen:function(){this._setState(10);
g.WorkinCloud.instance._getSound().playSound("step");this._animationDone=!0;this._pos.x=-1E3;this._pos.y=-1E3},move4:function(){g.WorkinCloud.instance._getSound().playSound("step");this._flagRight?f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:-240},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.tweenOffScreen)).delay(0.75):f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:1200},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,
this.tweenOffScreen)).delay(0.75)},move3:function(){g.WorkinCloud.instance._getSound().playSound("step");this._flagRight?f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:0},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.move4)).delay(0.75):f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:960},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.move4)).delay(0.75)},move2:function(){g.WorkinCloud.instance._getSound().playSound("step");
this._flagRight?f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:240},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.move3)).delay(0.75):f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:720},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.move3)).delay(0.75)},move1:function(){g.WorkinCloud.instance._getSound().playSound("step");f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:480},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,
this.move2)).delay(0.75)},updateToPlayer:function(){g.WorkinCloud.instance._getSound().playSound("step");this._flagRight?f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:720},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.move1)).delay(0.75):f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:240},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.move1)).delay(0.75)},startTweens:function(){this._setState(this._STATE_IDLE);
this._animationDone=!1;this._pos.y=366.4;this._playerPos>d.ConstantsApp.STAGE_CENTER_X?(this._flagRight=!0,this._pos.x=d.ConstantsApp.STAGE_WIDTH+d.ConstantsApp.STAGE_CENTER_X,f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{x:d.ConstantsApp.STAGE_WIDTH},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.updateToPlayer))):(this._flagRight=!1,this._render.scaleX=-1,this._pos.x=-d.ConstantsApp.STAGE_CENTER_X,f.tween.WorkinTweener._getInstance().tween(this._getPos(),
0.75,{x:0},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.updateToPlayer)))},update:function(a){k.hd_character.HD_Base.prototype.update.call(this,a);0>=this._player._getPredictedPos().y&&(f.tween.WorkinTweener._getInstance().stop(this._getPos()),this._animationDone=!0)},_onAnimationComplete:function(){switch(this._state){case this._STATE_SURPRISED:this._flagUpdate=!1,f.tween.WorkinTweener._getInstance().tween(this._getPos(),0.75,{y:d.ConstantsApp.STAGE_HEIGHT+400},null,null,
!1).ease(f.tween.PennerManager.EASE_OUT).onComplete(r(this,this.tweenOffScreen))}},_setState:function(a){this._state=a;switch(this._state){case 10:this.animate("frozen");break;case this._STATE_IDLE:this.animate("idle");break;case this._STATE_SURPRISED:this.animate("surprised",1)}},__class__:k.hd_character.HD_Spongebob_2});k.obstacles={};k.obstacles.Bubble=function(a){this._STATE_POP_2=2;this._STATE_POP=1;this._STATE_IDLE=0;n.AnimatedElement.call(this,{x:a.x,y:a.y,movie:this._movieId(),library:this._libraryId(),
layer:d.ConstantsApp.LAYER_PLAYER});this._prevPos=this._pos.copy();this._nextPos=this._pos.copy();this._motionLine=new f.WorkinLine(this._pos,this._nextPos);this._prevVelocity=new f.WorkinPoint(0,0);this._flagStagger=a.stagger;this._flagQueAnimation=!1;this.addAnimation("idle",0,0);this.addAnimation("pop",1,1);this.addAnimation("pop2",2,2);this._setState(this._STATE_IDLE)};l["com.nick.nicktoons.april_fools_2013.world.obstacles.Bubble"]=k.obstacles.Bubble;k.obstacles.Bubble.__name__="com,nick,nicktoons,april_fools_2013,world,obstacles,Bubble".split(",");
k.obstacles.Bubble.__super__=n.AnimatedElement;k.obstacles.Bubble.prototype=v(n.AnimatedElement.prototype,{dispose:function(){n.AnimatedElement.prototype.dispose.call(this);this._motionLine=this._nextPos=this._prevPos=this._prevVelocity=null},_calculateMotion:function(){this._motionLine.to(this._pos,this._nextPos)},updatePositionFromVelocity:function(a){this._nextPos.x+=this._velocity.x*a;this._nextPos.y+=this._velocity.y*a;this._calculateMotion();this._prevPos.x=this._pos.x;this._prevPos.y=this._pos.y;
this._pos.x=this._nextPos.x;this._pos.y=this._nextPos.y},_onLifespanComplete:function(){this._nextPos.y=-1E3;this._nextPos.x=-1E3;this._velocity.x=0;this._velocity.y=0;this._setState(this._STATE_IDLE)},_doLifespanDecrement:function(a){0<this._lifespanRemaining&&(this._lifespanRemaining-=a,0.3>=this._lifespanRemaining&&0.2<=this._lifespanRemaining&&!1==this._flagQueAnimation?(this._flagQueAnimation=!0,this._setState(this._STATE_POP)):0.1>=this._lifespanRemaining&&0<=this._lifespanRemaining&&this._flagQueAnimation?
(this._flagQueAnimation=!1,this._setState(this._STATE_POP_2)):0>=this._lifespanRemaining&&this._onLifespanComplete())},update:function(a){n.AnimatedElement.prototype.update.call(this,a);this.updatePositionFromVelocity(a);this._flagOnScreen=960<this._nextPos.x||0>this._nextPos.x||0>this._nextPos.y||560<this._nextPos.y?!1:!0;this._doLifespanDecrement(a)},runCollisionCheck:function(a){var b,c,i;b=a._getPredictedPos().x-a._getWidth()/2;c=a._getPredictedPos().x+a._getWidth()/2;g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_PLAYER_CROUCHED)?
(i=a._getPredictedPos().y+a._getHeight(),a=a._getPredictedPos().y+2*a._getHeight()):(i=a._getPredictedPos().y,a=a._getPredictedPos().y+a._getHeight());return this._nextPos.y<a&&this._nextPos.y>i?this._nextPos.x>b&&this._nextPos.x<c:!1},revive:function(a){a.x&&(this._nextPos.x=a.x);a.y&&(this._nextPos.y=a.y);a.z&&(this._nextPos.z=a.z);a.vx&&(this._velocity.x=a.vx);a.vy&&(this._velocity.y=a.vy);this._lifespanRemaining=a.lifeSpan?a.lifeSpan:1.5},_setState:function(a){this._state=a;switch(this._state){case this._STATE_IDLE:this.animate("idle");
break;case this._STATE_POP:this.animate("pop");break;case this._STATE_POP_2:this.animate("pop2")}},_libraryId:function(){return"anim_bubble"},_movieId:function(){return"_bubbles"},_getOnScreen:function(){return this._flagOnScreen},_getPredictedPos:function(){return this._nextPos},__class__:k.obstacles.Bubble});k.obstacles.Geyser=function(a){this._STATE_ERUPT=this._ACTIVE_TIME=1;this._STATE_IDLE=0;n.AnimatedElement.call(this,{x:a.x,y:a.y,movie:this._movieId(),library:this._libraryId(),layer:d.ConstantsApp.LAYER_PLAYER,
fps:a.fps});a.rotation&&(this._render.rotation=a.rotation);a.eruptTimer&&(this._ACTIVE_TIME=a.eruptTimer);this._lifeSpan=a.bubbleLifeSpan?a.bubbleLifeSpan:1.5;this._flagStagger=a.stagger;this._timerErupt=this._ACTIVE_TIME;this._width=40;this._height=24;this.addAnimation("idle",0,0);this.addAnimation("erupt",1,1);this._flagStagger?this._setState(this._STATE_IDLE):this._setState(this._STATE_ERUPT)};l["com.nick.nicktoons.april_fools_2013.world.obstacles.Geyser"]=k.obstacles.Geyser;k.obstacles.Geyser.__name__=
"com,nick,nicktoons,april_fools_2013,world,obstacles,Geyser".split(",");k.obstacles.Geyser.__super__=n.AnimatedElement;k.obstacles.Geyser.prototype=v(n.AnimatedElement.prototype,{dispose:function(){n.AnimatedElement.prototype.dispose.call(this)},_erupt:function(){g.WorkinCloud.instance._getSound().playSound("fire",0.1);if(!d.ConstantsApp.DEBUG_BUBBLES){var a=[],a=-90==this._render.rotation?{x:this._getPos().x-20,y:this._getPos().y,vx:-100,vy:0,lifeSpan:this._lifeSpan}:90==this._render.rotation?{x:this._getPos().x+
20,y:this._getPos().y,vx:100,vy:0,lifeSpan:this._lifeSpan}:180==this._render.rotation?{x:this._getPos().x,y:this._getPos().y+20,vx:0,vy:100,lifeSpan:this._lifeSpan}:{x:this._getPos().x,y:this._getPos().y-20,vx:0,vy:-100,lifeSpan:this._lifeSpan};g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventData(d.ConstantsApp.EVENT_SPAWN_BUBBLES,a))}},update:function(a){n.AnimatedElement.prototype.update.call(this,a);switch(this._state){case this._STATE_IDLE:0>this._timerErupt?(this._timerErupt=
0.5,this._setState(this._STATE_ERUPT)):this._timerErupt-=a;break;case this._STATE_ERUPT:0>this._timerErupt?(this._timerErupt=this._ACTIVE_TIME,this._setState(this._STATE_IDLE)):this._timerErupt-=a}},runCollisionCheck:function(a){var b,c,i,e,f,h,j;90==this._render.rotation?(b=this._pos.x,i=this._pos.x+this._getHeight()/2,f=this._pos.y-this._getWidth()/2,j=this._pos.y+this._getWidth()/2):-90==this._render.rotation?(b=this._pos.x-this._getHeight()/2,i=this._pos.x,f=this._pos.y-this._getWidth()/2,j=this._pos.y+
this._getWidth()/2):180==this._render.rotation?(b=this._pos.x-this._getWidth()/2,i=this._pos.x+this._getWidth()/2,j=this._pos.y+this._getHeight()/2,f=this._pos.y):(b=this._pos.x-this._getWidth()/2,i=this._pos.x+this._getWidth()/2,j=this._pos.y,f=this._pos.y-this._getHeight()/2);c=a._getPredictedPos().x-a._getWidth()/2;e=a._getPredictedPos().x+a._getWidth()/2;g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_PLAYER_CROUCHED)?(h=a._getPredictedPos().y+a._getHeight(),a=a._getPredictedPos().y+2*a._getHeight()):
(h=a._getPredictedPos().y,a=a._getPredictedPos().y+a._getHeight());if(h>f&&j>h||h<f&&a>f)if(i>c&&b<e||c>i&&e<b)return!0;return!1},setCollision:function(a,b,c){this._collisionActive=a;null==b?(this._collisionOffset.x=-(this._renderOrigin.x*this._render.width),this._collisionOffset.y=-(this._renderOrigin.y*this._render.height)):(this._collisionOffset.x=b.x,this._collisionOffset.y=b.y);null==c?(this._collision.width=this._getWidth(),this._collision.height=this._getHeight()):(this._collision.width=c.x,
this._collision.height=c.y);this._collisionActive&&this._buildCollisionBox()},_setState:function(a){this._state=a;switch(this._state){case this._STATE_IDLE:this.animate("idle");this._erupt();break;case this._STATE_ERUPT:this.animate("erupt")}},_libraryId:function(){return"anim_geyser"},_movieId:function(){return"_geyser"},_getHeight:function(){return this._height},_getWidth:function(){return this._width},__class__:k.obstacles.Geyser});k.obstacles.JellyFish=function(a){this._STATE_IDLE=0;n.AnimatedElement.call(this,
{x:a.x,y:a.y,movie:this._movieId(),library:this._libraryId(),layer:d.ConstantsApp.LAYER_PLAYER,fps:a.fps});this._prevPos=this._pos.copy();this._nextPos=new f.WorkinPoint(this._pos.x,this._pos.y);this._motionLine=new f.WorkinLine(this._pos,this._nextPos);this._prevVelocity=new f.WorkinPoint(0,0);this._bobSin=0;this._bobRate=1.2;this._bobOffset=25;a.bobRate&&(this._bobRate=a.bobRate);a.bobOffset&&(this._bobOffset=a.bobOffset);this._height=this._width=40;this._flagStaggerY=a.staggerY;this._flagStaggerX=
a.staggerX?a.staggerX:!1;this.addAnimation("idle",0,3);this.setCollision(!0);this._setState(this._STATE_IDLE)};l["com.nick.nicktoons.april_fools_2013.world.obstacles.JellyFish"]=k.obstacles.JellyFish;k.obstacles.JellyFish.__name__="com,nick,nicktoons,april_fools_2013,world,obstacles,JellyFish".split(",");k.obstacles.JellyFish.__super__=n.AnimatedElement;k.obstacles.JellyFish.prototype=v(n.AnimatedElement.prototype,{dispose:function(){n.AnimatedElement.prototype.dispose.call(this);this._motionLine=
this._nextPos=this._prevPos=this._prevVelocity=null},_calculateMotion:function(){this._motionLine.to(this._pos,this._nextPos)},updatePositionFromVelocity:function(a){this._nextPos.x+=a;this._nextPos.y+=a;this._calculateMotion();this._prevPos.x=this._pos.x;this._prevPos.y=this._pos.y;this._pos.x=this._nextPos.x;this._pos.y=this._nextPos.y},update:function(a){n.AnimatedElement.prototype.update.call(this,a);this._bobSin+=a*this._bobRate;this._flagStaggerY&&!this._flagStaggerX?this._pos.y=this._nextPos.y-
Math.sin(this._bobSin)*this._bobOffset:!this._flagStaggerY&&!this._flagStaggerX&&(this._pos.y=this._nextPos.y+Math.sin(this._bobSin)*this._bobOffset);this._flagStaggerX&&(this._pos.x=this._nextPos.x-Math.sin(this._bobSin)*this._bobOffset)},runCollisionCheck:function(a){var b,c,i,e,f,h,j;b=this._pos.x;i=this._pos.x+this._getWidth();f=this._pos.y;j=this._pos.y+this._getHeight();c=a._getPredictedPos().x-a._getWidth()/2;e=a._getPredictedPos().x+a._getWidth()/2;g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_PLAYER_CROUCHED)?
(h=a._getPredictedPos().y+a._getHeight(),a=a._getPredictedPos().y+2*a._getHeight()):(h=a._getPredictedPos().y,a=a._getPredictedPos().y+a._getHeight());if(h>f&&j>h||h<f&&a>f)if(i>c&&b<e||c>i&&e<b)return!0;return!1},setCollision:function(a,b,c){this._collisionActive=a;null==b?(this._collisionOffset.x=-(this._renderOrigin.x*this._render.width),this._collisionOffset.y=-(this._renderOrigin.y*this._render.height)):(this._collisionOffset.x=b.x,this._collisionOffset.y=b.y);null==c?(this._collision.width=
this._getWidth(),this._collision.height=this._getHeight()):(this._collision.width=c.x,this._collision.height=c.y);this._collisionActive&&this._buildCollisionBox()},_setState:function(a){this._state=a;switch(this._state){case this._STATE_IDLE:this.animate("idle")}},_libraryId:function(){return"anim_jellyfish"},_movieId:function(){return"_jellyfish"},_getHeight:function(){return this._height},_getWidth:function(){return this._width},_getPredictedPos:function(){return this._nextPos},__class__:k.obstacles.JellyFish});
k.player={};k.player.PlayerBase=function(a){this._TIMER_RESPAWN=0.1;this._TIMER_COOLDOWN=0.25;this._TIMER_SPAWN=2;this._MOVE_RESPAWN=8;this._MOVE_FALL_OFF_LADDER=7;this._MOVE_HIT=6;this._MOVE_CROUCH=5;this._MOVE_CLIMB=4;this._MOVE_FALL=3;this._MOVE_RUN=2;this._MOVE_JUMP=1;this._MOVE_IDLE=0;n.AnimatedElement.call(this,{x:a.x,y:a.y,movie:this._movieId(),library:this._libraryId(),layer:d.ConstantsApp.LAYER_PLAYER,origin:new f.WorkinPoint(0,0),fps:a.fps});this._prevPos=this._pos.copy();this._nextPos=
this._pos.copy();this._motionLine=new f.WorkinLine(this._pos,this._nextPos);this._inputForce=new f.WorkinPoint;this._width=40;this._height=60;this._hasNewVelocity=!1;this._allowJump=!0;this._jumpNew=!1;this._actionLocked=!0;this._flagCollected=this._flagStopInput=this._flagDispatched=this._flagCrouched=!1;this._spawnState=0;this._gravityAccel=2E3;this._fallVelMax=800;this._timerHDSpawn=0;this._timerCooldown=this._TIMER_COOLDOWN;this._timerRespawn=this._TIMER_RESPAWN;this._runAccel=1500;this._runMax=
275;this._runDecel=300;this._jumpMax=450;this._jumpAccel=2E4;this._jumpNumMax=1;this._jumpTimer=this._jumpNum=0;this._jumpLength=0.2;this._jumpNumTotal=0;this._initInputTracking()};l["com.nick.nicktoons.april_fools_2013.world.player.PlayerBase"]=k.player.PlayerBase;k.player.PlayerBase.__name__="com,nick,nicktoons,april_fools_2013,world,player,PlayerBase".split(",");k.player.PlayerBase.__super__=n.AnimatedElement;k.player.PlayerBase.prototype=v(n.AnimatedElement.prototype,{dispose:function(){n.AnimatedElement.prototype.dispose.call(this);
this._buttonTapCount=this._buttonTimer=this._buttonDown=this._motionLine=this._inputForce=this._nextVelocity=this._nextPos=this._prevPos=this._objective=this._ladder=this._tile=this._platforms=null},_doRespawn:function(){this._nextPos.x=50;this._nextPos.y=400;this._setState(this._MOVE_IDLE)},finalScene:function(){this._pos.x=-1E3;this._pos.y=-1E3;this._nextPos.x=this._pos.x;this._nextPos.y=this._pos.y;g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_ANIMATE_ALL_STARTED,!0);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventFlow(d.ConstantsScreen.FLOW_BRANCH_GAME_LOSE))},
fall:function(){f.tween.WorkinTweener._getInstance().tween(this._getPredictedPos(),0.75,{y:d.ConstantsApp.STAGE_HEIGHT},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.finalScene))},_finalDeathScene:function(){this._flagStopInput=!0;f.tween.WorkinTweener._getInstance().tween(this._getPredictedPos(),0.25,{y:5},null,null,!1).ease(f.tween.PennerManager.EASE_IN).onComplete(r(this,this.fall))},_handleInputTapping:function(a){for(var b=this._buttonDown.keys();b.hasNext();){var c=
b.next();0<this._buttonTimer.get(c)?this._buttonTimer.set(c,this._buttonTimer.get(c)-a):0>=this._buttonTimer.get(c)&&!1==g.WorkinCloud.instance.getInput().getInput(c)&&this._buttonTapCount.set(c,0);!1==g.WorkinCloud.instance.getInput().getInput(c)&&this._buttonDown.set(c,!1)}},_onAnimationComplete:function(){switch(this._moveState){default:this.animate("idle")}},_updateImage:function(){this._moveState!=this._MOVE_CLIMB&&(this._render.scaleX=this._facing==d.ConstantsApp.DIR_RIGHT?1:-1);switch(this._moveState){case this._MOVE_CROUCH:this._buttonDown.get(d.ConstantsApp.INPUT_DOWN)?
this._setState(this._MOVE_CROUCH):this._setState(this._MOVE_IDLE)}},_actualBottomCollisionCheck:function(a){if(0<=Math.floor(this._nextPos.x-this._getWidth()/2-this._platforms[a]._getPos().x)&&0>Math.floor(this._nextPos.x-this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))||0<Math.floor(this._nextPos.x+this._getWidth()/2-this._platforms[a]._getPos().x)&&0>=Math.floor(this._nextPos.x+this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))||
0<Math.floor(this._nextPos.x-this._getWidth()/2-10-this._platforms[a]._getPos().x)&&0>Math.floor(this._nextPos.x+this._getWidth()/2+10-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))||0<=Math.floor(this._nextPos.x+this._getWidth()/2+10-this._platforms[a]._getPos().x)&&0>Math.floor(this._nextPos.x-this._getWidth()/2-this._platforms[a]._getPos().x)&&this._facing==d.ConstantsApp.DIR_RIGHT||0>Math.floor(this._nextPos.x-this._getWidth()/2-10-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))&&
0<=Math.floor(this._nextPos.x+this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getPos().x))&&this._facing==d.ConstantsApp.DIR_LEFT)switch(this._platforms[a]._getType()){case d.ConstantsApp.TYPE_INVIS_PLATFORM:this._platforms[a].setType(d.ConstantsApp.TYPE_PLATFORM);this.flagCollision=!0;this._setState(this._MOVE_IDLE);this._nextPos.y=this._platforms[a]._getPos().y-1-this._getHeight();break;case d.ConstantsApp.TYPE_SPAWN_HD:!this._flagCollected&&0==this._timerHDSpawn&&(this._timerHDSpawn=
this._TIMER_SPAWN,g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(d.ConstantsApp.EVENT_SPAWN_HD_CHARACTER)),this._flagCollected=!0);break;default:this.flagCollision=!0,this._setState(this._MOVE_IDLE),this._nextPos.y=this._platforms[a]._getPos().y-1-this._getHeight()}},_checkBottomDefaultCollision:function(a){if(this._flagCrouched){if(1==Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+this._getHeight()))&&this._platforms[a]._getType()==d.ConstantsApp.TYPE_INVIS_PLATFORM&&
(0<=Math.floor(this._nextPos.x-this._getWidth()/2-this._platforms[a]._getPos().x)&&0>Math.floor(this._nextPos.x-this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))||0<Math.floor(this._nextPos.x+this._getWidth()/2-this._platforms[a]._getPos().x)&&0>=Math.floor(this._nextPos.x+this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))||0<Math.floor(this._nextPos.x-this._getWidth()/2-10-this._platforms[a]._getPos().x)&&0>Math.floor(this._nextPos.x+
this._getWidth()/2+10-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth())))&&this._platforms[a].setType(d.ConstantsApp.TYPE_PLATFORM),0>=Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+2*this._getHeight()))&&-40<Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+2*this._getHeight()))&&this._actualBottomCollisionCheck(a),1==Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+2*this._getHeight()))&&(0<=Math.floor(this._nextPos.x-this._getWidth()/2-this._platforms[a]._getPos().x)&&
0>Math.floor(this._nextPos.x-this._getWidth()/2-this._platforms[a]._getPos().x+this._platforms[a]._getWidth())||0<Math.floor(this._nextPos.x+this._getWidth()/2-this._platforms[a]._getPos().x)&&0>=Math.floor(this._nextPos.x+this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))))this._tile=this._platforms[a]}else if(1==Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+this._getHeight()))&&this._platforms[a]._getType()==d.ConstantsApp.TYPE_INVIS_PLATFORM&&(0<=Math.floor(this._nextPos.x-
this._getWidth()/2-this._platforms[a]._getPos().x)&&0>Math.floor(this._nextPos.x-this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))||0<Math.floor(this._nextPos.x+this._getWidth()/2-this._platforms[a]._getPos().x)&&0>=Math.floor(this._nextPos.x+this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))||0<Math.floor(this._nextPos.x-this._getWidth()/2-10-this._platforms[a]._getPos().x)&&0>Math.floor(this._nextPos.x+this._getWidth()/2+10-(this._platforms[a]._getPos().x+
this._platforms[a]._getWidth())))&&this._platforms[a].setType(d.ConstantsApp.TYPE_PLATFORM),0>=Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+this._getHeight()))&&-20<Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+this._getHeight()))?this._actualBottomCollisionCheck(a):-20>=Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+this._getHeight()))&&-40<Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+this._getHeight()))?this._actualBottomCollisionCheck(a):-40>=
Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+this._getHeight()))&&-50<Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+this._getHeight()))&&this._actualBottomCollisionCheck(a),1==Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+this._getHeight()))&&(0<=Math.floor(this._nextPos.x-this._getWidth()/2-this._platforms[a]._getPos().x)&&0>=Math.floor(this._nextPos.x-this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))||0<=Math.floor(this._nextPos.x+
this._getWidth()/2-this._platforms[a]._getPos().x)&&0>=Math.floor(this._nextPos.x+this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))))this._tile=this._platforms[a]},_checkBottomCollision:function(){for(var a=this._platforms.length;0<a;)if(a--,(this._platforms[a]._getType()==d.ConstantsApp.TYPE_PLATFORM||this._platforms[a]._getType()==d.ConstantsApp.TYPE_INVIS_PLATFORM||this._platforms[a]._getType()==d.ConstantsApp.TYPE_SPAWN_HD)&&this._checkBottomDefaultCollision(a),
this._platforms[a]._getType()==d.ConstantsApp.TYPE_TRICK_PLATFORM&&0>=Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+this._getHeight()))&&-40<Math.floor(this._platforms[a]._getPos().y-(this._nextPos.y+this._getHeight()))&&(0<Math.floor(this._nextPos.x-this._getWidth()/2-this._platforms[a]._getPos().x)&&0>Math.floor(this._nextPos.x-this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))||0<Math.floor(this._nextPos.x+this._getWidth()/2-this._platforms[a]._getPos().x)&&
0>Math.floor(this._nextPos.x+this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))||0<Math.floor(this._nextPos.x-this._getWidth()/2-10-this._platforms[a]._getPos().x)&&0>Math.floor(this._nextPos.x+this._getWidth()/2+10-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth())))&&this._platforms[a]._getType()==d.ConstantsApp.TYPE_TRICK_PLATFORM)this._platforms[a]._setDoDelete(!0),this._allowJump=!1;if(null!=this._tile&&this._tile._getType()==d.ConstantsApp.TYPE_PLATFORM&&
(this._nextPos.x-this._getWidth()/2>=this._tile._getPos().x+this._tile._getWidth()||this._nextPos.x+this._getWidth()/2<=this._tile._getPos().x))this.flagCollision=!1,this._setState(this._MOVE_FALL),this._tile=null},_checkDefaultHorizCollision:function(a){if(Math.floor(this._nextPos.y+this._getHeight()+1)<=Math.floor(this._platforms[a]._getPos().y+this._platforms[a]._getHeight())&&Math.floor(this._nextPos.y+this._getHeight()+1)>Math.floor(this._platforms[a]._getPos().y)||this._nextPos.y+this._getHeight()/
2>this._platforms[a]._getPos().y&&this._nextPos.y+this._getHeight()/2<this._platforms[a]._getPos().y+this._platforms[a]._getHeight())if(this._facing==d.ConstantsApp.DIR_RIGHT){if(0<Math.floor(this._nextPos.x+this._getWidth()/2-this._platforms[a]._getPos().x)&&0>=Math.floor(this._nextPos.x+this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth())))switch(this._platforms[a]._getType()){case d.ConstantsApp.TYPE_INVIS_PLATFORM:case d.ConstantsApp.TYPE_PLATFORM:this._platforms[a].setType(d.ConstantsApp.TYPE_PLATFORM);
this._nextPos.x=this._platforms[a]._getPos().x-this._getWidth()/2-1;0!=this._velocity.y&&(this._setState(this._MOVE_FALL),this.flagCollision=!0);break;case d.ConstantsApp.TYPE_SPAWN_HD:!this._flagCollected&&0==this._timerHDSpawn&&(this._timerHDSpawn=this._TIMER_SPAWN,g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(d.ConstantsApp.EVENT_SPAWN_HD_CHARACTER)),this._flagCollected=!0)}}else if(0>Math.floor(this._nextPos.x-this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))&&
0<=Math.floor(this._nextPos.x-this._getWidth()/2-this._platforms[a]._getPos().x))switch(this._platforms[a]._getType()){case d.ConstantsApp.TYPE_INVIS_PLATFORM:case d.ConstantsApp.TYPE_PLATFORM:this._platforms[a].setType(d.ConstantsApp.TYPE_PLATFORM);this._nextPos.x=this._platforms[a]._getPos().x+this._platforms[a]._getWidth()+this._getWidth()/2+1;0!=this._velocity.y&&(this._setState(this._MOVE_FALL),this.flagCollision=!0);break;case d.ConstantsApp.TYPE_SPAWN_HD:!this._flagCollected&&0==this._timerHDSpawn&&
(this._timerHDSpawn=this._TIMER_SPAWN,g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(d.ConstantsApp.EVENT_SPAWN_HD_CHARACTER)),this._flagCollected=!0)}},_checkCrouchHorizCollision:function(a){if(Math.floor(this._nextPos.y+2*this._getHeight()+1)<=Math.floor(this._platforms[a]._getPos().y+this._platforms[a]._getHeight())&&Math.floor(this._nextPos.y+2*this._getHeight()+1)>Math.floor(this._platforms[a]._getPos().y)||this._nextPos.y+this._getHeight()>this._platforms[a]._getPos().y&&
this._nextPos.y+this._getHeight()<this._platforms[a]._getPos().y+this._platforms[a]._getHeight())if(this._facing==d.ConstantsApp.DIR_RIGHT){if(0<Math.floor(this._nextPos.x+this._getWidth()/2-this._platforms[a]._getPos().x)&&0>=Math.floor(this._nextPos.x+this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth())))switch(this._platforms[a]._getType()){case d.ConstantsApp.TYPE_INVIS_PLATFORM:case d.ConstantsApp.TYPE_PLATFORM:this._platforms[a].setType(d.ConstantsApp.TYPE_PLATFORM);
this._nextPos.x=this._platforms[a]._getPos().x-this._getWidth()/2-1;0!=this._velocity.y&&(this._setState(this._MOVE_FALL),this.flagCollision=!0);break;case d.ConstantsApp.TYPE_SPAWN_HD:!this._flagCollected&&0==this._timerHDSpawn&&(this._timerHDSpawn=this._TIMER_SPAWN,g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(d.ConstantsApp.EVENT_SPAWN_HD_CHARACTER)),this._flagCollected=!0)}}else if(0>Math.floor(this._nextPos.x-this._getWidth()/2-(this._platforms[a]._getPos().x+this._platforms[a]._getWidth()))&&
0<=Math.floor(this._nextPos.x-this._getWidth()/2-this._platforms[a]._getPos().x))switch(this._platforms[a]._getType()){case d.ConstantsApp.TYPE_INVIS_PLATFORM:case d.ConstantsApp.TYPE_PLATFORM:this._platforms[a].setType(d.ConstantsApp.TYPE_PLATFORM);this._nextPos.x=this._platforms[a]._getPos().x+this._platforms[a]._getWidth()+this._getWidth()/2+1;0!=this._velocity.y&&(this._setState(this._MOVE_FALL),this.flagCollision=!0);break;case d.ConstantsApp.TYPE_SPAWN_HD:!this._flagCollected&&0==this._timerHDSpawn&&
(this._timerHDSpawn=this._TIMER_SPAWN,g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(d.ConstantsApp.EVENT_SPAWN_HD_CHARACTER)),this._flagCollected=!0)}},_checkHorizCollision:function(){for(var a=this._platforms.length;0<a;)if(a--,(this._platforms[a]._getType()==d.ConstantsApp.TYPE_PLATFORM||this._platforms[a]._getType()==d.ConstantsApp.TYPE_INVIS_PLATFORM||this._platforms[a]._getType()==d.ConstantsApp.TYPE_SPAWN_HD)&&this._platforms[a]._getSideCollideable())switch(this._moveState){case this._MOVE_CROUCH:this._checkCrouchHorizCollision(a);
break;default:this._checkDefaultHorizCollision(a)}},_checkBounds:function(){if(190>this._nextPos.y||360<this._nextPos.y&&500>this._nextPos.y)switch(g.WorkinCloud.instance.getInt(d.ConstantsApp.INT_LEVEL)){case 2:0>this._nextPos.x-this._getWidth()/2&&(this._nextPos.x=1+this._getWidth()/2);190>this._nextPos.y&&this._nextPos.x-this._getWidth()/2>d.ConstantsApp.STAGE_WIDTH?(this._nextPos.x=1+this._getWidth()/2,this._nextPos.y=439,this._facing=d.ConstantsApp.DIR_LEFT):this._nextPos.x-this._getWidth()/
2>d.ConstantsApp.STAGE_WIDTH&&(this._nextPos.x=1+this._getWidth()/2);break;case 3:190>this._nextPos.y&&0>this._nextPos.x+this._getWidth()/2&&(this._nextPos.x=d.ConstantsApp.STAGE_WIDTH-this._getWidth()/2-1);this._nextPos.x-this._getWidth()/2>d.ConstantsApp.STAGE_WIDTH&&(this._nextPos.x=1+this._getWidth()/2);break;default:0>this._nextPos.x-this._getWidth()/2&&(this._nextPos.x=1+this._getWidth()/2),this._nextPos.x-this._getWidth()/2>d.ConstantsApp.STAGE_WIDTH&&(this._nextPos.x=1+this._getWidth()/2)}else 346>
this._nextPos.y&&190<this._nextPos.y?0>this._nextPos.x+this._getWidth()/2&&(this._nextPos.x=d.ConstantsApp.STAGE_WIDTH-this._getWidth()/2-1):0>this._nextPos.x-this._getWidth()/2&&(this._nextPos.x=1+this._getWidth()/2),this._nextPos.x+this._getWidth()/2>d.ConstantsApp.STAGE_WIDTH&&(this._nextPos.x=d.ConstantsApp.STAGE_WIDTH-this._getWidth()/2-1)},_checkSpawnPoints:function(){for(var a=this._platforms.length;0<a;)if(a--,(this._platforms[a]._getType()==d.ConstantsApp.TYPE_CHECKPOINT_1||this._platforms[a]._getType()==
d.ConstantsApp.TYPE_CHECKPOINT_2)&&this._platforms[a].checkBoxToBoxCollision(this,this._direction))switch(this._platforms[a]._getType()){case d.ConstantsApp.TYPE_CHECKPOINT_1:this._spawnState=1;this._platforms[a]._setDoDelete(!0);break;case d.ConstantsApp.TYPE_CHECKPOINT_2:this._spawnState=2,this._platforms[a]._setDoDelete(!0)}},_updateWinConditions:function(){this._flagCollidingWithWinLadder&&this._moveState==this._MOVE_CLIMB&&0>this._nextPos.y&&(this._nextPos.y=0,g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(d.ConstantsApp.EVENT_LEVEL_COMPLETE)))},
_checkLadderCollision:function(){for(var a=this._platforms.length;0<a;)a--,this._platforms[a]._getType()==d.ConstantsApp.TYPE_LADDER&&this._prevMoveState!=this._MOVE_FALL_OFF_LADDER&&this._platforms[a].checkBoxToBoxCollision(this,this._direction)&&(this._ladder=this._platforms[a]);null!=this._ladder&&this._ladder._getType()==d.ConstantsApp.TYPE_LADDER&&(this._ladder.checkBoxToBoxCollision(this,this._direction)?this.flagCollision=this._flagCollidingWithLadder=!0:(this._flagCollidingWithLadder=!1,this._ladder=
null,this.flagCollision=!1));this.flagCollision=this._objective.runCollisionCheck(this,this._direction)?this._flagCollidingWithWinLadder=!0:this._flagCollidingWithWinLadder=!1;4==g.WorkinCloud.instance.getInt(d.ConstantsApp.INT_LEVEL)&&this._flagCollidingWithWinLadder&&!1==g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_EASTER_EGG_UNLOCKED)&&!this._flagDispatched&&(this._finalDeathScene(),this._flagDispatched=!0);switch(this._moveState){case this._MOVE_CLIMB:this._flagCollidingWithLadder?this._setState(this._MOVE_CLIMB):
this._flagCollidingWithWinLadder?this._setState(this._MOVE_CLIMB):!this._flagCollidingWithLadder&&!this._flagCollidingWithWinLadder&&this._setState(this._MOVE_FALL_OFF_LADDER)}},_updateCollisions:function(a){switch(this._moveState){case this._MOVE_IDLE:this._checkLadderCollision(a);this._checkBottomCollision(a);this._checkHorizCollision(a);break;case this._MOVE_RESPAWN:this._checkBottomCollision(a);break;case this._MOVE_JUMP:this._checkLadderCollision(a);this._checkHorizCollision(a);break;case this._MOVE_RUN:this._checkLadderCollision(a);
this._checkBottomCollision(a);this._checkHorizCollision(a);break;case this._MOVE_FALL:this._checkHorizCollision(a);this._checkLadderCollision(a);0<this._velocity.y&&this._checkBottomCollision(a);break;case this._MOVE_FALL_OFF_LADDER:this._checkHorizCollision(a);0<this._velocity.y&&this._checkBottomCollision(a);break;case this._MOVE_CLIMB:this._checkLadderCollision(a);this._checkHorizCollision(a);break;case this._MOVE_CROUCH:this._checkBottomCollision(a);this._checkHorizCollision(a);break;default:this._checkBottomCollision(a),
this._checkHorizCollision(a)}this._checkSpawnPoints(a);this._checkBounds(a)},_calculateMotion:function(){this._motionLine.to(this._pos,this._nextPos)},updatePositionFromVelocity:function(a){this._nextPos.x+=this._velocity.x*a;this._nextPos.y+=this._velocity.y*a;this._calculateMotion();this._prevPos.x=this._pos.x;this._prevPos.y=this._pos.y;this._pos.x=this._nextPos.x;this._pos.y=this._nextPos.y},update:function(a){this._getDoDelete()||(this._hasNewVelocity&&(this._velocity.toPoint(this._nextVelocity),
this._hasNewVelocity=!1),n.AnimatedElement.prototype.update.call(this,a),0<this._timerHDSpawn?this._timerHDSpawn-=a:(this._timerHDSpawn=0,this._flagCollected=!1),0<this._timerCooldown?this._timerCooldown-=a:(this._getInput(),this._applyInput(),this._updateCollisions(a),this._updateWinConditions(a),this._applyForces(a),this._updateImage(a),this._moveState!=this._MOVE_HIT&&this._moveState!=this._MOVE_RESPAWN&&this.updatePositionFromVelocity(a),this._handleInputTapping(a),this._jumpNew=!1))},setCollision:function(a,
b,c){this._collisionActive=a;null==b?(this._collisionOffset.x=-(this._renderOrigin.x*this._render.width),this._collisionOffset.y=-(this._renderOrigin.y*this._render.height)):(this._collisionOffset.x=b.x,this._collisionOffset.y=b.y);null==c?(this._collision.width=this._getWidth(),this._collision.height=this._getHeight()):(this._collision.width=c.x,this._collision.height=c.y);this._collisionActive&&this._buildCollisionBox()},_applyFallForce:function(a){this._velocity.y+=this._gravityAccel*a;this._velocity.y>
this._fallVelMax&&(this._velocity.y=this._fallVelMax)},_applyJumpForce:function(a){this._jumpTimer-=a;0>this._jumpTimer?this._setState(this._MOVE_FALL):(this._velocity.y-=this._jumpAccel*a,this._velocity.y<-this._jumpMax&&(this._velocity.y=-this._jumpMax))},_applyYForce:function(a,b){0<this._inputForce.y&&0>this._velocity.y?this._velocity.y=0:0>this._inputForce.y&&0<this._velocity.y&&(this._velocity.y=0);0!=this._inputForce.y?(this._velocity.y+=this._runAccel*this._inputForce.y*b*a,Math.abs(this._velocity.y)>
this._runMax*b&&(this._velocity.y=this._runMax*this._inputForce.y*b)):(0<this._velocity.y&&(this._velocity.y-=this._runDecel*a,0<=this._velocity.y&&(this._velocity.y=0)),0>this._velocity.y&&(this._velocity.y+=this._runDecel*a,0>=this._velocity.y&&(this._velocity.y=0)))},_applyXForce:function(a,b){0<this._inputForce.x&&0>this._velocity.x?this._velocity.x=0:0>this._inputForce.x&&0<this._velocity.x&&(this._velocity.x=0);0!=this._inputForce.x?(this._velocity.x+=this._runAccel*this._inputForce.x*b*a,Math.abs(this._velocity.x)>
this._runMax*b&&(this._velocity.x=this._runMax*this._inputForce.x*b)):(0<this._velocity.x&&(this._velocity.x-=this._runDecel*a,0<=this._velocity.x&&(this._velocity.x=0)),0>this._velocity.x&&(this._velocity.x+=this._runDecel*a,0>=this._velocity.x&&(this._velocity.x=0)))},_applyForces:function(a){switch(this._moveState){case this._MOVE_JUMP:this._applyXForce(a,1);this._applyJumpForce(a);break;case this._MOVE_RUN:this._applyXForce(a,1);break;case this._MOVE_IDLE:this._applyXForce(a,1);break;case this._MOVE_FALL:this._applyXForce(a,
1);this.flagCollision||this._applyFallForce(a);break;case this._MOVE_FALL_OFF_LADDER:this._applyXForce(a,1);this.flagCollision||this._applyFallForce(a);break;case this._MOVE_CLIMB:this._applyYForce(a,1);this._applyXForce(a,1);break;case this._MOVE_CROUCH:this._applyXForce(a,0.25)}},_startButtonTap:function(a){!1==this._buttonDown.get(a)&&(this._buttonTimer.set(a,0.15),this._buttonTapCount.set(a,this._buttonTapCount.get(a)+1));this._buttonDown.set(a,!0)},_applyInput:function(){switch(this._moveState){case this._MOVE_IDLE:0!=
this._inputForce.x&&this._setState(this._MOVE_RUN);0>this._inputForce.y&&this._allowJump&&this._jumpNew&&this._setState(this._MOVE_JUMP);0<=this._inputForce.y&&(this._allowJump=!0,this._jumpNum=0);break;case this._MOVE_RUN:0==this._inputForce.x&&this._setState(this._MOVE_IDLE);0<=this._inputForce.y&&(this._allowJump=!0);0>this._inputForce.y&&this._allowJump&&this._setState(this._MOVE_JUMP);break;case this._MOVE_FALL:0>this._inputForce.y&&this._jumpNew&&this._jumpNum<this._jumpNumMax&&this._allowJump&&
this._setState(this._MOVE_JUMP);break;case this._MOVE_JUMP:0>this._inputForce.y&&this._jumpNew&&this._jumpNum<this._jumpNumMax&&this._setState(this._MOVE_JUMP),-1<this._inputForce.y&&this._setState(this._MOVE_FALL)}},_getInput:function(){},handleInput:function(){},_initInputTracking:function(){this._buttonDown=new F;this._buttonTimer=new F;this._buttonTapCount=new F;for(var a="",b=0;5>b;){switch(b++){case 0:a=d.ConstantsApp.INPUT_LEFT;break;case 1:a=d.ConstantsApp.INPUT_RIGHT;break;case 2:a=d.ConstantsApp.INPUT_UP;
break;case 3:a=d.ConstantsApp.INPUT_DOWN;break;case 4:a=d.ConstantsApp.INPUT_SPACE}this._buttonDown.set(a,!1);this._buttonTimer.set(a,0);this._buttonTapCount.set(a,0)}},_libraryId:function(){return"anim_player"},_movieId:function(){return"_player_SpongeBob"},_isCrouched:function(){this._flagCrouched&&(this._flagCrouched=!1,g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_PLAYER_CROUCHED,this._flagCrouched))},_setState:function(a){if(this._moveState!=a){switch(a){case this._MOVE_RESPAWN:this.animate("idle");
this._isCrouched();this._velocity.y=0;this._height=60;this.setCollision(!0,new f.WorkinPoint(-20,0));break;case this._MOVE_IDLE:this.animate("idle");this._isCrouched();this._velocity.y=0;this._height=60;this.setCollision(!0,new f.WorkinPoint(-20,0));break;case this._MOVE_JUMP:g.WorkinCloud.instance._getSound().playSound("jump");this.animate("jump");this._isCrouched();this._jumpNum++;this._jumpNumTotal++;this._jumpTimer=this._jumpLength;this._velocity.y=0;this.flagCollision=!1;this._height=60;this.setCollision(!0,
new f.WorkinPoint(-20,0));break;case this._MOVE_RUN:this._isCrouched();this._height=60;this.setCollision(!0,new f.WorkinPoint(-20,0));this.flagCollision=!1;break;case this._MOVE_FALL:this.animate("fall");this._isCrouched();this._height=60;this.setCollision(!0,new f.WorkinPoint(-20,0));this._jumpNum>=this._jumpNumMax&&(this._allowJump=!1);this._moveState!=this._MOVE_JUMP&&(this._velocity.y=0);break;case this._MOVE_CLIMB:this.animate("climb1");this._flagClimbAnimation=!1;this._isCrouched();this._height=
60;this.setCollision(!0,new f.WorkinPoint(-20,0));this._allowJump=!1;break;case this._MOVE_CROUCH:this._flagCrouched=!0;g.WorkinCloud.instance.setBool(d.ConstantsApp.BOOL_PLAYER_CROUCHED,this._flagCrouched);this.animate("crouch");this._height=30;this._velocity.y=0;this.setCollision(!0,new f.WorkinPoint(-20,30));break;case this._MOVE_HIT:this.animate("hit");this._height=60;this.setCollision(!0,new f.WorkinPoint(-20,0));break;case this._MOVE_FALL_OFF_LADDER:this.animate("fall"),this.flagCollision=!1,
this._height=60,this.setCollision(!0,new f.WorkinPoint(-20,0))}this._prevMoveState=this._moveState;this._moveState=a}},setInputLocked:function(a,b){this._moveLocked=a;this._actionLocked=b},_getSpawnCD:function(){return this._flagCollected},_getFacing:function(){return this._facing},setFacing:function(a){this._facing=a},_getHeight:function(){return this._height},_getWidth:function(){return this._width},_getPredictedPos:function(){return this._nextPos},__class__:k.player.PlayerBase});k.player.NormalPlayer=
function(a){k.player.PlayerBase.call(this,{x:a.x,y:a.y,movie:this._movieId(),library:this._libraryId(),layer:d.ConstantsApp.LAYER_PLAYER,fps:a.fps});this._platforms=a.array;this._objective=a.objective;this._soundTimer=0;this.flagCollision=!1;this.addAnimation("idle",0,2);this.addAnimation("run1",2,2);this.addAnimation("run2",3,3);this.addAnimation("run3",4,4);this.addAnimation("run4",5,5);this.addAnimation("crouch",6,6);this.addAnimation("jump",7,7);this.addAnimation("fall",8,8);this.addAnimation("hit",
9,9);this.addAnimation("climb1",10,11);this.addAnimation("climb2",11,12);this.addAnimation("crouch walk",12,12);this.addAnimation("crouch walk2",13,13);this._buttonLimitDown=this._buttonLimitUp=this._buttonLimitRight=this._buttonLimitLeft=10;this._prevRunCycle=this._runCycle=0;this._runMax=300;this._runAccel=1500;this._runDecel=250;this._jumpMax=300;this._jumpAccel=2E4;this._jumpLength=0.2;this._flagDead=!1;this._setState(this._MOVE_FALL)};l["com.nick.nicktoons.april_fools_2013.world.player.NormalPlayer"]=
k.player.NormalPlayer;k.player.NormalPlayer.__name__="com,nick,nicktoons,april_fools_2013,world,player,NormalPlayer".split(",");k.player.NormalPlayer.__super__=k.player.PlayerBase;k.player.NormalPlayer.prototype=v(k.player.PlayerBase.prototype,{dispose:function(){k.player.PlayerBase.prototype.dispose.call(this);this._mousePosUp=this._mousePosDown=this._mousePos=null},doDeathAnimation:function(){this._setState(this._MOVE_HIT);this._flagDead=!0;this._timerRespawn=0;this.setInputLocked(!0,!0);0==this._soundTimer&&
(g.WorkinCloud.instance._getSound().playSound("plankton_cackle"),this._soundTimer=2)},_doRespawn:function(){this._flagDead=!1;this._facing=d.ConstantsApp.DIR_RIGHT;this._blinkTimer=0.1;this._flagRespawn=!0;this._respawnTimer=0.5;switch(this._spawnState){case 0:this._pos.x=80;this._pos.y=440;break;case 1:this._facing=d.ConstantsApp.DIR_LEFT;this._pos.x=840;this._pos.y=285;break;case 2:this._pos.x=120,this._pos.y=120}this._nextPos.x=this._pos.x;this._nextPos.y=this._pos.y;this._moveLocked=!0;g.WorkinCloud.instance.modifyInt(d.ConstantsApp.INT_SCORE,
1);this._setState(this._MOVE_RESPAWN)},_getInput:function(){this._inputForce.x=0;this._inputForce.y=0;if(!this._moveLocked){var a=!1,b=!1,c=!1,i=!1,e=!1;g.WorkinCloud.instance.getBool(d.ConstantsApp.BOOL_TABLET)?(a=g.WorkinCloud.instance.getBool(d.ConstantsApp.INPUT_UP),e=g.WorkinCloud.instance.getBool(d.ConstantsApp.INPUT_DOWN),b=g.WorkinCloud.instance.getBool(d.ConstantsApp.INPUT_LEFT),c=g.WorkinCloud.instance.getBool(d.ConstantsApp.INPUT_RIGHT)):(b=g.WorkinCloud.instance.getInput().getInput(d.ConstantsApp.INPUT_LEFT),
c=g.WorkinCloud.instance.getInput().getInput(d.ConstantsApp.INPUT_RIGHT),a=g.WorkinCloud.instance.getInput().getInput(d.ConstantsApp.INPUT_UP),i=!1==this._buttonDown.get(d.ConstantsApp.INPUT_SPACE)&&g.WorkinCloud.instance.getInput().getInput(d.ConstantsApp.INPUT_SPACE),e=g.WorkinCloud.instance.getInput().getInput(d.ConstantsApp.INPUT_DOWN)&&0<=this._inputForce.y);if(b){if(this._moveState==this._MOVE_RUN&&10<this._buttonLimitLeft){3<this._runCycle&&(this._runCycle=0);switch(this._runCycle){case 0:this.animate("run1");
break;case 1:this.animate("run2");break;case 2:this.animate("run3");break;case 3:this.animate("run4")}this._runCycle++;this._buttonLimitLeft=0}else this._moveState==this._MOVE_CROUCH&&10<this._buttonLimitLeft?(this._flagClimbAnimation?(this._flagClimbAnimation=!1,this.animate("crouch walk")):(this._flagClimbAnimation=!0,this.animate("crouch walk2")),this._buttonLimitLeft=0):(this._moveState==this._MOVE_RUN||this._moveState==this._MOVE_CROUCH||this._moveState==this._MOVE_FALL||this._moveState==this._MOVE_JUMP)&&
this._buttonLimitLeft++;this._facing=d.ConstantsApp.DIR_LEFT;this._inputForce.x=-1;this._startButtonTap(d.ConstantsApp.INPUT_LEFT)}if(c){if(this._moveState==this._MOVE_RUN&&10<this._buttonLimitLeft){3<this._runCycle&&(this._runCycle=0);switch(this._runCycle){case 0:this.animate("run1");break;case 1:this.animate("run2");break;case 2:this.animate("run3");break;case 3:this.animate("run4")}this._runCycle++;this._buttonLimitLeft=0}else this._moveState==this._MOVE_CROUCH&&10<this._buttonLimitLeft?(this._flagClimbAnimation?
(this._flagClimbAnimation=!1,this.animate("crouch walk")):(this._flagClimbAnimation=!0,this.animate("crouch walk2")),this._buttonLimitLeft=0):(this._moveState==this._MOVE_RUN||this._moveState==this._MOVE_CROUCH||this._moveState==this._MOVE_FALL||this._moveState==this._MOVE_JUMP)&&this._buttonLimitLeft++;this._facing=d.ConstantsApp.DIR_RIGHT;this._inputForce.x=1;this._startButtonTap(d.ConstantsApp.INPUT_RIGHT)}a&&(this._inputForce.y=-1,this._flagCollidingWithLadder||this._flagCollidingWithWinLadder?
(this._setState(this._MOVE_CLIMB),5<this._buttonLimitUp?(this._flagClimbAnimation?(this._flagClimbAnimation=!1,this.animate("climb1")):(this._flagClimbAnimation=!0,this.animate("climb2")),this._buttonLimitUp=0):this._buttonLimitUp++):!1==this._buttonDown.get(d.ConstantsApp.INPUT_UP)&&(this._jumpNew=!0),this._startButtonTap(d.ConstantsApp.INPUT_UP));if(e){if(this._flagCollidingWithLadder||this._flagCollidingWithWinLadder)this._setState(this._MOVE_CLIMB),5<this._buttonLimitDown?(this._flagClimbAnimation?
(this._flagClimbAnimation=!1,this.animate("climb1")):(this._flagClimbAnimation=!0,this.animate("climb2")),this._buttonLimitDown=0):this._buttonLimitDown++;(this._moveState==this._MOVE_IDLE||this._moveState==this._MOVE_RUN)&&this._setState(this._MOVE_CROUCH);this._moveState==this._MOVE_CLIMB&&(this._inputForce.y=1);this._startButtonTap(d.ConstantsApp.INPUT_DOWN)}!this._actionLocked&&i&&(this._mousePosDown=this._mousePosUp=null)}},handleInput:function(a){switch(a.input){case d.ConstantsApp.INPUT_CLICK:switch(a.phase){case p.WMEventInput.PHASE_DOWN:this._mousePosDown=
new f.WorkinPoint(a.x,a.y);break;case p.WMEventInput.PHASE_UP:this._mousePosUp=new f.WorkinPoint(a.x,a.y)}}},update:function(a){k.player.PlayerBase.prototype.update.call(this,a);this._soundTimer=0>=this._soundTimer?0:this._soundTimer-a;this._flagDead&&(this._timerRespawn-=a,0>this._timerRespawn&&(this._timerRespawn=this._TIMER_RESPAWN,this._doRespawn()));this._flagRespawn?(this._respawnTimer-=a,0>this._respawnTimer&&(this._setState(this._MOVE_IDLE),this.setInputLocked(!1,!1),this._render.alpha=1,
this._moveLocked=this._flagRespawn=!1),this._blinkTimer-=a,0>=this._blinkTimer&&(0==this._render.alpha?(this._blinkTimer=0.1,this._render.alpha=1):(this._blinkTimer=0.05,this._render.alpha=0))):this._render.alpha=1},_getIsDead:function(){return this._flagDead},_getFlagRespawn:function(){return this._flagRespawn},__class__:k.player.NormalPlayer});k.touch_controls={};k.touch_controls.TouchControl=function(a){n.Element.call(this,{x:a.x,y:a.y,asset:a.asset,layer:d.ConstantsApp.LAYER_HD_CHAR,origin:new f.WorkinPoint(0.5,
0.5)});this._butID=a.buttonID;this._rect=new I.Rectangle(this._pos.x-this._render.width/2,this._pos.y-this._render.height/2,this._render.width,this._render.height)};l["com.nick.nicktoons.april_fools_2013.world.touch_controls.TouchControl"]=k.touch_controls.TouchControl;k.touch_controls.TouchControl.__name__="com,nick,nicktoons,april_fools_2013,world,touch_controls,TouchControl".split(",");k.touch_controls.TouchControl.__super__=n.Element;k.touch_controls.TouchControl.prototype=v(n.Element.prototype,
{_getButtonID:function(){return this._butID},_getRectangle:function(){return this._rect},__class__:k.touch_controls.TouchControl});D=void 0;O=void 0;m=void 0;e=void 0;I=void 0;o=void 0;K=void 0;x=void 0;w=void 0;H=void 0;h=void 0;Y=void 0;y=void 0;E=void 0;y=void 0;ba=void 0;y=void 0;y=void 0;o={Disposable:function(){}};l["flambe.util.Disposable"]=o.Disposable;o.Disposable.__name__=["flambe","util","Disposable"];o.Disposable.prototype={__class__:o.Disposable};K=function(){};l["flambe.Component"]=
K;K.__name__=["flambe","Component"];K.__interfaces__=[o.Disposable];K.prototype={_internal_init:function(a,b){this.owner=a;this.next=b},get_name:function(){return null},dispose:function(){null!=this.owner&&this.owner.remove(this)},onUpdate:function(){},onRemoved:function(){},onAdded:function(){},__class__:K};aa={ComponentUpdater:function(){this._paused=!1}};l["com.workinman.components.ComponentUpdater"]=aa.ComponentUpdater;aa.ComponentUpdater.__name__=["com","workinman","components","ComponentUpdater"];
aa.ComponentUpdater.__super__=K;aa.ComponentUpdater.prototype=v(K.prototype,{setPaused:function(a){return this._paused=a},getPaused:function(){return this._paused},onUpdate:function(a){this._paused||g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventUpdate(a))},get_name:function(){return"ComponentUpdater_3"},__class__:aa.ComponentUpdater});G={ConstantsCloud:function(){}};l["com.workinman.data.ConstantsCloud"]=G.ConstantsCloud;G.ConstantsCloud.__name__=["com","workinman","data","ConstantsCloud"];
G.ConstantsCloud.getUniqueId=function(){return s.string(G.ConstantsCloud._uniqueId++)};n.QueuedAnimation=function(){};l["com.workinman.display.QueuedAnimation"]=n.QueuedAnimation;n.QueuedAnimation.__name__=["com","workinman","display","QueuedAnimation"];n.QueuedAnimation.prototype={_getForce:function(){return this._force},_getLoops:function(){return this._loops},_getName:function(){return this._name},__class__:n.QueuedAnimation};n.ElementManager=function(a,b,c){this._timeline=a;this._layers=new F;
this._elements=[];this._camera=new f.WorkinCamera(b,c);this._zSortLayers=new F};l["com.workinman.display.ElementManager"]=n.ElementManager;n.ElementManager.__name__=["com","workinman","display","ElementManager"];n.ElementManager.prototype={renderElements:function(){for(var a=0,b=this._elements;a<b.length;){var c=b[a];++a;c.renderPosition(this._camera)}},removeElement:function(a){for(this._i=0;this._i<this._elements.length;){if(this._elements[this._i]._getUniqueId()==a._getUniqueId()){this.removeElementAtIndex(this._i);
break}this._i++}},removeElementAtIndex2:function(a){this._elements[a]._getEntity().parent.removeChild(this._elements[a]._getEntity());this._elements.splice(a,1)},removeElement2:function(a){for(this._i=0;this._i<this._elements.length;){if(this._elements[this._i]._getUniqueId()==a._getUniqueId()){this.removeElementAtIndex2(this._i);break}this._i++}},removeElementAtIndex:function(a){this._elements[a]._getEntity().parent.removeChild(this._elements[a]._getEntity());this._elements[a]._setDoDelete(!0);this._elements[a].dispose();
this._elements.splice(a,1)},addElement:function(a){if(!1==this._layers.exists(a._getLayer()))return g.WorkinCloud.instance.log("[ElementManager](addElement) Trying to add element to non-existant layer '"+a._getLayer()+"'!"),a;for(this._i=0;this._i<this._elements.length;){if(this._elements[this._i]._getUniqueId()==a._getUniqueId())return this._layers.get(a._getLayer()).addChild(a._getEntity()),a;this._i++}this._elements.push(a);this._layers.get(a._getLayer()).addChild(a._getEntity());this._zSortLayers.exists(a._getLayer())&&
this._zSortLayers.get(a._getLayer()).push(a);return a},addLayer:function(a,b){null==b&&(b=!1);if(this._layers.exists(a))this._timeline.removeChild(this._layers.get(a)),this._timeline.addChild(this._layers.get(a));else{var c=new O;this._timeline.addChild(c);this._layers.set(a,c);b&&this._zSortLayers.set(a,[])}},_getElements:function(){return this._elements},_getCamera:function(){return this._camera},dispose:function(){for(;0<this._elements.length;)this.removeElementAtIndex(this._elements.length-1);
this._elements=null;this._camera.dispose();this._camera=null;for(var a=this._layers.iterator();a.hasNext();)a.next().dispose();this._timeline=this._layers=null},__class__:n.ElementManager};n.Renderable=function(a,b){null==b&&(b=1);null==a&&(a=1);this.rotation=this.y=this.x=0;this.scaleY=this.scaleX=1;this.width=a;this.height=b;this.alpha=1;this.visible=!0};l["com.workinman.display.Renderable"]=n.Renderable;n.Renderable.__name__=["com","workinman","display","Renderable"];n.Renderable.prototype={__class__:n.Renderable};
n.TextBase=function(a,b,c,i,d){null==i&&(i="");null==d&&(d={});d.x=a;d.y=b;n.Element.call(this,d);""==i&&(i=G.ConstantsCloud.FONT_DEFAULT);g.WorkinCloud.instance.log("[TextBase](construct) : "+i);this._textString=c;this._fontName=i;this._doRenderOnConstruct()&&this._generateTextToDisplay()};l["com.workinman.display.TextBase"]=n.TextBase;n.TextBase.__name__=["com","workinman","display","TextBase"];n.TextBase.__super__=n.Element;n.TextBase.prototype=v(n.Element.prototype,{_renderTextToDisplay:function(){null==
this._textDisplay&&this._generateTextToDisplay();this._textDisplay.set_text(this._textString)},_renderFontToDisplay:function(){null==this._textDisplay?this._generateTextToDisplay():this._textDisplay.set_font(g.WorkinCloud.instance.getAssets().getFont(this._fontName))},_setText:function(a){this._textString=a;this._renderTextToDisplay();return this._textString},_getText:function(){return this._textString},_setFont:function(a){if(""==a)return"";this._fontName=a;this._renderFontToDisplay();return this._fontName},
_getFont:function(){return this._fontName},_doRenderOnConstruct:function(){return!0},_generateTextToDisplay:function(){this._textDisplay=new m.TextSprite(g.WorkinCloud.instance.getAssets().getFont(this._fontName),"");this.swapTexture(this._textDisplay)},_getTextDisplay:function(){return this._textDisplay},__class__:n.TextBase});n.TextLocalized=function(a,b,c,i,d){null==i&&(i="");n.TextBase.call(this,a,b,c,i,d);this._renderTextToDisplay()};l["com.workinman.display.TextLocalized"]=n.TextLocalized;n.TextLocalized.__name__=
["com","workinman","display","TextLocalized"];n.TextLocalized.__super__=n.TextBase;n.TextLocalized.prototype=v(n.TextBase.prototype,{_renderTextToDisplay:function(){var a=g.WorkinCloud.instance._getLocalize().getData(this._textString);this._generateTextToDisplay();this._renderOffset.x=a._getOffsetX();this._renderOffset.y=a._getOffsetY();this._render.scaleX=a._getScale();this._render.scaleY=a._getScale();a._getFontName()!=this._fontName&&this._setFont(a._getFontName());this._textDisplay.set_text(a._getString());
this._render.width=this._textDisplay.getNaturalWidth();this._render.height=this._textDisplay.getNaturalHeight();this.setOrigin(this._renderOrigin)},_doRenderOnConstruct:function(){return!1},__class__:n.TextLocalized});p.WMEvent=function(a){this._eventId=a};l["com.workinman.events.WMEvent"]=p.WMEvent;p.WMEvent.__name__=["com","workinman","events","WMEvent"];p.WMEvent.prototype={getEventId:function(){return this._eventId},__class__:p.WMEvent};p.WMEventData=function(a,b){p.WMEvent.call(this,a);this._data=
b};l["com.workinman.events.WMEventData"]=p.WMEventData;p.WMEventData.__name__=["com","workinman","events","WMEventData"];p.WMEventData.__super__=p.WMEvent;p.WMEventData.prototype=v(p.WMEvent.prototype,{_getData:function(){return this._data},__class__:p.WMEventData});p._WMEventDispatcher={};p._WMEventDispatcher.WMEventTracker=function(){this._signalConnection=[];this._signal=new o.Signal1};l["com.workinman.events._WMEventDispatcher.WMEventTracker"]=p._WMEventDispatcher.WMEventTracker;p._WMEventDispatcher.WMEventTracker.__name__=
["com","workinman","events","_WMEventDispatcher","WMEventTracker"];p._WMEventDispatcher.WMEventTracker.prototype={dispose:function(){this._signal=null;for(var a=0,b=this._signalConnection;a<b.length;){var c=b[a];++a;c.dispose()}this._signalConnection=null},isEmtpy:function(){return null==this._signal._head},dispatchEvent:function(a){this._signal.emit1(a)},removeEventListener:function(a){for(var b=this._signalConnection.length;0<b;)b--,L.compareMethods(this._signalConnection[b]._getListener(),a)&&
(this._signalConnection[b].dispose(),this._signalConnection.splice(b,1))},addEventListener:function(a){this._signalConnection.push(new p._WMEventDispatcher.SignalTracker(a,this._signal.connect(a)))},__class__:p._WMEventDispatcher.WMEventTracker};p._WMEventDispatcher.SignalTracker=function(a,b){this._function=a;this._connection=b};l["com.workinman.events._WMEventDispatcher.SignalTracker"]=p._WMEventDispatcher.SignalTracker;p._WMEventDispatcher.SignalTracker.__name__=["com","workinman","events","_WMEventDispatcher",
"SignalTracker"];p._WMEventDispatcher.SignalTracker.prototype={_getListener:function(){return this._function},dispose:function(){this._function=null;this._connection.dispose();this._connection=null},__class__:p._WMEventDispatcher.SignalTracker};p.WMEventFlow=function(a,b){null==b&&(b=!1);this.flowId=a;this.targetScreen=b;p.WMEvent.call(this,p.WMEventFlow.EVENT_FLOW)};l["com.workinman.events.WMEventFlow"]=p.WMEventFlow;p.WMEventFlow.__name__=["com","workinman","events","WMEventFlow"];p.WMEventFlow.__super__=
p.WMEvent;p.WMEventFlow.prototype=v(p.WMEvent.prototype,{__class__:p.WMEventFlow});p.WMEventInput=function(a,b,c,i){p.WMEvent.call(this,p.WMEventInput.EVENT_INPUT);this.phase=a;this.input=b;this.x=c;this.y=i};l["com.workinman.events.WMEventInput"]=p.WMEventInput;p.WMEventInput.__name__=["com","workinman","events","WMEventInput"];p.WMEventInput.__super__=p.WMEvent;p.WMEventInput.prototype=v(p.WMEvent.prototype,{__class__:p.WMEventInput});p.WMEventInterfaceChange=function(a,b,c){null==b&&(b="");this.flowId=
a;this.screenId=b;null==c&&(c=new F);this.customData=c;p.WMEvent.call(this,p.WMEventInterfaceChange.EVENT_INTERFACE_OUTPUT)};l["com.workinman.events.WMEventInterfaceChange"]=p.WMEventInterfaceChange;p.WMEventInterfaceChange.__name__=["com","workinman","events","WMEventInterfaceChange"];p.WMEventInterfaceChange.__super__=p.WMEvent;p.WMEventInterfaceChange.prototype=v(p.WMEvent.prototype,{__class__:p.WMEventInterfaceChange});p.WMEventScreenOut=function(a,b){this.flowId=a;this.screenId=b;p.WMEvent.call(this,
p.WMEventScreenOut.EVENT_SCREEN_OUTPUT)};l["com.workinman.events.WMEventScreenOut"]=p.WMEventScreenOut;p.WMEventScreenOut.__name__=["com","workinman","events","WMEventScreenOut"];p.WMEventScreenOut.__super__=p.WMEvent;p.WMEventScreenOut.prototype=v(p.WMEvent.prototype,{__class__:p.WMEventScreenOut});p.WMEventUpdate=function(a){p.WMEvent.call(this,p.WMEventUpdate.EVENT_UPDATE);this._dt=a};l["com.workinman.events.WMEventUpdate"]=p.WMEventUpdate;p.WMEventUpdate.__name__=["com","workinman","events","WMEventUpdate"];
p.WMEventUpdate.__super__=p.WMEvent;p.WMEventUpdate.prototype=v(p.WMEvent.prototype,{getDt:function(){return this._dt},__class__:p.WMEventUpdate});f={};f.WorkinCamera=function(a,b){this._screenCenterX=a;this._screenCenterY=b;this._pos=new f.WorkinPoint(a,b)};l["com.workinman.math.WorkinCamera"]=f.WorkinCamera;f.WorkinCamera.__name__=["com","workinman","math","WorkinCamera"];f.WorkinCamera.prototype={_getScreenCenterY:function(){return this._screenCenterY},_getScreenCenterX:function(){return this._screenCenterX},
_getPos:function(){return this._pos},dispose:function(){this._pos=null},__class__:f.WorkinCamera};f.WorkinCollisionResult=function(){};l["com.workinman.math.WorkinCollisionResult"]=f.WorkinCollisionResult;f.WorkinCollisionResult.__name__=["com","workinman","math","WorkinCollisionResult"];f.WorkinCollisionResult.prototype={_getSlope:function(){return this._slope},_getResult:function(){return this._result},_getType:function(){return this._success},__class__:f.WorkinCollisionResult};f.WorkinLine=function(a,
b){this._p0=a.copy();this._p1=b.copy();this._calcProperties()};l["com.workinman.math.WorkinLine"]=f.WorkinLine;f.WorkinLine.__name__=["com","workinman","math","WorkinLine"];f.WorkinLine.prototype={_calcProperties:function(){this._length=Math.round(1E3*Math.sqrt((this._p0.x-this._p1.x)*(this._p0.x-this._p1.x)+(this._p0.y-this._p1.y)*(this._p0.y-this._p1.y)))/1E3;this._vector=new f.WorkinPoint(this._getP1().x-this._getP0().x,this._getP1().y-this._getP0().y);this._slope=this._vector.y/this._vector.x;
0==this._getVector().x&&(this._slope=1E5);this._yIntercept=this._getP0().y-this._slope*this._getP0().x;this._parametricDenom=new f.WorkinPoint(this._getP1().x-this._getP0().x,this._getP1().y-this._getP0().y);this._normal=this._vector.pseudoCross();this._normal.normalize()},endToPoint:function(a){this._p1.toPoint(a);this._calcProperties()},originToPoint:function(a){this._p0.toPoint(a);this._calcProperties()},to:function(a,b){this._p0.toPoint(a);this._p1.toPoint(b);this._calcProperties()},copy:function(){return new f.WorkinLine(this._p0,
this._p1)},_setLength:function(a){if(0==this._getLength())return this._length;this._p1=new f.WorkinPoint(this._p0.x+this._vector.x*(a/this._getLength()),this._p0.y+this._vector.y*(a/this._getLength()));this._calcProperties();return this._length},_getLength:function(){return this._length},_getParametricDenom:function(){return this._parametricDenom},_getCenterY:function(){return this._p0.y+this._vector.y/2},_getCenterX:function(){return this._p0.x+this._vector.x/2},_getCenter:function(){return new f.WorkinPoint(this._p0.x+
this._vector.x/2,this._p0.y+this._vector.y/2)},_getVector:function(){return this._vector},_getNormal:function(){return this._normal},_getYIntercept:function(){return this._yIntercept},_getSlope:function(){return this._slope},_getP1:function(){return this._p1},_getP0:function(){return this._p0},dispose:function(){this._parametricDenom=this._vector=this._normal=this._p1=this._p0=null},__class__:f.WorkinLine};f.WorkinPoint=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=Math.round(1E3*
a)/1E3;this.y=Math.round(1E3*b)/1E3;this.z=Math.round(1E3*c)/1E3;this.calculateLength()};l["com.workinman.math.WorkinPoint"]=f.WorkinPoint;f.WorkinPoint.__name__=["com","workinman","math","WorkinPoint"];f.WorkinPoint.prototype={_getNormalizedMagnitude:function(){var a=this.normalizeCopy();return Math.sqrt(a.x*a.x+a.y*a.y)},calculateLength:function(){this._length=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},pseudoCross:function(){return new f.WorkinPoint(this.y,-this.x,this.z)},normalizeCopy:function(){return 0==
this._length?new f.WorkinPoint(0,0,0):new f.WorkinPoint(this.x/this._length,this.y/this._length,this.z/this._length)},normalize:function(){0!=this._length&&(this.x/=this._length,this.y/=this._length,this.z/=this._length,this.calculateLength())},_setLength:function(a){if(0==this._length||0>=a)return this.to(0,0),this._length;this.multiply(a/this._length);return this._length},_getLength:function(){return this._length},copy:function(){return new f.WorkinPoint(this.x,this.y,this.z)},multiply:function(a){this.x*=
a;this.y*=a;this.z*=a;this.clean();this.calculateLength()},subtractPoint:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.calculateLength()},toPoint:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.calculateLength()},to:function(a,b,c){null==c&&(c=0);this.x=a;this.y=b;this.z=c;this.calculateLength()},clean:function(){this.x=Math.round(1E3*this.x)/1E3;this.y=Math.round(1E3*this.y)/1E3;this.z=Math.round(1E3*this.z)/1E3},_getAngle:function(){return 180*Math.atan2(this.y,this.x)/Math.PI},__class__:f.WorkinPoint};
f.tween={};f.tween.PennerEasing=function(){};l["com.workinman.math.tween.PennerEasing"]=f.tween.PennerEasing;f.tween.PennerEasing.__name__=["com","workinman","math","tween","PennerEasing"];f.tween.PennerEasing.easeInQuad=function(a,b,c,i){return c*(a/=i)*a+b};f.tween.PennerEasing.easeOutQuad=function(a,b,c,i){return-c*(a/=i)*(a-2)+b};f.tween.PennerEasing.easeInOutQuad=function(a,b,c,i){return 1>(a/=i/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b};f.tween.PennerEasing.easeInExpo=function(a,b,c,i){return 0==a?
b:c*Math.pow(2,10*(a/i-1))+b};f.tween.PennerEasing.easeOutExpo=function(a,b,c,i){return a==i?b+c:c*(-Math.pow(2,-10*a/i)+1)+b};f.tween.PennerEasing.easeInOutExpo=function(a,b,c,i){return 0==a?b:a==i?b+c:1>(a/=i/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b};f.tween.PennerEasing.easeInElastic=function(a,b,c,i){return f.tween.PennerEasing.easeInElasticL(a,b,c,i)};f.tween.PennerEasing.easeInElasticL=function(a,b,c,i,d,e){null==e&&(e=-0.123456);null==d&&(d=-0.123456);if(0==a)return b;if(1==
(a/=i))return b+c;-0.123456==e&&(e=0.3*i);-0.123456==d||d<Math.abs(c)?(d=c,c=e/4):c=e/(2*Math.PI)*Math.asin(c/d);return-(d*Math.pow(2,10*(a-=1))*Math.sin((a*i-c)*2*Math.PI/e))+b};f.tween.PennerEasing.easeOutElastic=function(a,b,c,i){return f.tween.PennerEasing.easeOutElasticL(a,b,c,i)};f.tween.PennerEasing.easeOutElasticL=function(a,b,c,i,d,e){null==e&&(e=-0.123456);null==d&&(d=-0.123456);var f;if(0==a)return b;if(1==(a/=i))return b+c;-0.123456==e&&(e=0.3*i);-0.123456==d||d<Math.abs(c)?(d=c,f=e/4):
f=e/(2*Math.PI)*Math.asin(c/d);return d*Math.pow(2,-10*a)*Math.sin((a*i-f)*2*Math.PI/e)+c+b};f.tween.PennerEasing.easeInOutElastic=function(a,b,c,i){return f.tween.PennerEasing.easeInOutElasticL(a,b,c,i)};f.tween.PennerEasing.easeInOutElasticL=function(a,b,c,i,d,e){null==e&&(e=-0.123456);null==d&&(d=-0.123456);var f;if(0==a)return b;if(2==(a/=i/2))return b+c;-0.123456==e&&(e=i*0.3*1.5);-0.123456==d||d<Math.abs(c)?(d=c,f=e/4):f=e/(2*Math.PI)*Math.asin(c/d);return 1>a?-0.5*d*Math.pow(2,10*(a-=1))*Math.sin((a*
i-f)*2*Math.PI/e)+b:0.5*d*Math.pow(2,-10*(a-=1))*Math.sin((a*i-f)*2*Math.PI/e)+c+b};f.tween.PennerEasing.easeInBack=function(a,b,c,i){return f.tween.PennerEasing.easeInBackL(a,b,c,i)};f.tween.PennerEasing.easeInBackL=function(a,b,c,i,d){null==d&&(d=-0.123456);-0.123456==d&&(d=1.70158);return c*(a/=i)*a*((d+1)*a-d)+b};f.tween.PennerEasing.easeInOutBack=function(a,b,c,i){return f.tween.PennerEasing.easeInOutBackL(a,b,c,i)};f.tween.PennerEasing.easeInOutBackL=function(a,b,c,i,d){null==d&&(d=-0.123456);
-0.123456==d&&(d=1.70158);return 1>(a/=i/2)?c/2*a*a*(((d*=1.525)+1)*a-d)+b:c/2*((a-=2)*a*(((d*=1.525)+1)*a+d)+2)+b};f.tween.PennerEasing.easeOutBounce=function(a,b,c,i){return(a/=i)<1/2.75?c*7.5625*a*a+b:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+0.984375)+b};f.tween.PennerEasing.easeInBounce=function(a,b,c,i){return c-f.tween.PennerEasing.easeOutBounce(i-a,0,c,i)+b};f.tween.PennerEasing.easeInOutBounce=function(a,b,c,i){return a<
i/2?0.5*f.tween.PennerEasing.easeInBounce(2*a,0,c,i)+b:0.5*f.tween.PennerEasing.easeOutBounce(2*a-i,0,c,i)+0.5*c+b};f.tween.PennerEasing.easeInCubic=function(a,b,c,i){return c*(a/=i)*a*a+b};f.tween.PennerEasing.easeOutCubic=function(a,b,c,i){return c*((a=a/i-1)*a*a+1)+b};f.tween.PennerEasing.easeInOutCubic=function(a,b,c,i){return 1>(a/=i/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b};f.tween.PennerEasing.easeInQuart=function(a,b,c,i){return c*(a/=i)*a*a*a+b};f.tween.PennerEasing.easeOutQuart=function(a,b,
c,i){return-c*((a=a/i-1)*a*a*a-1)+b};f.tween.PennerEasing.easeInOutQuart=function(a,b,c,i){return 1>(a/=i/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b};f.tween.PennerEasing.easeInQuint=function(a,b,c,i){return c*(a/=i)*a*a*a*a+b};f.tween.PennerEasing.easeOutQuint=function(a,b,c,i){return c*((a=a/i-1)*a*a*a*a+1)+b};f.tween.PennerEasing.easeInOutQuint=function(a,b,c,i){return 1>(a/=i/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b};f.tween.PennerEasing.easeInSine=function(a,b,c,i){return-c*Math.cos(a/i*(Math.PI/
2))+c+b};f.tween.PennerEasing.easeOutSine=function(a,b,c,i){return c*Math.sin(a/i*(Math.PI/2))+b};f.tween.PennerEasing.easeInOutSine=function(a,b,c,i){return-c/2*(Math.cos(Math.PI*a/i)-1)+b};f.tween.PennerEasing.easeInCirc=function(a,b,c,i){return-c*(Math.sqrt(1-(a/=i)*a)-1)+b};f.tween.PennerEasing.easeOutCirc=function(a,b,c,i){return c*Math.sqrt(1-(a=a/i-1)*a)+b};f.tween.PennerEasing.easeInOutCirc=function(a,b,c,i){return 1>(a/=i/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b};f.tween.PennerManager=
function(){};l["com.workinman.math.tween.PennerManager"]=f.tween.PennerManager;f.tween.PennerManager.__name__=["com","workinman","math","tween","PennerManager"];f.tween.PennerManager.getEaseFunction=function(a){switch(a){case f.tween.PennerManager.EASE_IN:case f.tween.PennerManager.EASE_QUAD_IN:return f.tween.PennerManager._tweenEaseIn;case f.tween.PennerManager.EASE_OUT:case f.tween.PennerManager.EASE_QUAD_OUT:return f.tween.PennerManager._tweenEaseOut;case f.tween.PennerManager.EASE:case f.tween.PennerManager.EASE_QUAD:return f.tween.PennerManager._tweenEaseBoth;
case f.tween.PennerManager.EASE_EXPO:return f.tween.PennerManager._tweenExpoBoth;case f.tween.PennerManager.EASE_EXPO_IN:return f.tween.PennerManager._tweenExpoIn;case f.tween.PennerManager.EASE_EXPO_OUT:return f.tween.PennerManager._tweenExpoOut;case f.tween.PennerManager.EASE_ELASTIC:return f.tween.PennerManager._tweenElasticBoth;case f.tween.PennerManager.EASE_ELASTIC_IN:return f.tween.PennerManager._tweenElasticIn;case f.tween.PennerManager.EASE_ELASTIC_OUT:return f.tween.PennerManager._tweenElasticOut;
case f.tween.PennerManager.EASE_BUMP:return f.tween.PennerManager._tweenBumpBoth;case f.tween.PennerManager.EASE_BUMP_IN:return f.tween.PennerManager._tweenBumpIn;case f.tween.PennerManager.EASE_BUMP_OUT:return f.tween.PennerManager._tweenBumpBoth;case f.tween.PennerManager.EASE_BOUNCE:return f.tween.PennerManager._tweenBounceBoth;case f.tween.PennerManager.EASE_BOUNCE_IN:return f.tween.PennerManager._tweenBounceIn;case f.tween.PennerManager.EASE_BOUNCE_OUT:return f.tween.PennerManager._tweenBounceOut;
case f.tween.PennerManager.EASE_CUBIC:return f.tween.PennerManager._tweenCubicBoth;case f.tween.PennerManager.EASE_CUBIC_IN:return f.tween.PennerManager._tweenCubicIn;case f.tween.PennerManager.EASE_CUBIC_OUT:return f.tween.PennerManager._tweenCubicOut;case f.tween.PennerManager.EASE_SPACE:return f.tween.PennerManager._tweenSpaceBoth;case f.tween.PennerManager.EASE_SPACE_IN:return f.tween.PennerManager._tweenSpaceIn;case f.tween.PennerManager.EASE_SPACE_OUT:return f.tween.PennerManager._tweenSpaceOut;
case f.tween.PennerManager.EASE_BLAST:return f.tween.PennerManager._tweenBlastBoth;case f.tween.PennerManager.EASE_BLAST_IN:return f.tween.PennerManager._tweenBlastIn;case f.tween.PennerManager.EASE_BLAST_OUT:return f.tween.PennerManager._tweenBlastOut;case f.tween.PennerManager.EASE_WAVE:return f.tween.PennerManager._tweenWaveBoth;case f.tween.PennerManager.EASE_WAVE_IN:return f.tween.PennerManager._tweenWaveIn;case f.tween.PennerManager.EASE_WAVE_OUT:return f.tween.PennerManager._tweenWaveOut;case f.tween.PennerManager.EASE_CIRCLE:return f.tween.PennerManager._tweenCircleBoth;
case f.tween.PennerManager.EASE_CIRCLE_IN:return f.tween.PennerManager._tweenCircleIn;case f.tween.PennerManager.EASE_CIRCLE_OUT:return f.tween.PennerManager._tweenCircleOut;case f.tween.PennerManager.EASE_LINEAR:return f.tween.PennerManager._tweenLinear;default:return f.tween.PennerManager._tweenLinear}};f.tween.PennerManager._tweenLinear=function(a,b,c,i){return a+c/i*b};f.tween.PennerManager._tweenEaseBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutQuad(c,a,b,i)};f.tween.PennerManager._tweenEaseIn=
function(a,b,c,i){return f.tween.PennerEasing.easeInQuad(c,a,b,i)};f.tween.PennerManager._tweenEaseOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutQuad(c,a,b,i)};f.tween.PennerManager._tweenExpoBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutExpo(c,a,b,i)};f.tween.PennerManager._tweenExpoIn=function(a,b,c,i){return f.tween.PennerEasing.easeInExpo(c,a,b,i)};f.tween.PennerManager._tweenExpoOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutExpo(c,a,b,i)};f.tween.PennerManager._tweenElasticBoth=
function(a,b,c,i){return f.tween.PennerEasing.easeInOutElastic(c,a,b,i)};f.tween.PennerManager._tweenElasticIn=function(a,b,c,i){return f.tween.PennerEasing.easeInElastic(c,a,b,i)};f.tween.PennerManager._tweenElasticOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutElastic(c,a,b,i)};f.tween.PennerManager._tweenBumpBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutBack(c,a,b,i)};f.tween.PennerManager._tweenBumpIn=function(a,b,c,i){return f.tween.PennerEasing.easeInBack(c,a,b,i)};f.tween.PennerManager._tweenBounceBoth=
function(a,b,c,i){return f.tween.PennerEasing.easeInOutBounce(c,a,b,i)};f.tween.PennerManager._tweenBounceIn=function(a,b,c,i){return f.tween.PennerEasing.easeInBounce(c,a,b,i)};f.tween.PennerManager._tweenBounceOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutBounce(c,a,b,i)};f.tween.PennerManager._tweenCubicBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutCubic(c,a,b,i)};f.tween.PennerManager._tweenCubicIn=function(a,b,c,i){return f.tween.PennerEasing.easeInCubic(c,a,b,i)};f.tween.PennerManager._tweenCubicOut=
function(a,b,c,i){return f.tween.PennerEasing.easeOutCubic(c,a,b,i)};f.tween.PennerManager._tweenSpaceBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutQuart(c,a,b,i)};f.tween.PennerManager._tweenSpaceIn=function(a,b,c,i){return f.tween.PennerEasing.easeInQuart(c,a,b,i)};f.tween.PennerManager._tweenSpaceOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutQuart(c,a,b,i)};f.tween.PennerManager._tweenBlastBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutQuint(c,a,b,i)};f.tween.PennerManager._tweenBlastIn=
function(a,b,c,i){return f.tween.PennerEasing.easeInQuint(c,a,b,i)};f.tween.PennerManager._tweenBlastOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutQuint(c,a,b,i)};f.tween.PennerManager._tweenWaveBoth=function(a,b,c,i){return f.tween.PennerEasing.easeInOutSine(c,a,b,i)};f.tween.PennerManager._tweenWaveIn=function(a,b,c,i){return f.tween.PennerEasing.easeInSine(c,a,b,i)};f.tween.PennerManager._tweenWaveOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutSine(c,a,b,i)};f.tween.PennerManager._tweenCircleBoth=
function(a,b,c,i){return f.tween.PennerEasing.easeInOutCirc(c,a,b,i)};f.tween.PennerManager._tweenCircleIn=function(a,b,c,i){return f.tween.PennerEasing.easeInCirc(c,a,b,i)};f.tween.PennerManager._tweenCircleOut=function(a,b,c,i){return f.tween.PennerEasing.easeOutCirc(c,a,b,i)};f.tween.WorkinTweener=function(){this._targets=[]};l["com.workinman.math.tween.WorkinTweener"]=f.tween.WorkinTweener;f.tween.WorkinTweener.__name__=["com","workinman","math","tween","WorkinTweener"];f.tween.WorkinTweener._getInstance=
function(){null==f.tween.WorkinTweener._instance&&(f.tween.WorkinTweener._instance=new f.tween.WorkinTweener);return f.tween.WorkinTweener._instance};f.tween.WorkinTweener.prototype={stop:function(a){for(var b=this._targets.length;0<b;)if(b--,this._targets[b]._getTarget()==a){this._targets[b].clearTweens();this._targets[b]._setIsComplete(!0);break}},tween:function(a,b,c,i,d,e,g,h){null==h&&(h="");null==g&&(g=0);null==e&&(e=!1);null==d&&(d=0);null==i&&(i="linear");b=new f.tween._WorkinTweener.WorkinTweenDef(a,
b,c,i,d,g,h);c=!1;i=0;for(d=this._targets;i<d.length;)h=d[i],++i,h._getTarget()==a&&(c=!0,e&&h.clearTweens(),h.addTween(b,g));!1==c&&(a=new f.tween._WorkinTweener.WorkinTweenTracker(a),this._targets.push(a),a.addTween(b,g));return b},update:function(a){for(var b=this._targets.length;0<b;)b--,this._targets[b].update(a),this._targets[b]._getIsComplete()&&(this._targets[b].dispose(),this._targets.splice(b,1))},__class__:f.tween.WorkinTweener};f.tween._WorkinTweener={};f.tween._WorkinTweener.WorkinTweenTracker=
function(a){this._target=a;this._tweens=[];this._isComplete=!1};l["com.workinman.math.tween._WorkinTweener.WorkinTweenTracker"]=f.tween._WorkinTweener.WorkinTweenTracker;f.tween._WorkinTweener.WorkinTweenTracker.__name__="com,workinman,math,tween,_WorkinTweener,WorkinTweenTracker".split(",");f.tween._WorkinTweener.WorkinTweenTracker.prototype={_decrementQueueIndeces:function(){for(var a=0,b=this._tweens;a<b.length;){var c=b[a];++a;if(0==c._getQueueIndex())return}a=0;for(b=this._tweens;a<b.length;){c=
b[a];++a;var d=c,e=d._getQueueIndex();d._setQueueIndex(e-1);e;0==c._getQueueIndex()&&c.start()}},addTween:function(a){this._tweens.push(a)},clearTweens:function(){for(var a=0,b=this._tweens;a<b.length;){var c=b[a];++a;c._setIsComplete(!0)}},_setIsComplete:function(a){return this._isComplete=a},_getIsComplete:function(){return this._isComplete},_getTarget:function(){return this._target},_dispatchTweensAllComplete:function(a){g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventData(G.ConstantsCloud.EVENT_TWEENS_COMPLETE,
{target:a}))},update:function(a){for(var b=this._tweens.length;0<b;)b--,0==this._tweens[b]._getQueueIndex()&&(this._tweens[b].update(a),this._tweens[b]._getIsComplete()&&(this._tweens[b].dispose(),this._tweens.splice(b,1),this._decrementQueueIndeces()));1>this._tweens.length&&(this._isComplete=!0,this._dispatchTweensAllComplete(this._target))},dispose:function(){this._target=null;for(var a=0,b=this._tweens;a<b.length;){var c=b[a];++a;c.dispose()}this._tweens=null},__class__:f.tween._WorkinTweener.WorkinTweenTracker};
f.tween._WorkinTweener.WorkinTweenDef=function(a,b,c,d,e,g,h){null==h&&(h="");null==g&&(g=0);null==e&&(e=0);null==d&&(d="linear");this._id=h;this._target=a;this._duration=b;this._delay=e;this._dest=c;this._queueIndex=g;this._easeFunction=f.tween.PennerManager.getEaseFunction(d);this._isComplete=!1;this._completionArgs=this._completionHandler=null;this._progress=0;this._origin={};0==g&&this.start()};l["com.workinman.math.tween._WorkinTweener.WorkinTweenDef"]=f.tween._WorkinTweener.WorkinTweenDef;f.tween._WorkinTweener.WorkinTweenDef.__name__=
"com,workinman,math,tween,_WorkinTweener,WorkinTweenDef".split(",");f.tween._WorkinTweener.WorkinTweenDef.prototype={onComplete:function(a,b){null==b&&(b=[]);this._completionHandler=a;this._completionArgs=b;return this},ease:function(a){this._easeFunction=f.tween.PennerManager.getEaseFunction(a);return this},delay:function(a){this._delay=a;return this},_getId:function(){return this._id},_setQueueIndex:function(a){return this._queueIndex=a},_getQueueIndex:function(){return this._queueIndex},_setIsComplete:function(a){return this._isComplete=
a},_getIsComplete:function(){return this._isComplete},update:function(a){if(0<this._delay&&(this._delay-=a,0<this._delay))return;this._progress+=a;this._progress>this._duration&&(this._progress=this._duration);this.ratio=this._progress/this._duration;for(var b=0,c=L.fields(this._dest);b<c.length;){var d=c[b];++b;a=L.field(this._dest,d)-L.field(this._origin,d);this._target[d]=this._easeFunction(L.field(this._origin,d),a,this._progress,this._duration)}this._progress>=this._duration&&(null!=this._completionHandler&&
this._completionHandler.apply(this._completionHandler,this._completionArgs),this._isComplete=!0)},dispose:function(){this._dest=this._target=this._origin=null},start:function(){this._isComplete=!1;for(var a=0,b=L.fields(this._dest);a<b.length;){var c=b[a];++a;null!=L.field(this._target,c)&&(this._origin[c]=L.field(this._target,c))}},__class__:f.tween._WorkinTweener.WorkinTweenDef};R={WMSharedObject:function(){p.WMEventDispatcher.call(this);this._data={};this.sharedKey=""}};l["com.workinman.net.WMSharedObject"]=
R.WMSharedObject;R.WMSharedObject.__name__=["com","workinman","net","WMSharedObject"];R.WMSharedObject.getLocalStorage=function(){return B.window.localStorage};R.WMSharedObject.getLocal=function(a,b){var c=B.window.location.href;null==b&&(b=c);c=new R.WMSharedObject;c.sharedKey=b+":"+a;var d=R.WMSharedObject.getLocalStorage().getItem(c.sharedKey);c._setData(""==d||null==d?{}:P.run(d));return c};R.WMSharedObject.__super__=p.WMEventDispatcher;R.WMSharedObject.prototype=v(p.WMEventDispatcher.prototype,
{flush:function(){var a=S.run(this._getData());R.WMSharedObject.getLocalStorage().setItem(this.sharedKey,a);return R.SharedObjectFlushedStatus.FLUSHED},_setData:function(a){return this._data=a},_getData:function(){return this._data},dispose:function(){this._data=null;p.WMEventDispatcher.prototype.dispose.call(this)},__class__:R.WMSharedObject});R.SharedObjectFlushedStatus=function(){};l["com.workinman.net.SharedObjectFlushedStatus"]=R.SharedObjectFlushedStatus;R.SharedObjectFlushedStatus.__name__=
["com","workinman","net","SharedObjectFlushedStatus"];t={ServiceAnalytics:function(){}};l["com.workinman.services.ServiceAnalytics"]=t.ServiceAnalytics;t.ServiceAnalytics.__name__=["com","workinman","services","ServiceAnalytics"];t.ServiceAnalytics.onAnalyticsLoad=function(){t.ServiceAnalytics._flagLoaded||(g.WorkinCloud.instance.log("[ServiceAnalytics](onAnalyticsLoad) Load complete"),t.ServiceAnalytics._flagLoaded=!0,T.delay(t.ServiceAnalytics._runQueuedCommands,1E3))};t.ServiceAnalytics.init=function(a,
b){null==b&&(b="");t.ServiceAnalytics._flagInitted=!0;t.ServiceAnalytics._queuedCommands=[];"x"==a.toLowerCase()&&(t.ServiceAnalytics.OPTION_ENABLE_TRACKING=!1);t.ServiceAnalytics.OPTION_ENABLE_TRACKING&&(""==b&&(b=t.ServiceAnalytics._DEFAULT_SHARED_OBJECT_ID),t.ServiceAnalytics._flagStarted=!1,g.WorkinCloud.instance.log("[ServiceAnalytics](initAnalytics)"),t.ServiceAnalytics._appId=a,t.ServiceAnalytics._sharedObjectId=b,t.ServiceAnalytics._sharedObjectData=g.WorkinCloud.instance.sharedObjectGetData(t.ServiceAnalytics._sharedObjectId),
t.ServiceAnalytics._generateSessionID(),null==t.ServiceAnalytics._sharedObjectData.userID||14>s.string(t.ServiceAnalytics._sharedObjectData.userID).length?(t.ServiceAnalytics._generateOfflineIDs(),t.ServiceAnalytics._sharedObjectData.userID=t.ServiceAnalytics._offlineUserId,t.ServiceAnalytics._sharedObjectData.trackingID=t.ServiceAnalytics._offlineTrackingId,g.WorkinCloud.instance.sharedObjectSetData(t.ServiceAnalytics._sharedObjectId,t.ServiceAnalytics._sharedObjectData)):(t.ServiceAnalytics._offlineUserId=
t.ServiceAnalytics._sharedObjectData.userID,t.ServiceAnalytics._offlineTrackingId=t.ServiceAnalytics._sharedObjectData.trackingID),eval("\t\t\t\t\n\t\t\t\twindow._pnConfig = new Array();\n\t\t\t\twindow._pnConfig['userId'] = '"+t.ServiceAnalytics._offlineUserId+"';\n\t\t\t\t\n\t\t\t\tvar _pnAPIURL = document.location.protocol + '//js.a.playnomics.net/v1/api?a="+t.ServiceAnalytics._appId+"';\n\t\t\t\tvar _pnAPI = document.createElement('script');\t\t\t\t\n\t\t\t\t_pnAPI.type = 'text/javascript'; \n\t\t\t\t_pnAPI.async = false; \n\t\t\t\t_pnAPI.src = _pnAPIURL;\n\t\t\t\twindow.pnCallbackReference = _pnAPI;\t\t\t\t\n\t\t\t"),
eval("window.pnCallbackReference").addEventListener("load",t.ServiceAnalytics.onAnalyticsLoad,!1),eval("document.body.appendChild(window.pnCallbackReference);"),t.ServiceAnalytics.sendUserInfo(),t.ServiceAnalytics.sendMilestone("custom1"))};t.ServiceAnalytics._runQueuedCommands=function(){for(;0<t.ServiceAnalytics._queuedCommands.length;)t.ServiceAnalytics.sendPlaynomicsEvent(t.ServiceAnalytics._queuedCommands[0].method,t.ServiceAnalytics._queuedCommands[0].params),t.ServiceAnalytics._queuedCommands.shift()};
t.ServiceAnalytics.sendUserInfo=function(){t.ServiceAnalytics.sendPlaynomicsEvent("pnUserInfo",["update",null,null,"","","html5"])};t.ServiceAnalytics.sendMilestone=function(a){t.ServiceAnalytics.sendPlaynomicsEvent("pnMilestone",[s.string(Math.floor(6012+999999999*Math.random())),a])};t.ServiceAnalytics.sendPlaynomicsEvent=function(a,b){if(t.ServiceAnalytics.OPTION_ENABLE_TRACKING&&t.ServiceAnalytics._flagInitted)if(t.ServiceAnalytics._flagLoaded){g.WorkinCloud.instance.log("[ServiceAnalytics](sendPlaynomicsEvent) "+
a);var c,d="";for(c=0;c<b.length;)d+="'"+b[c]+"'",c++,c<b.length&&(d+=",");eval(a+"("+d+")")}else t.ServiceAnalytics._queuedCommands.push({method:a,params:b})};t.ServiceAnalytics._generateSessionID=function(){for(var a="",b=11;-1<b;)a+=Math.floor(10*Math.random()),b--;t.ServiceAnalytics._sessionId=a};t.ServiceAnalytics._generateOfflineIDs=function(){t.ServiceAnalytics._offlineUserId="";t.ServiceAnalytics._offlineTrackingId="";for(var a=15;-1<a;){if(0.66>Math.random())t.ServiceAnalytics._offlineUserId+=
s.string(Math.floor(10*Math.random()));else switch(Math.floor(10*Math.random())){case 0:t.ServiceAnalytics._offlineUserId+="a";break;case 1:t.ServiceAnalytics._offlineUserId+="b";break;case 2:t.ServiceAnalytics._offlineUserId+="c";break;case 3:t.ServiceAnalytics._offlineUserId+="d";break;case 4:t.ServiceAnalytics._offlineUserId+="e";break;case 5:t.ServiceAnalytics._offlineUserId+="f";break;case 6:t.ServiceAnalytics._offlineUserId+="g";break;case 7:t.ServiceAnalytics._offlineUserId+="h";break;case 8:t.ServiceAnalytics._offlineUserId+=
"i";break;case 9:t.ServiceAnalytics._offlineUserId+="j";break;default:t.ServiceAnalytics._offlineUserId+="z"}a--}t.ServiceAnalytics._offlineTrackingId="";for(a=15;-1<a;)t.ServiceAnalytics._offlineTrackingId+=Math.floor(10*Math.random()),a--};t.ServiceAnalytics.prototype={__class__:t.ServiceAnalytics};g={JSEmbedProxy:function(){}};l["com.workinman.utils.JSEmbedProxy"]=g.JSEmbedProxy;g.JSEmbedProxy.__name__=["com","workinman","utils","JSEmbedProxy"];g.JSEmbedProxy.alertOn=function(a){g.JSEmbedProxy.callJSEmbedMethod("addAlert('"+
a+"', '')")};g.JSEmbedProxy.alertOff=function(){g.JSEmbedProxy.callJSEmbedMethod("removeAlert('')")};g.JSEmbedProxy.getExists=function(){return g.JSEmbedProxy.callJSEmbedMethod("exists()")};g.JSEmbedProxy.getParameters=function(){return g.JSEmbedProxy.callJSEmbedMethod("params()")};g.JSEmbedProxy.getAttributes=function(){return g.JSEmbedProxy.callJSEmbedMethod("attr()")};g.JSEmbedProxy.getBase=function(){return g.JSEmbedProxy.callJSEmbedMethod("baseUrl()")};g.JSEmbedProxy.getCanvasScale=function(){return s.parseFloat(g.JSEmbedProxy.callJSEmbedMethod("canvasScale()"))};
g.JSEmbedProxy.getCanvasWidth=function(){return s.parseFloat(g.JSEmbedProxy.callJSEmbedMethod("canvasWidth()"))};g.JSEmbedProxy.getCanvasHeight=function(){return s.parseFloat(g.JSEmbedProxy.callJSEmbedMethod("canvasHeight()"))};g.JSEmbedProxy.getIsPaused=function(){return g.JSEmbedProxy.callJSEmbedMethod("isPaused()")};g.JSEmbedProxy.pause=function(){g.JSEmbedProxy.callJSEmbedMethod("pause()")};g.JSEmbedProxy.unpause=function(){g.JSEmbedProxy.callJSEmbedMethod("unpause()")};g.JSEmbedProxy.callJSEmbedMethod=
function(a){try{var b=eval("jsembed."+a);return null==b?"":b}catch(c){}return""};g.JSEmbedProxy.prototype={__class__:g.JSEmbedProxy};g.WMAssetManager=function(){this._LOADING_CHANCES=3;this._baseUrl="";this._assets=new F;this._defs=new F;this._flump=new F;this._packs=new F;this._chunks=new F;this._packsLoaded=this._packsMax=this._loadingChances=0};l["com.workinman.utils.WMAssetManager"]=g.WMAssetManager;g.WMAssetManager.__name__=["com","workinman","utils","WMAssetManager"];g.WMAssetManager.prototype=
{getFont:function(a){return!1==this._assets.exists(a)?(g.WorkinCloud.instance.log("[WMAssetManager](getFont) no asset named "+a+" exists! Returning null."),null):new m.Font(this._assets.get(a)._getPack(),a)},getLibrary:function(a){return!1==this._flump.exists(a)?(g.WorkinCloud.instance.log("[WMAssetManager](getLibrary) no library named "+a+" exists! Is it defined in config.xml?"),null):this._flump.get(a)},getSound:function(a){return!1==this._assets.exists(a)?(g.WorkinCloud.instance.log("[AssetManager](getSound) no asset named "+
a+" exists! Returning null."),null):this._assets.get(a)._getConstructed()?this._assets.get(a)._getData():this._assets.get(a)._getPack().getSound(this._assets.get(a)._getPath(),!0)},getXML:function(a){if(!1==this._assets.exists(a))return g.WorkinCloud.instance.log("[WMAssetManager](getXML) no asset named "+a+" exists! Returning null."),null;a=u.parse(this.getFile(a));return new A.Fast(a.firstElement())},getFile:function(a){return!1==this._assets.exists(a)?(g.WorkinCloud.instance.log("[WMAssetManager](getFile) no asset named "+
a+" exists! Returning empty string."),""):this._assets.get(a)._getConstructed()?this._assets.get(a)._getData():this._assets.get(a)._getPack().getFile(this._assets.get(a)._getPath(),!0)},getTexture:function(a){a=a.split(".")[0];return!1==this._assets.exists(a)?(g.WorkinCloud.instance.log("[WMAssetManager](getTexture) no asset named "+a+" exists! Returning null."),null):!0==this._assets.get(a)._getConstructed()?this._assets.get(a)._getData():this._assets.get(a)._getPack().getTexture(this._assets.get(a)._getPath(),
!0)},hasAsset:function(a){return this._assets.exists(a)},_onAllLoadComplete:function(){g.WorkinCloud.instance.log("[WMAssetManager](_onAllLoadComplete) all packs loaded!");g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEvent(G.ConstantsCloud.EVENT_FILES_LOADED))},addPack:function(a){for(var b=z.iter(a.get_manifest()._entries);b.hasNext();){var c=b.next();new g._WMAssetManager.AssetDef(c.name,this._assets,a)}},isPackLoaded:function(a){return this._packs.exists(a)},loadPack:function(a,
b,c){null==c&&(c=!0);null==b&&(b="");var d=this;!1==this._defs.exists(a)&&g.WorkinCloud.instance.log("[WMAssetManager](loadPack) Can't load pack "+a+" , define the pack in config.xml.");g.WorkinCloud.instance.log("[WMAssetManager](loadPack) "+a);c&&(this._loadingChances=this._LOADING_CHANCES,this._packsMax++);c=x.Manifest.build(a);""!=this._baseUrl&&c.set_relativeBasePath(this._baseUrl);c=D._platform.loadAssetPack(c);c.error.connect(function(c){g.WorkinCloud.instance.log("[WMAssetManager](_onLoadingError) Loading failed with error: "+
c);d._loadingChances--;0<=d._loadingChances?T.delay(function(){g.WorkinCloud.instance.log("[WMAssetManager](_onLoadingError) Retrying. With "+d._loadingChances+" more chances.");d.loadPack(a,b,!1)},500):g.WorkinCloud.instance.log("[WMAssetManager](_onLoadingError) Loading attempts timed out.")});c.get(function(b){d.addPack(b);d._packsLoaded++;for(var c=0,e=d._defs.get(a)._getFlump();c<e.length;){var f=e[c];++c;d._flump.set(f,new w.Library(b,f))}c=0;for(e=d._defs.get(a)._getTiles();c<e.length;)++c;
d._packs.set(a,b);d._packsLoaded>=d._packsMax&&d._onAllLoadComplete()})},addPackDef:function(a,b,c){null==b&&(b=[]);null==c&&(c=[]);this._defs.set(a,new g._WMAssetManager.PackDef(a,b,c))},_parseChunk:function(a,b){for(var c=[],d=[],e=b.nodes.resolve("chunk").iterator();e.hasNext();){var f=e.next();c.push(f.getInnerData().toString())}for(e=b.nodes.resolve("pack").iterator();e.hasNext();)f=e.next(),d.push(f.getInnerData().toString());return new g._WMAssetManager.ChunkDef(a,d,c)},loadFolder:function(a){g.WorkinCloud.instance.log("[WMAssetManager](loadFolder) "+
a);this.isPackLoaded(a)||(this.addPackDef(a),this.loadPack(a))},loadChunk:function(a){!1==this._chunks.exists(a)&&g.WorkinCloud.instance.log("[WMAssetManager](loadChunk) No chunk named "+a+" defined.");for(var b=0,c=this._chunks.get(a)._getChunks();b<c.length;){var d=c[b];++b;this.loadChunk(d)}b=0;for(c=this._chunks.get(a)._getPacks();b<c.length;)d=c[b],++b,!1==this.isPackLoaded(d)&&this.loadPack(d)},isChunkLoaded:function(a){if(!1==this._chunks.exists(a))return g.WorkinCloud.instance.log("[WMAssetManager](isChunkLoaded) No chunk named "+
a+" defined."),!1;for(var b=0,a=this._chunks.get(a)._getPacks();b<a.length;){var c=a[b];++b;if(!1==this.isPackLoaded(c))return!1}return!0},addChunk:function(a,b){var c=this._parseChunk(a,b);this._chunks.set(a,c)},_setBaseUrl:function(a){this._baseUrl=a;g.WorkinCloud.instance.log("[WMAssetManager](setBaseUrl) Base Url set to '"+a+"'");return this._baseUrl},_getBaseUrl:function(){return this._baseUrl},__class__:g.WMAssetManager};g._WMAssetManager={};g._WMAssetManager.AssetDef=function(a,b,c){this._path=
a;a=a.split("/");this._id=a[a.length-1].split(".")[0];this._constructed=!1;this._data=this._pack=null;J.__instanceof(c,x.AssetPack)?this._pack=c:(this._constructed=!0,this._data=c);this._hash=b;this._hash.set(this._path,this);this._path!=this._path.split(".")[0]&&this._hash.set(this._path.split(".")[0],this);this._hash.set(this._id,this)};l["com.workinman.utils._WMAssetManager.AssetDef"]=g._WMAssetManager.AssetDef;g._WMAssetManager.AssetDef.__name__=["com","workinman","utils","_WMAssetManager","AssetDef"];
g._WMAssetManager.AssetDef.prototype={_getPack:function(){return this._pack},_getPath:function(){return this._path},_getData:function(){return this._data},_getConstructed:function(){return this._constructed},__class__:g._WMAssetManager.AssetDef};g._WMAssetManager.PackDef=function(a,b,c){this._id=a;this._flump=b;this._tiles=c};l["com.workinman.utils._WMAssetManager.PackDef"]=g._WMAssetManager.PackDef;g._WMAssetManager.PackDef.__name__=["com","workinman","utils","_WMAssetManager","PackDef"];g._WMAssetManager.PackDef.prototype=
{_getTiles:function(){return this._tiles},_getFlump:function(){return this._flump},__class__:g._WMAssetManager.PackDef};g._WMAssetManager.ChunkDef=function(a,b,c){this._id=a;this._packs=b;this._chunks=c};l["com.workinman.utils._WMAssetManager.ChunkDef"]=g._WMAssetManager.ChunkDef;g._WMAssetManager.ChunkDef.__name__=["com","workinman","utils","_WMAssetManager","ChunkDef"];g._WMAssetManager.ChunkDef.prototype={_getChunks:function(){return this._chunks},_getPacks:function(){return this._packs},__class__:g._WMAssetManager.ChunkDef};
g.WMInput=function(){this._multiTouchAvail=!1;this._keycodes=new F;this._keydown=new F;this._touchList=new F;this._touchRemoval=[];this._keydown.set("input_click",!1);this._scale=1;this._offset=new f.WorkinPoint;this._pointer=new g.WMPointer("",0)};l["com.workinman.utils.WMInput"]=g.WMInput;g.WMInput.__name__=["com","workinman","utils","WMInput"];g.WMInput.prototype={_onPointerUp:function(a){this._keydown.set("input_click",!1);var b=a.viewX/this._scale,a=a.viewY/this._scale,b=b+this._offset.x,a=a+
this._offset.y;this._pointer.end(b,a);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventInput(0,"input_click",b,a))},_onPointerMove:function(a){var b=a.viewX/this._scale,a=a.viewY/this._scale,b=b+this._offset.x,a=a+this._offset.y;this._pointer.move(b,a);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventInput(2,"input_click",b,a))},_onPointerDown:function(a){this._keydown.set("input_click",!0);var b=a.viewX/this._scale,a=a.viewY/this._scale,b=b+this._offset.x,a=a+this._offset.y;
this._pointer.begin(b,a);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventInput(1,"input_click",b,a))},_onTouchUp:function(a){var b=a.viewX/this._scale,c=a.viewY/this._scale,b=b+this._offset.x,c=c+this._offset.y;this._touchList.get(s.string(a.id)).end(b,c);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventInput(0,"input_click",b,c))},_onTouchMove:function(a){var b=a.viewX/this._scale,c=a.viewY/this._scale,b=b+this._offset.x,c=c+this._offset.y;this._touchList.get(s.string(a.id)).move(b,
c);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventInput(2,"input_click",b,c))},_onTouchDown:function(a){var b=0,c=!1;do for(var c=!0,d=this._touchList.iterator();d.hasNext();){var e=d.next();if(b==e._getIndex()){b++;c=!1;break}}while(!1==c);c=new g.WMPointer(s.string(a.id),b);this._touchList.set(c._getId(),c);d=a.viewX/this._scale;a=a.viewY/this._scale;d+=this._offset.x;a+=this._offset.y;c.begin(d,a);0<b&&g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventInput(1,
"input_click",d,a))},_onKeyUp:function(a){for(var b,c=this._keycodes.keys();c.hasNext();){var d=c.next();b=this._keycodes.get(d);for(var e=0;e<b.length;){var f=b[e];++e;f==a.key&&(this._keydown.set(d,!1),g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventInput(0,d,0,0)))}}},_onKeyDown:function(a){for(var b,c=this._keycodes.keys();c.hasNext();){var d=c.next();b=this._keycodes.get(d);for(var e=0;e<b.length;){var f=b[e];++e;f==a.key&&(this._keydown.set(d,!0),g.WorkinCloud.instance.getDispatcher().dispatchEvent(new p.WMEventInput(1,
d,0,0)))}}},getInput:function(a){return this._keydown.get(a)},registerInput:function(a,b){this._keycodes.set(a,b);this._keydown.set(a,!1)},prime:function(){this._multiTouchAvail=D._platform.getTouch().get_supported();D._platform.getKeyboard().down.connect(r(this,this._onKeyDown));D._platform.getKeyboard().up.connect(r(this,this._onKeyUp));this._multiTouchAvail&&(D._platform.getTouch().down.connect(r(this,this._onTouchDown)),D._platform.getTouch().move.connect(r(this,this._onTouchMove)),D._platform.getTouch().up.connect(r(this,
this._onTouchUp)));D._platform.getPointer().down.connect(r(this,this._onPointerDown));D._platform.getPointer().move.connect(r(this,this._onPointerMove));D._platform.getPointer().up.connect(r(this,this._onPointerUp))},_getMultiTouch:function(){return this._touchList},_getPointer:function(){return this._pointer},_setOffset:function(a){return this._offset=a},_getOffset:function(){return this._offset},_setScale:function(a){this._scale=a;0==this._scale&&(this._scale=0.01);return this._scale},_getScale:function(){return this._scale},
update:function(a){this._pointer.update(a);for(var b=this._touchList.iterator();b.hasNext();){var c=b.next();c.update(a);0==c._getPhase()&&this._touchRemoval.push(c._getId())}a=0;for(b=this._touchRemoval;a<b.length;)c=b[a],++a,this._touchList.get(c).dispose(),this._touchList.remove(c);for(;0<this._touchRemoval.length;)this._touchRemoval.pop()},__class__:g.WMInput};g.WMPointer=function(a,b){this.SWIPE_DOWN=4;this.SWIPE_UP=3;this.SWIPE_RIGHT=2;this.SWIPE_LEFT=1;this.SWIPE_NONE=0;this._resetDeltaLine=
!0;this._timer=g.WMPointer._DELTA_TIMEOUT;this._id=a;this._index=b;this._origin=new f.WorkinPoint(0,0);this._current=new f.WorkinPoint(0,0);this._last=new f.WorkinPoint(0,0);this._delta=new f.WorkinPoint(0,0);this._line=new f.WorkinLine(new f.WorkinPoint(0,0),new f.WorkinPoint(0,0));this._deltaLine=this._line.copy();this._camera=new f.WorkinCamera(0,0);this._phase=p.WMEventInput.PHASE_UP;this._swipe=this.SWIPE_NONE;this._consumed=!1};l["com.workinman.utils.WMPointer"]=g.WMPointer;g.WMPointer.__name__=
["com","workinman","utils","WMPointer"];g.WMPointer.prototype={update:function(a){this._resetDeltaLine=!0;this._timer-=a;0>this._timer&&(this._timer=g.WMPointer._DELTA_TIMEOUT,this._deltaLine.originToPoint(this._current))},_updateInfo:function(a,b){this._last.toPoint(this._current);this._current.to(a,b);this._current.x+=this._camera._getPos().x-this._camera._getScreenCenterX();this._current.y+=this._camera._getPos().y-this._camera._getScreenCenterY();this._delta.toPoint(this._current);this._delta.subtractPoint(this._last)},
end:function(a,b){this._phase=p.WMEventInput.PHASE_UP;this._updateInfo(a,b);this._line.endToPoint(this._current);this._swipe=this.SWIPE_NONE;this._consumed=!1},move:function(a,b){this._updateInfo(a,b);if(!1!=g.WorkinCloud.instance.getInput().getInput("input_click")){this._phase=p.WMEventInput.PHASE_MOVE;if(!1==this._consumed){var c=this._origin.x-this._current.x,d=this._origin.y-this._current.y;this._swipe=Math.abs(c)>=g.WMPointer._DELTA_ALLOWANCE&&Math.abs(d)<g.WMPointer._DELTA_ALLOWANCE?0<c?this.SWIPE_LEFT:
this.SWIPE_RIGHT:Math.abs(d)>=g.WMPointer._DELTA_ALLOWANCE&&Math.abs(c)<g.WMPointer._DELTA_ALLOWANCE?0<d?this.SWIPE_UP:this.SWIPE_DOWN:this.SWIPE_NONE}else this._swipe=this.SWIPE_NONE;this._line.endToPoint(this._current)}},begin:function(a,b){this._origin.to(a,b);this._origin.x+=this._camera._getPos().x-this._camera._getScreenCenterX();this._origin.y+=this._camera._getPos().y-this._camera._getScreenCenterY();this._current.toPoint(this._origin);this._last.toPoint(this._origin);this._delta.to(0,0);
this._line.to(this._origin,this._current);this._deltaLine.to(this._origin,this._current);this._consumed=!1;this._phase=p.WMEventInput.PHASE_DOWN;this._swipe=this.SWIPE_NONE},_getDeltaLine:function(){if(!1==this._resetDeltaLine)return this._deltaLine;this._deltaLine.endToPoint(this._current);this._resetDeltaLine=!1;return this._deltaLine},_setIndex:function(a){return this._index=a},_getIndex:function(){return this._index},_getId:function(){return this._id},_setConsumed:function(a){return this._consumed=
a},_getConsumed:function(){return this._consumed},_getSwipe:function(){return this._swipe},_getLine:function(){return this._line},_getDeltaPos:function(){return this._delta},_getLastPos:function(){return this._last},_getCurrentPos:function(){return this._current},_getOriginPos:function(){return this._origin},_getPhase:function(){return this._phase},dispose:function(){this._delta=this._last=this._current=this._origin=null;this._line.dispose();this._line=null;this._deltaLine.dispose();this._camera=
this._deltaLine=null},__class__:g.WMPointer};g.WMLocalize=function(){};l["com.workinman.utils.WMLocalize"]=g.WMLocalize;g.WMLocalize.__name__=["com","workinman","utils","WMLocalize"];g.WMLocalize.prototype={getData:function(a,b){null==b&&(b="");""==b&&(b=G.ConstantsCloud.LOCALIZATION_XML_PATH+"translation_"+g.WorkinCloud.instance.getString(G.ConstantsCloud.STRING_REGION_ID)+".xml");for(var c=g.WorkinCloud.instance.getAssets().getXML(b).nodes.resolve("string").iterator();c.hasNext();){var d=c.next();
if(d.att.resolve("id")==a)return new g.WMLocalizedData(d.att.resolve("id"),d.getInnerData(),d.att.resolve("fontName"),s.parseFloat(d.att.resolve("fontScale")),s.parseFloat(d.att.resolve("offsetX")),s.parseFloat(d.att.resolve("offsetX")))}g.WorkinCloud.instance.log("[WMLocalize] ERROR: No localization data for : "+a);return new g.WMLocalizedData(a,"","",1,0,0)},__class__:g.WMLocalize};g.WMLocalizedData=function(a,b,c,d,e,f){this._id=a;this._string=b;this._fontName=c;this._scale=d;this._offsetX=e;this._offsetY=
f};l["com.workinman.utils.WMLocalizedData"]=g.WMLocalizedData;g.WMLocalizedData.__name__=["com","workinman","utils","WMLocalizedData"];g.WMLocalizedData.prototype={_getOffsetY:function(){return this._offsetY},_getOffsetX:function(){return this._offsetX},_getScale:function(){return this._scale},_getFontName:function(){return this._fontName},_getString:function(){return this._string},_getId:function(){return this._id},__class__:g.WMLocalizedData};g.WMSound=function(){this._music="";this._musicGain=
1;this._musicPlaying=null;this._isMuted=!1;this._mixer=new H.Mixer;this._sounds=[]};l["com.workinman.utils.WMSound"]=g.WMSound;g.WMSound.__name__=["com","workinman","utils","WMSound"];g.WMSound.prototype={update:function(){},playMusic:function(a,b){null==b&&(b=1);this._music=a;this._musicGain=b;if(!(this._isMuted||""==a)){null!=this._musicPlaying&&this._musicPlaying.dispose();var c=new g._WMSound.SoundDef(a,this._mixer.newSound(g.WorkinCloud.instance.getAssets().getSound(this._music),1),!0);this._musicPlaying=
c;c.playSound(b)}},playSound:function(a,b){null==b&&(b=1);if(!this._isMuted){for(var c=0;c<this._sounds.length;){if(this._sounds[c].id==a){this._sounds[c].playSound(b);return}c++}c=new g._WMSound.SoundDef(a,this._mixer.newSound(g.WorkinCloud.instance.getAssets().getSound(a),4),!1);this._sounds.push(c);c.playSound(b)}},setMute:function(a){if(a&&!1==this._isMuted){this._isMuted=!0;for(this._mixer.stopAll();0<this._sounds.length;)this._sounds.splice(0,1);this._musicPlaying=null}else!1==a&&this._isMuted&&
(this._isMuted=!1,this.playMusic(this._music,this._musicGain))},getMute:function(){return this._isMuted},__class__:g.WMSound};g._WMSound={};g._WMSound.SoundDef=function(a,b,c){null==c&&(c=!1);this.id=a;this.isMusic=c;this._flagPlayed=this._flagHasSound=!1;this._sound=b};l["com.workinman.utils._WMSound.SoundDef"]=g._WMSound.SoundDef;g._WMSound.SoundDef.__name__=["com","workinman","utils","_WMSound","SoundDef"];g._WMSound.SoundDef.prototype={playSound:function(a){null==a&&(a=1);this._playback=this.isMusic?
this._sound.loop(a):this._sound.play(a)},_setPlayback:function(a){return this._playback=a},_getPlayback:function(){return this._playback},dispose:function(){this._playback.dispose();this._playback=null},__class__:g._WMSound.SoundDef};H={Mixer:function(){this._sounds=[]}};l["flambe.sound.Mixer"]=H.Mixer;H.Mixer.__name__=["flambe","sound","Mixer"];H.Mixer.__super__=K;H.Mixer.prototype=v(K.prototype,{onRemoved:function(){this.stopAll();this._sounds=[]},stopAll:function(){for(var a=0,b=this._sounds;a<
b.length;){var c=b[a];++a;c.dispose()}},newSound:function(a,b){null==b&&(b=2147483647);var c=new H._Mixer.MixerSound(a,b);this._sounds.push(c);return c},get_name:function(){return"Mixer_2"},__class__:H.Mixer});g.WorkinCloud=function(){this._values=new F;this._defaults=new F;this._dispatcher=new p.WMEventDispatcher;this._input=new g.WMInput;this._assets=new g.WMAssetManager;this._sound=new g.WMSound;this._localize=new g.WMLocalize;this.setString(G.ConstantsCloud.STRING_REGION_ID,"en")};l["com.workinman.utils.WorkinCloud"]=
g.WorkinCloud;g.WorkinCloud.__name__=["com","workinman","utils","WorkinCloud"];g.WorkinCloud.prototype={_updateDisplays:function(a){this._dispatcher.dispatchEvent(new p.WMEventData(n.Display.EVENT_UPDATE_DISPLAY,{valueID:a}))},sharedObjectSetData:function(a,b){var c=R.WMSharedObject.getLocal(a);c._setData(b);c.flush();c.dispose()},sharedObjectGetData:function(a){var a=R.WMSharedObject.getLocal(a),b=a._getData();a.dispose();return b},resetValue:function(a){this._values.set(a,this._defaults.get(a));
this._updateDisplays(a)},modifyValue:function(a,b){null==b&&(b=1);this._values.set(a,this.getFloat(a)+b);this._updateDisplays(a);return this.getFloat(a)},setValue:function(a,b){this._values.set(a,b);!1==this._defaults.exists(a)&&this.setDefault(a,b);this._updateDisplays(a)},getValue:function(a){return this._values.get(a)},setDefault:function(a,b){this._defaults.set(a,b);this.resetValue(a)},getString:function(a){return this._values.get(a)},setString:function(a,b){this.setValue(a,b)},getInt:function(a){return this._values.get(a)},
modifyInt:function(a,b){return Math.floor(this.modifyValue(a,b))},setInt:function(a,b){this.setValue(a,b)},getFloat:function(a){return this._values.get(a)},getBool:function(a){return this._values.get(a)},setBool:function(a,b){this.setValue(a,b)},_getLocalize:function(){return this._localize},_getSound:function(){return this._sound},getAssets:function(){return this._assets},getInput:function(){return this._input},getDispatcher:function(){return this._dispatcher},log:function(){null},__class__:g.WorkinCloud};
g.WorkinUtils=function(){};l["com.workinman.utils.WorkinUtils"]=g.WorkinUtils;g.WorkinUtils.__name__=["com","workinman","utils","WorkinUtils"];g.WorkinUtils.getRandom=function(a,b,c){null==c&&(c=!0);var d=Math.random();1==d&&(d=0.99);return c?a+Math.floor(d*(b+1-a)):a+d*(b-a)};O=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};l["flambe.Entity"]=O;O.__name__=["flambe","Entity"];O.__interfaces__=[o.Disposable];O.prototype={dispose:function(){for(null!=this.parent&&
this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren();this.onDispose()},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},onDispose:function(){},onRemoved:function(){},onAdded:function(){},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var d=c.next;if(c==a){c.onRemoved();null==b?this.firstChild=d:b.next=d;c.parent=null;c.next=null;break}b=c;c=d}},addChild:function(a,b){null==b&&(b=!0);null!=
a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,d=this.firstChild;null!=d;)c=d,d=d.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a){null==b?this.firstComponent=d:b._internal_init(this,d);delete this._compMap[c.get_name()];c.onRemoved();c._internal_init(null,null);break}b=c;c=d}},add:function(a){var b=a.get_name(),c=this._compMap[b];
null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a._internal_init(this,null);a.onAdded();return this},__class__:O};o.PackageLog=function(){};l["flambe.util.PackageLog"]=o.PackageLog;o.PackageLog.__name__=["flambe","util","PackageLog"];h={Platform:function(){}};l["flambe.platform.Platform"]=h.Platform;h.Platform.__name__=["flambe","platform","Platform"];h.Platform.prototype={__class__:h.Platform};h.html={};h.html.HtmlPlatform=
function(){};l["flambe.platform.html.HtmlPlatform"]=h.html.HtmlPlatform;h.html.HtmlPlatform.__name__=["flambe","platform","html","HtmlPlatform"];h.html.HtmlPlatform.__interfaces__=[h.Platform];h.html.HtmlPlatform.prototype={getY:function(a,b){return this._stage.scaleFactor*(a.clientY-b.top)},getX:function(a,b){return this._stage.scaleFactor*(a.clientX-b.left)},getTempGraphics:function(){return this._tempGraphics},getTempCanvas:function(){return this._tempCanvas},getRenderer:function(){return this._renderer},
getExternal:function(){null==this._external&&(this._external=new h.html.HtmlExternal);return this._external},getWeb:function(){null==this._web&&(this._web=new h.html.HtmlWeb(this._container));return this._web},getKeyboard:function(){return this._keyboard},getTouch:function(){return this._touch},getMouse:function(){return this._mouse},getPointer:function(){return this._pointer},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),
this.mainLoop.render(this._renderer))},getTime:function(){return Date.now()/1E3},createLogHandler:function(){return null},getLocale:function(){return B.window.navigator.language},getStorage:function(){if(null==this._storage){var a=null;try{a=B.window.localStorage}catch(b){}this._storage=null!=a?new h.html.HtmlStorage(a):new h.DummyStorage}return this._storage},getStage:function(){return this._stage},loadAssetPack:function(a){return(new h.html.HtmlAssetPackLoader(this,a)).promise},init:function(){var a=
this,b=null;try{b=B.window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.setAttribute("moz-opaque","true");this._stage=new h.html.HtmlStage(b);this._pointer=new h.BasicPointer;this._mouse=new h.html.HtmlMouse(this._pointer,b);this._keyboard=new h.BasicKeyboard;this._tempCanvas=h.html.HtmlUtil.createCanvas(b);this._tempGraphics=new h.html.CanvasGraphics(this._tempCanvas);this._renderer=new h.html.CanvasRenderer(b);D.hasGPU.set__(!0);this.mainLoop=new h.MainLoop;
this._container=b.parentNode;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var d=0,e=function(c){if(!(1E3>c.timeStamp-d)){var e=b.getBoundingClientRect(),f=a.getX(c,e),e=a.getY(c,e);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(f,e,c.button),c.target.focus());break;case "mousemove":a._mouse.submitMove(f,e);break;case "mouseup":a._mouse.submitUp(f,e,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(f,
e,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",e,!1);window.addEventListener("mousemove",e,!1);window.addEventListener("mouseup",e,!1);b.addEventListener("mousewheel",e,!1);b.addEventListener("DOMMouseScroll",e,!1);if("ontouchstart"in window){var f=new h.BasicTouch(this._pointer);this._touch=f;e=function(b){var c=b.changedTouches,e=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "touchstart":b.preventDefault();h.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&
h.html.HtmlUtil.hideMobileBrowser();for(b=0;b<c.length;){var g=c[b];++b;var j=a.getX(g,e),l=a.getY(g,e);f.submitDown(g.identifier|0,j,l)}break;case "touchmove":b.preventDefault();for(b=0;b<c.length;)g=c[b],++b,j=a.getX(g,e),l=a.getY(g,e),f.submitMove(g.identifier|0,j,l);break;case "touchend":case "touchcancel":for(b=0;b<c.length;)g=c[b],++b,j=a.getX(g,e),l=a.getY(g,e),f.submitUp(g.identifier|0,j,l)}};b.addEventListener("touchstart",e,!1);b.addEventListener("touchmove",e,!1);b.addEventListener("touchend",
e,!1);b.addEventListener("touchcancel",e,!1)}else this._touch=new h.DummyTouch;e=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};b.addEventListener("keydown",e,!1);b.addEventListener("keyup",e,!1);var g=B.window.onerror;B.window.onerror=function(a,b,c){D.uncaughtError.emit1(a);return null!=g?g(a,b,c):!1};var j=h.html.HtmlUtil.loadExtension("hidden",B.document);null!=j.value&&(e=function(){D.hidden.set__(L.field(B.document,
j.field))},e(),B.document.addEventListener(j.prefix+"visibilitychange",e,!1),D.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)}));this._lastUpdate=Date.now();this._skipFrame=!1;var l=h.html.HtmlUtil.loadExtension("requestAnimationFrame").value;if(null!=l){var k=B.window.performance,m=null!=k&&h.html.HtmlUtil.polyfill("now",k);m?this._lastUpdate=k.now():null;var n=null,n=function(c){a.update(m?k.now():c);l(n,b)};l(n,b)}else B.window.setInterval(function(){a.update(Date.now())},1E3/60)},
__class__:h.html.HtmlPlatform};o.Value=function(a,b){this._value=a;null!=b&&(this._changed=new o.Signal2(b))};l["flambe.util.Value"]=o.Value;o.Value.__name__=["flambe","util","Value"];o.Value.prototype={get_changed:function(){null==this._changed&&(this._changed=new o.Signal2);return this._changed},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit2(a,b));return a},__class__:o.Value};o.SignalConnection=function(a,b){this._internal_next=null;this._signal=
a;this._internal_listener=b;this.stayInList=!0};l["flambe.util.SignalConnection"]=o.SignalConnection;o.SignalConnection.__name__=["flambe","util","SignalConnection"];o.SignalConnection.__interfaces__=[o.Disposable];o.SignalConnection.prototype={dispose:function(){null!=this._signal&&(this._signal._internal_disconnect(this),this._signal=null)},once:function(){this.stayInList=!1;return this},__class__:o.SignalConnection};o.SignalBase=function(a){this._head=null!=a?new o.SignalConnection(this,a):null;
this._deferredTasks=null};l["flambe.util.SignalBase"]=o.SignalBase;o.SignalBase.__name__=["flambe","util","SignalBase"];o.SignalBase.prototype={listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._internal_next;null==b?this._head=a:b._internal_next=a;break}b=c;c=c._internal_next}},listAdd:function(a,b){if(b)a._internal_next=this._head,this._head=a;else{for(var c=null,d=this._head;null!=d;)c=d,d=d._internal_next;null!=c?c._internal_next=a:this._head=a}},didEmit:function(a){for(this._head=
a;null!=this._deferredTasks;)this._deferredTasks.fn(),this._deferredTasks=this._deferredTasks.next},willEmit:function(){var a=this._head;this._head=o.SignalBase.DISPATCHING_SENTINEL;return a},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new o._SignalBase.Task(a);null!=b?b.next=a:this._deferredTasks=a},emit2:function(a,b){for(var c=this.willEmit(),d=c;null!=d;)d._internal_listener(a,b),d.stayInList||d.dispose(),d=d._internal_next;this.didEmit(c)},emit1:function(a){for(var b=
this.willEmit(),c=b;null!=c;)c._internal_listener(a),c.stayInList||c.dispose(),c=c._internal_next;this.didEmit(b)},emit0:function(){for(var a=this.willEmit(),b=a;null!=b;)b._internal_listener(),b.stayInList||b.dispose(),b=b._internal_next;this.didEmit(a)},_internal_disconnect:function(a){var b=this;this._head==o.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},connectImpl:function(a,b){var c=this,d=new o.SignalConnection(this,a);this._head==o.SignalBase.DISPATCHING_SENTINEL?
this.defer(function(){c.listAdd(d,b)}):this.listAdd(d,b);return d},__class__:o.SignalBase};o.Signal2=function(a){o.SignalBase.call(this,a)};l["flambe.util.Signal2"]=o.Signal2;o.Signal2.__name__=["flambe","util","Signal2"];o.Signal2.__super__=o.SignalBase;o.Signal2.prototype=v(o.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:o.Signal2});o.Signal1=function(a){o.SignalBase.call(this,a)};l["flambe.util.Signal1"]=o.Signal1;o.Signal1.__name__=["flambe",
"util","Signal1"];o.Signal1.__super__=o.SignalBase;o.Signal1.prototype=v(o.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:o.Signal1});D=function(){};l["flambe.System"]=D;D.__name__=["flambe","System"];D.init=function(){D._calledInit||(D._platform.init(),D._calledInit=!0)};o.Logger=function(a){this._handler=a};l["flambe.util.Logger"]=o.Logger;o.Logger.__name__=["flambe","util","Logger"];o.Logger.prototype={__class__:o.Logger};Y=function(){};l["flambe.Log"]=
Y;Y.__name__=["flambe","Log"];Y.__super__=o.PackageLog;Y.prototype=v(o.PackageLog.prototype,{__class__:Y});y=function(a){null==a&&(a=1);this._internal_realDt=0;this.scale=new E.AnimatedFloat(a)};l["flambe.SpeedAdjuster"]=y;y.__name__=["flambe","SpeedAdjuster"];y.__super__=K;y.prototype=v(K.prototype,{onUpdate:function(a){0<this._internal_realDt&&(a=this._internal_realDt,this._internal_realDt=0);this.scale.update(a)},get_name:function(){return"SpeedAdjuster_5"},__class__:y});E={AnimatedFloat:function(a,
b){o.Value.call(this,a,b);this.behaviorComplete=new o.Signal0}};l["flambe.animation.AnimatedFloat"]=E.AnimatedFloat;E.AnimatedFloat.__name__=["flambe","animation","AnimatedFloat"];E.AnimatedFloat.__super__=o.Value;E.AnimatedFloat.prototype=v(o.Value.prototype,{set_behavior:function(a){this._behavior=a;this.update(0);return a},update:function(a){null!=this._behavior&&(o.Value.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null,this.behaviorComplete.emit0()))},
set__:function(a){this._behavior=null;return o.Value.prototype.set__.call(this,a)},__class__:E.AnimatedFloat});E.Behavior=function(){};l["flambe.animation.Behavior"]=E.Behavior;E.Behavior.__name__=["flambe","animation","Behavior"];E.Behavior.prototype={__class__:E.Behavior};E.Binding=function(){};l["flambe.animation.Binding"]=E.Binding;E.Binding.__name__=["flambe","animation","Binding"];E.Binding.__interfaces__=[E.Behavior];E.Binding.prototype={isComplete:function(){return!1},update:function(){var a=
this._target._value;return null!=this._fn?this._fn(a):a},__class__:E.Binding};x={};x.AssetType=l["flambe.asset.AssetType"]={__ename__:["flambe","asset","AssetType"],__constructs__:["Image","Audio","Data"]};x.AssetType.Image=["Image",0];x.AssetType.Image.toString=q;x.AssetType.Image.__enum__=x.AssetType;x.AssetType.Audio=["Audio",1];x.AssetType.Audio.toString=q;x.AssetType.Audio.__enum__=x.AssetType;x.AssetType.Data=["Data",2];x.AssetType.Data.toString=q;x.AssetType.Data.__enum__=x.AssetType;x.AssetEntry=
function(a,b,c,d){this.name=a;this.url=b;this.type=c;this.bytes=d};l["flambe.asset.AssetEntry"]=x.AssetEntry;x.AssetEntry.__name__=["flambe","asset","AssetEntry"];x.AssetEntry.prototype={getUrlExtension:function(){return o.Strings.getFileExtension(this.url.split("?")[0]).toLowerCase()},__class__:x.AssetEntry};x.AssetPack=function(){};l["flambe.asset.AssetPack"]=x.AssetPack;x.AssetPack.__name__=["flambe","asset","AssetPack"];x.AssetPack.prototype={__class__:x.AssetPack};J=void 0;B=void 0;ga=void 0;
J=function(){};l["js.Boot"]=J;J.__name__=["js","Boot"];J.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+J.__string_rec(a[f],b)):c+J.__string_rec(a[f],b);return c+")"}d=a.length;c="[";b+="\t";for(e=0;e<d;)f=e++,c+=(0<f?",":"")+J.__string_rec(a[f],
b);return c+"]"}try{e=a.toString}catch(g){return"???"}if(null!=e&&e!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;e=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(e in a)if(!d||a.hasOwnProperty(e))"prototype"==e||"__class__"==e||"__super__"==e||"__interfaces__"==e||"__properties__"==e||(2!=c.length&&(c+=", \n"),c+=b+e+" : "+J.__string_rec(a[e],b));b=b.substring(1);return c+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};J.__interfLoop=
function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||J.__interfLoop(f,b))return!0}return J.__interfLoop(a.__super__,b)};J.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(J.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case ja:return Math.ceil(a%2147483648)===a;case ha:return"number"==typeof a;case ia:return!0===a||!1===a;case String:return"string"==
typeof a;case ka:return!0;default:if(null==a)return!1;if(b==la&&null!=a.__name__)return!0;null;if(b==ma&&null!=a.__ename__)return!0;null;return a.__enum__==b}};J.__cast=function(a,b){if(J.__instanceof(a,b))return a;throw"Cannot cast "+s.string(a)+" to "+s.string(b);};o.Strings=function(){};l["flambe.util.Strings"]=o.Strings;o.Strings.__name__=["flambe","util","Strings"];o.Strings.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?z.substr(a,b+1,null):null};o.Strings.removeFileExtension=
function(a){var b=a.lastIndexOf(".");return 0<b?z.substr(a,0,b):a};o.Strings.joinPath=function(a,b){47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};o.Strings.withFields=function(a,b){var c=b.length;if(0<c){for(var a=a+(0<a.length?" [":"["),d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(J.__instanceof(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+s.string(f);d+=2}a+="]"}return a};B=function(){};l["js.Lib"]=B;B.__name__=["js","Lib"];x.Manifest=function(){this._entries=[]};l["flambe.asset.Manifest"]=
x.Manifest;x.Manifest.__name__=["flambe","asset","Manifest"];x.Manifest.build=function(a,b){null==b&&(b=!0);var c=x.Manifest._buildManifest.get(a);if(null==c){if(b)throw o.Strings.withFields("Missing asset pack",["name",a]);return null}return c.clone()};x.Manifest.inferType=function(a){a=o.Strings.getFileExtension(a.split("?")[0]);if(null!=a)switch(a.toLowerCase()){case "png":case "jpg":case "gif":return x.AssetType.Image;case "ogg":case "m4a":case "mp3":case "wav":return x.AssetType.Audio}return x.AssetType.Data};
x.Manifest.createBuildManifests=function(){var a=new F;a.set("initial_load",[{name:"ui/splash/splash_sound_ON.png",md5:"18445463619be5a89f8717a005ad3cbd",bytes:14310},{name:"ui/splash/splash_sound_OFF.png",md5:"e36f82188a287e2d7ad4254b07f15abb",bytes:7405},{name:"ui/splash/splash_forlocalization.jpg",md5:"abbcdaeefcc51ac3935c38159f4783b9",bytes:408673},{name:"ui/splash/splash_button.png",md5:"0fd3f31634dc09dc0282b170d3900de4",bytes:17717},{name:"ui/splash/splash.jpg",md5:"330f5d94e5d0a77988d0c3a793e52a0d",
bytes:281248},{name:"ui/background.png",md5:"ac0474ff9465e14ff3db415e18c0d9c0",bytes:10076},{name:"ui/AssetScreenGameplayHud.png",md5:"d6b818e40c1294c39cb40d49d1fb231a",bytes:4419},{name:"audio/whoosh.ogg",md5:"dc9ff60b75da121596d1daddb4c61306",bytes:29749},{name:"audio/whoosh.mp3",md5:"bcd3cd96d697e350ee613680a80e40d8",bytes:8856},{name:"audio/whistledown.ogg",md5:"c2b67c3198359272f79ae8ef633f38ab",bytes:4435},{name:"audio/whistledown.mp3",md5:"99b07b28babec844a2c1f0f8ccc842bd",bytes:4827},{name:"audio/step.ogg",
md5:"6a37922c1c3e492eec90c59c3253b8f4",bytes:8721},{name:"audio/step.mp3",md5:"21900fa3adbe8b23ff68a2bb71e5cff0",bytes:3075},{name:"audio/Sound_patHappy.ogg",md5:"5ae765da2fdf639be7ba856fce10cfbd",bytes:29080},{name:"audio/Sound_patHappy.mp3",md5:"e47c5daa82fa2e6f3aa7027b91c3f48a",bytes:32625},{name:"audio/sanjay.ogg",md5:"69e9240b7181ba7f50b7aa5e385c0a11",bytes:5661},{name:"audio/sanjay.mp3",md5:"cff94f00c20380479c7f37375d9879a5",bytes:940},{name:"audio/plankton_cackle.ogg",md5:"3c725e3e7da8302b7dbdd73eacc19293",
bytes:71796},{name:"audio/plankton_cackle.mp3",md5:"d7689c235229891564092f614f280aa7",bytes:24477},{name:"audio/jump.ogg",md5:"9e28948f960ee9070156097178fdda66",bytes:7236},{name:"audio/jump.mp3",md5:"79a70d1603b68e56fb1a732d2241fd44",bytes:1410},{name:"audio/jab.ogg",md5:"b2fdb0cc61d1ad3d1c113b81e60431a8",bytes:21441},{name:"audio/jab.mp3",md5:"dea6a138b01a931bd088151f8e62785b",bytes:5717},{name:"audio/gulp01.ogg",md5:"98dbcb3ef76a8257cb541191fa2fc68e",bytes:17990},{name:"audio/gulp01.mp3",md5:"445cfae4bcd86b1fcedb50dd04827c5d",
bytes:4776},{name:"audio/fire.ogg",md5:"28c0a7c8a7b401a750afe41cbfcd4002",bytes:10872},{name:"audio/fire.mp3",md5:"0b65196ffc44bf31be759727cc44ee9b",bytes:6269},{name:"audio/fart.ogg",md5:"96ad4522e4efa647a0877012b0433f45",bytes:7185},{name:"audio/fart.mp3",md5:"9681b0a6009c2fdc300bffbe21347251",bytes:1349},{name:"audio/cosmo_out.ogg",md5:"1437563d9b96c7753e9af0bec6a5d84d",bytes:32715},{name:"audio/cosmo_out.mp3",md5:"758dc57deb9def87d9fc00eda22fbfdc",bytes:7468},{name:"audio/cosmo.ogg",md5:"e7e6fa6e050b8c85f05635d5333cc5f5",
bytes:64712},{name:"audio/cosmo.mp3",md5:"37f40cbf9d19f3211dbe64b97d8b0250",bytes:17813},{name:"audio/button_click.ogg",md5:"ea578580f94d39b2a77945a1dd2b95bd",bytes:9619},{name:"audio/button_click.mp3",md5:"6dc61ce1700cbc1485481d65ea10c2e8",bytes:1286},{name:"audio/big_crash.ogg",md5:"366827ffebad98da4ddbfe217ed9a60d",bytes:27736},{name:"audio/big_crash.mp3",md5:"7d4b1aba43b9b4d01dabdd7816627571",bytes:8230},{name:"audio/bg_music.ogg",md5:"9ab4574b7afaece2db4dec1881fd30c9",bytes:126189},{name:"audio/bg_music.mp3",
md5:"4b7e6bf779c4fa5bd05f7e438ec9b66c",bytes:41534},{name:"audio/belch.ogg",md5:"72ab1238ae0298f123a5e0e8683ac80b",bytes:22647},{name:"audio/belch.mp3",md5:"ffdeeb9194084ba047d2025e70b35101",bytes:5717}]);a.set("gameplay_universal",[{name:"ui/win_screen/win_bg.jpg",md5:"b17baf58a372192a30bb41898454d840",bytes:98549},{name:"ui/quit_confirm/quitconfirm_screen.png",md5:"72af611cbaa3719b85cf8e2f890d3b18",bytes:5934},{name:"ui/quit_confirm/quitconfirm_button.png",md5:"5cea6f87e8e8b29b35adeb4581c297b7",
bytes:3129},{name:"ui/menu/updated_pause_screen.png",md5:"e9e9c04531e21a054344422195141e47",bytes:6852},{name:"ui/menu/pause_screen.png",md5:"51319702cd373d4373e6803485fb77ac",bytes:7666},{name:"ui/menu/pause_icon_sound_on.png",md5:"ddd81f3caf9e9f9a929239d755cf386f",bytes:3003},{name:"ui/menu/pause_icon_sound_off.png",md5:"63bbb622407851e4fb6d7b042c39fd86",bytes:2942},{name:"ui/menu/pause_icon_resume.png",md5:"ab4fd28396b24714ff6dfaf30d603bc5",bytes:2928},{name:"ui/menu/pause_icon_quit.png",md5:"ad677b662697106bb4c1c8d40db7c249",
bytes:2940},{name:"ui/menu/pause_icon_help.png",md5:"a2ed21de27f12260645ccca19fba6805",bytes:2940},{name:"ui/help/help_screen.png",md5:"0a281122abd23c701c5025382a293a0e",bytes:10879},{name:"ui/gameplay_hud/right_button.png",md5:"594240065cb9e32021fc02b66fbf024b",bytes:3156},{name:"ui/gameplay_hud/pause_button.png",md5:"8b2d415ceadcee9dcbaddb50875ffa17",bytes:6545},{name:"ui/gameplay_hud/left_button.png",md5:"59e70ed65f45506460aed9a86f8f8a19",bytes:3165},{name:"ui/gameplay_hud/jump_button.png",md5:"4d5e5738c6442a71a9015a8e40c3c0d8",
bytes:3195},{name:"ui/gameplay_hud/fail_container.png",md5:"388e6f43dbab4acf5b1b4d4d2ad05ff9",bytes:9899},{name:"ui/gameplay_hud/crouch_button.png",md5:"a15e38ef5be438416fdb49a8c8bd93de",bytes:3195},{name:"ui/end_screen/gameover_plankton.png",md5:"71da30aad2976821132b6a981a903884",bytes:27810},{name:"ui/end_screen/gameover_patty.png",md5:"4bcd074f982b1c79bb90dfcbface513f",bytes:39207},{name:"ui/end_screen/gameover_HD_SB.png",md5:"7447bb35ebadd442d81e35de6a91861a",bytes:95756},{name:"ui/end_screen/gameover_bg.jpg",
md5:"96ff862411e830fa1419066cd93d7a00",bytes:24402},{name:"elements/tiles/win_ladder.png",md5:"81fdd2797847687256b51fb7336b7744",bytes:3210},{name:"elements/plankton.png",md5:"ee2e7c43948686df5168576340107e11",bytes:3428},{name:"elements/background/screen_border.png",md5:"1ea71f2a7a8be4c875159a20f99a3afd",bytes:110109},{name:"anim_tiles/library.json",md5:"9ee6970f8f20019bd27957cf01ae0007",bytes:800},{name:"anim_tiles/atlas0.png",md5:"15929c90a8c73a15c4dda79f6db52817",bytes:12930},{name:"anim_player/library.json",
md5:"4d75833900b043b57b570e91d974281c",bytes:2261},{name:"anim_player/atlas0.png",md5:"5d3ce19817e0ed8ee0cdc73bcb6c2c70",bytes:44890},{name:"anim_jellyfish/library.json",md5:"ac0eabbf278e2cc9a2e1d6950b0044de",bytes:656},{name:"anim_jellyfish/atlas1.png",md5:"cf6a05c8e23430cf8b2b62156237f954",bytes:4777},{name:"anim_jellyfish/atlas0.png",md5:"ebbb0d958b86a28b563d35fafed92141",bytes:7187},{name:"anim_hd_spongebob_2/library.json",md5:"55559bc63f08a2a7ea67201ee8e38202",bytes:7973},{name:"anim_hd_spongebob_2/atlas0.png",
md5:"1eb6f79602001a9c5b9fe707877009bf",bytes:52605},{name:"anim_hd_spongebob/library.json",md5:"8b05757d45ac89ac15c0c547b366abea",bytes:13972},{name:"anim_hd_spongebob/atlas0.png",md5:"eccdbffbb6887e03b2d11845c27967e5",bytes:128879},{name:"anim_hd_sanjay/library.json",md5:"719dfca2280f3d0ae6dc5e565b73fc9b",bytes:24410},{name:"anim_hd_sanjay/atlas0.png",md5:"01212ea461fa7e98784b51eac4e1b2ed",bytes:151787},{name:"anim_hd_raph/library.json",md5:"4f867ae78b0ff355710568bbb44252a1",bytes:21345},{name:"anim_hd_raph/atlas0.png",
md5:"de711234f4337513f49096f37adc1c7c",bytes:74702},{name:"anim_hd_po/library.json",md5:"7634627b970fff60e82fbea7bc1d2f99",bytes:2671},{name:"anim_hd_po/atlas0.png",md5:"1be9260b1352f80dc67494b9d91b64cd",bytes:41848},{name:"anim_hd_patrick/library.json",md5:"bf63f8739438999dd8a2e30e87be0fb5",bytes:4023},{name:"anim_hd_patrick/atlas0.png",md5:"9f270c66725e6d0bea1d6473a6b36709",bytes:40379},{name:"anim_hd_mikey/library.json",md5:"d4d23a614d13e684faf6e4b417eb245e",bytes:22618},{name:"anim_hd_mikey/atlas1.png",
md5:"df97a2511aa1c2b95580db29c1808ad6",bytes:21381},{name:"anim_hd_mikey/atlas0.png",md5:"1f62f2ce1632e46967eb612fe0503e9d",bytes:117047},{name:"anim_hd_donnie/library.json",md5:"ae08e63cdc271d6c5c62158d14348271",bytes:22671},{name:"anim_hd_donnie/atlas0.png",md5:"be3be59bdbeafa0ba5d92441b6f4ee95",bytes:278841},{name:"anim_hd_cosmo/library.json",md5:"7a1d3483b18602e65ae6f299fe451645",bytes:14340},{name:"anim_hd_cosmo/atlas0.png",md5:"b41bcda31921f9b82cd8ae9fc61b91cb",bytes:95264},{name:"anim_geyser/library.json",
md5:"507926c1ea23f650936a739e9f03b6a3",bytes:433},{name:"anim_geyser/atlas0.png",md5:"9958329b678ee1a1c581e178e76ac63e",bytes:3421},{name:"anim_bubble/library.json",md5:"9985be9cfdd956f3a62e9edfd24b918e",bytes:480},{name:"anim_bubble/atlas0.png",md5:"1f6d114138d3e65696fcb430a98eb1b3",bytes:1624}]);a.set("fonts_la",[{name:"Basic3.png",md5:"c0584c50f66be80239cfa677dbc0c06c",bytes:319580},{name:"Basic3.fnt",md5:"64f3593691578a8229802f2ab26cd34d",bytes:20243},{name:"Basic2.png",md5:"9514f2c3fc9618da37de776a0a254614",
bytes:136847},{name:"Basic2.fnt",md5:"f6648961f37c4ce81f1e11729795ddaf",bytes:20056},{name:"Basic.png",md5:"f0d835429a7be856417bd88849739ecf",bytes:639022},{name:"Basic.fnt",md5:"1671157e64d0bacbef54a22c457cd493",bytes:20346}]);a.set("fonts_kr",[{name:"Basic3.png",md5:"c0584c50f66be80239cfa677dbc0c06c",bytes:319580},{name:"Basic3.fnt",md5:"64f3593691578a8229802f2ab26cd34d",bytes:20243},{name:"Basic2.png",md5:"9514f2c3fc9618da37de776a0a254614",bytes:136847},{name:"Basic2.fnt",md5:"f6648961f37c4ce81f1e11729795ddaf",
bytes:20056},{name:"Basic.png",md5:"f0d835429a7be856417bd88849739ecf",bytes:639022},{name:"Basic.fnt",md5:"1671157e64d0bacbef54a22c457cd493",bytes:20346}]);a.set("fonts_jp",[{name:"Basic3.png",md5:"c0584c50f66be80239cfa677dbc0c06c",bytes:319580},{name:"Basic3.fnt",md5:"64f3593691578a8229802f2ab26cd34d",bytes:20243},{name:"Basic2.png",md5:"9514f2c3fc9618da37de776a0a254614",bytes:136847},{name:"Basic2.fnt",md5:"f6648961f37c4ce81f1e11729795ddaf",bytes:20056},{name:"Basic.png",md5:"f0d835429a7be856417bd88849739ecf",
bytes:639022},{name:"Basic.fnt",md5:"1671157e64d0bacbef54a22c457cd493",bytes:20346}]);a.set("fonts_en",[{name:"Basic3.png",md5:"4fdc4afd264c5b4de0353871896ccc8e",bytes:48356},{name:"Basic3.fnt",md5:"85ed706e6ae08e4846bba30c0de1c6da",bytes:9344},{name:"Basic2.png",md5:"50e2f4b3deb33b53ee51182a87007c66",bytes:27780},{name:"Basic2.fnt",md5:"90ba58dd1417950b41ed8e32fc93d25c",bytes:9293},{name:"Basic.png",md5:"c83367f2c316e30192d68d9c661f33cd",bytes:151294},{name:"Basic.fnt",md5:"4b603674ed4fcb32e2279e4794856776",
bytes:9087}]);a.set("fonts_cn",[{name:"Basic3.png",md5:"c0584c50f66be80239cfa677dbc0c06c",bytes:319580},{name:"Basic3.fnt",md5:"64f3593691578a8229802f2ab26cd34d",bytes:20243},{name:"Basic2.png",md5:"9514f2c3fc9618da37de776a0a254614",bytes:136847},{name:"Basic2.fnt",md5:"f6648961f37c4ce81f1e11729795ddaf",bytes:20056},{name:"Basic.png",md5:"f0d835429a7be856417bd88849739ecf",bytes:639022},{name:"Basic.fnt",md5:"1671157e64d0bacbef54a22c457cd493",bytes:20346}]);a.set("bootstrap",[{name:"ui/loading_panel.png",
md5:"a397f0c2363906bccebf094f175f2ce5",bytes:12786},{name:"ui/loader_dot_ON.png",md5:"766a890a71409fcae2ee83fc76ac684a",bytes:2803},{name:"ui/loader_dot_OFF.png",md5:"49dd2a160e62d99f2be5a4b307c47946",bytes:2821},{name:"config/translation_la.xml",md5:"d2d9fe6ef9738ea63b0637c34225a5a5",bytes:9551},{name:"config/translation_kr.xml",md5:"d2d9fe6ef9738ea63b0637c34225a5a5",bytes:9551},{name:"config/translation_jp.xml",md5:"d2d9fe6ef9738ea63b0637c34225a5a5",bytes:9551},{name:"config/translation_en.xml",
md5:"d2d9fe6ef9738ea63b0637c34225a5a5",bytes:9551},{name:"config/translation_cn.xml",md5:"d2d9fe6ef9738ea63b0637c34225a5a5",bytes:9551},{name:"config/config.xml",md5:"c68d0c98e147c105ae8ac8b323892429",bytes:1672},{name:"audio/silent.ogg",md5:"3526550092a0e091f382852de5ef2315",bytes:5514},{name:"audio/silent.mp3",md5:"ba9e6829ba32e427142251a85cbd4fbb",bytes:2114}]);for(var b=new F,c=a.keys();c.hasNext();){var d=c.next(),e=new x.Manifest;e.set_relativeBasePath("assets");for(var f=0,g=a.get(d);f<g.length;){var h=
g[f];++f;var j=h.name,l=d+"/"+j+"?v="+s.string(h.md5),k=x.Manifest.inferType(j);if(k==x.AssetType.Image||k==x.AssetType.Audio)j=o.Strings.removeFileExtension(j);e.add(j,l,h.bytes,k)}b.set(d,e)}return b};x.Manifest.prototype={set_externalBasePath:function(a){this._externalBasePath=a;null!=a&&null;return a},get_externalBasePath:function(){return this._externalBasePath},set_relativeBasePath:function(a){this._relativeBasePath=a;null!=a&&null;return a},get_relativeBasePath:function(){return this._relativeBasePath},
getFullURL:function(a){var b=null!=this.get_externalBasePath()&&x.Manifest._supportsCrossOrigin?this.get_externalBasePath():this.get_relativeBasePath(),c=null!=this.get_externalBasePath()?this.get_externalBasePath():this.get_relativeBasePath();a.type==x.AssetType.Data&&(c=b);return null!=c?o.Strings.joinPath(c,a.url):a.url},clone:function(){var a=new x.Manifest;a.set_relativeBasePath(this.get_relativeBasePath());a.set_externalBasePath(this.get_externalBasePath());a._entries=this._entries.slice();
return a},iterator:function(){return z.iter(this._entries)},add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=x.Manifest.inferType(b));a=new x.AssetEntry(a,b,d,c);this._entries.push(a);return a},__class__:x.Manifest};m={};m.BlendMode=l["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:["Normal","Add","CopyExperimental"]};m.BlendMode.Normal=["Normal",0];m.BlendMode.Normal.toString=q;m.BlendMode.Normal.__enum__=m.BlendMode;m.BlendMode.Add=["Add",1];m.BlendMode.Add.toString=
q;m.BlendMode.Add.__enum__=m.BlendMode;m.BlendMode.CopyExperimental=["CopyExperimental",2];m.BlendMode.CopyExperimental.toString=q;m.BlendMode.CopyExperimental.__enum__=m.BlendMode;I={Point:function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b}};l["flambe.math.Point"]=I.Point;I.Point.__name__=["flambe","math","Point"];I.Point.prototype={__class__:I.Point};m.Sprite=function(){this.blendMode=this.scissor=null;var a=this;this._flags=11;this._localMatrix=new I.Matrix;var b=function(){a._flags|=
12};this.x=new E.AnimatedFloat(0,b);this.y=new E.AnimatedFloat(0,b);this.rotation=new E.AnimatedFloat(0,b);this.scaleX=new E.AnimatedFloat(1,b);this.scaleY=new E.AnimatedFloat(1,b);this.anchorX=new E.AnimatedFloat(0,b);this.anchorY=new E.AnimatedFloat(0,b);this.alpha=new E.AnimatedFloat(1)};l["flambe.display.Sprite"]=m.Sprite;m.Sprite.__name__=["flambe","display","Sprite"];m.Sprite.hitTest=function(a,b,c){var d=a._compMap.Sprite_1;if(null!=d){if(3!=(d._flags&3))return null;d.getLocalMatrix().inverseTransform(b,
c,m.Sprite._scratchPoint)&&(b=m.Sprite._scratchPoint.x,c=m.Sprite._scratchPoint.y);var e=d.scissor;if(null!=e&&!e.contains(b,c))return null}a=m.Sprite.hitTestBackwards(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};m.Sprite.render=function(a,b){var c=a._compMap.Sprite_1;if(null!=c){var d=c.alpha._value;if(0==(c._flags&1)||0>=d)return;b.save();1>d&&b.multiplyAlpha(d);null!=c.blendMode&&b.setBlendMode(c.blendMode);d=c.getLocalMatrix();b.transform(d.m00,d.m10,d.m01,d.m11,d.m02,
d.m12);d=c.scissor;null!=d&&b.applyScissor(d.x,d.y,d.width,d.height);c.draw(b)}d=a._compMap.Director_0;if(null!=d)for(var d=d.occludedScenes,e=0;e<d.length;){var f=d[e];++e;m.Sprite.render(f,b)}for(d=a.firstChild;null!=d;)e=d.next,m.Sprite.render(d,b),d=e;null!=c&&b.restore()};m.Sprite.hitTestBackwards=function(a,b,c){if(null!=a){var d=m.Sprite.hitTestBackwards(a.next,b,c);return null!=d?d:m.Sprite.hitTest(a,b,c)}return null};m.Sprite.__super__=K;m.Sprite.prototype=v(K.prototype,{set_pointerEnabled:function(a){this._flags=
o.BitSets.set(this._flags,2,a);return a},set_visible:function(a){this._flags=o.BitSets.set(this._flags,1,a);return a},get_pointerUp:function(){null==this._internal_pointerUp&&(this._internal_pointerUp=new o.Signal1);return this._internal_pointerUp},get_pointerMove:function(){null==this._internal_pointerMove&&(this._internal_pointerMove=new o.Signal1);return this._internal_pointerMove},get_pointerDown:function(){null==this._internal_pointerDown&&(this._internal_pointerDown=new o.Signal1);return this._internal_pointerDown},
draw:function(){},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},getLocalMatrix:function(){0!=(this._flags&4)&&(this._flags&=-5,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},
containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getNaturalHeight:function(){return 0},getNaturalWidth:function(){return 0},get_name:function(){return"Sprite_1"},__class__:m.Sprite});m.FillSprite=function(a,b,c){m.Sprite.call(this);this.color=a;this.width=new E.AnimatedFloat(b);this.height=new E.AnimatedFloat(c)};l["flambe.display.FillSprite"]=m.FillSprite;m.FillSprite.__name__=["flambe","display","FillSprite"];m.FillSprite.__super__=m.Sprite;m.FillSprite.prototype=
v(m.Sprite.prototype,{onUpdate:function(a){m.Sprite.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},getNaturalHeight:function(){return this.height._value},getNaturalWidth:function(){return this.width._value},draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},__class__:m.FillSprite});m.Font=function(a,b){this.name=b;this._glyphs=new V;for(var c=new m._Font.ConfigParser(a.getFile(b+".fnt")),d=new V,e=b.lastIndexOf("/"),e=0<=e?z.substr(b,0,e+
1):"",f=c.keywords();f.hasNext();)switch(f.next()){case "info":for(var g=c.pairs();g.hasNext();){var h=g.next();switch(h.key){case "size":this.size=h.getInt()}}break;case "page":for(var g=0,j=null,l=c.pairs();l.hasNext();)switch(h=l.next(),h.key){case "id":g=h.getInt();break;case "file":j=h.getString()}d.set(g,a.getTexture(e+o.Strings.removeFileExtension(j)));break;case "char":g=null;for(j=c.pairs();j.hasNext();)switch(h=j.next(),h.key){case "id":g=new m.Glyph(h.getInt());break;case "x":g.x=h.getInt();
break;case "y":g.y=h.getInt();break;case "width":g.width=h.getInt();break;case "height":g.height=h.getInt();break;case "page":g.page=d.get(h.getInt());break;case "xoffset":g.xOffset=h.getInt();break;case "yoffset":g.yOffset=h.getInt();break;case "xadvance":g.xAdvance=h.getInt()}this._glyphs.set(g.charCode,g);break;case "kerning":g=null;j=-1;for(l=c.pairs();l.hasNext();)switch(h=l.next(),h.key){case "first":g=this._glyphs.get(h.getInt());break;case "second":j=h.getInt();break;case "amount":g._internal_setKerning(j,
h.getInt())}}};l["flambe.display.Font"]=m.Font;m.Font.__name__=["flambe","display","Font"];m.Font.prototype={getGlyphs:function(a){for(var b=[],c=0,d=a.length;c<d;){var e=c++,e=this._glyphs.get(a.charCodeAt(e));null!=e?b.push(e):null}return b},__class__:m.Font};m.Glyph=function(a){this.charCode=a};l["flambe.display.Glyph"]=m.Glyph;m.Glyph.__name__=["flambe","display","Glyph"];m.Glyph.prototype={_internal_setKerning:function(a,b){null==this._kernings&&(this._kernings=new V);this._kernings.set(a,b)},
getKerning:function(a){return null!=this._kernings?this._kernings.get(a)|0:0},draw:function(a,b,c){0<this.width&&a.drawSubImage(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},__class__:m.Glyph};m._Font={};m._Font.ConfigParser=function(a){this._configText=a;this._keywordPattern=new W("([a-z]+)(.*)","");this._pairPattern=new W('([a-z]+)=("[^"]*"|[^\\s]+)',"")};l["flambe.display._Font.ConfigParser"]=m._Font.ConfigParser;m._Font.ConfigParser.__name__=["flambe","display",
"_Font","ConfigParser"];m._Font.ConfigParser.advance=function(a,b){var c=b.matchedPos();return z.substr(a,c.pos+c.len,a.length)};m._Font.ConfigParser.prototype={pairs:function(){var a=this,b=this._pairText;return{next:function(){b=m._Font.ConfigParser.advance(b,a._pairPattern);return new m._Font.ConfigPair(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},keywords:function(){var a=this,b=this._configText;return{next:function(){b=m._Font.ConfigParser.advance(b,
a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},__class__:m._Font.ConfigParser};m._Font.ConfigPair=function(a,b){this.key=a;this._value=b};l["flambe.display._Font.ConfigPair"]=m._Font.ConfigPair;m._Font.ConfigPair.__name__=["flambe","display","_Font","ConfigPair"];m._Font.ConfigPair.prototype={getString:function(){return 34!=this._value.charCodeAt(0)?null:z.substr(this._value,1,this._value.length-
2)},getInt:function(){return s.parseInt(this._value)},__class__:m._Font.ConfigPair};m.Graphics=function(){};l["flambe.display.Graphics"]=m.Graphics;m.Graphics.__name__=["flambe","display","Graphics"];m.Graphics.prototype={__class__:m.Graphics};m.ImageSprite=function(a){m.Sprite.call(this);this.texture=a};l["flambe.display.ImageSprite"]=m.ImageSprite;m.ImageSprite.__name__=["flambe","display","ImageSprite"];m.ImageSprite.__super__=m.Sprite;m.ImageSprite.prototype=v(m.Sprite.prototype,{getNaturalHeight:function(){return this.texture.get_height()},
getNaturalWidth:function(){return this.texture.get_width()},draw:function(a){a.drawImage(this.texture,0,0)},__class__:m.ImageSprite});m.MaskSprite=function(a,b){m.Sprite.call(this);this.image=b;this.shape=a;this.flagRefreshMask=!0};l["flambe.display.MaskSprite"]=m.MaskSprite;m.MaskSprite.__name__=["flambe","display","MaskSprite"];m.MaskSprite.__super__=m.Sprite;m.MaskSprite.prototype=v(m.Sprite.prototype,{onUpdate:function(a){m.Sprite.prototype.onUpdate.call(this,a);this.image.onUpdate(a);this.shape.onUpdate(a)},
draw:function(a){this.flagRefreshMask&&(a.mask(this.shape,this.image),this.flagRefreshMask=!1)},__class__:m.MaskSprite});m.Orientation=l["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};m.Orientation.Portrait=["Portrait",0];m.Orientation.Portrait.toString=q;m.Orientation.Portrait.__enum__=m.Orientation;m.Orientation.Landscape=["Landscape",1];m.Orientation.Landscape.toString=q;m.Orientation.Landscape.__enum__=m.Orientation;m.SHAPE_METHODS=
l["flambe.display.SHAPE_METHODS"]={__ename__:["flambe","display","SHAPE_METHODS"],__constructs__:"MoveTo,LineTo,BeginPath,ClosePath,BeginStroke,EndStroke,BeginFill,EndFill,QuadCurve,BezCurve,Save,Restore,DrawRect,Arc".split(",")};m.SHAPE_METHODS.MoveTo=["MoveTo",0];m.SHAPE_METHODS.MoveTo.toString=q;m.SHAPE_METHODS.MoveTo.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.LineTo=["LineTo",1];m.SHAPE_METHODS.LineTo.toString=q;m.SHAPE_METHODS.LineTo.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.BeginPath=["BeginPath",
2];m.SHAPE_METHODS.BeginPath.toString=q;m.SHAPE_METHODS.BeginPath.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.ClosePath=["ClosePath",3];m.SHAPE_METHODS.ClosePath.toString=q;m.SHAPE_METHODS.ClosePath.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.BeginStroke=["BeginStroke",4];m.SHAPE_METHODS.BeginStroke.toString=q;m.SHAPE_METHODS.BeginStroke.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.EndStroke=["EndStroke",5];m.SHAPE_METHODS.EndStroke.toString=q;m.SHAPE_METHODS.EndStroke.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.BeginFill=
["BeginFill",6];m.SHAPE_METHODS.BeginFill.toString=q;m.SHAPE_METHODS.BeginFill.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.EndFill=["EndFill",7];m.SHAPE_METHODS.EndFill.toString=q;m.SHAPE_METHODS.EndFill.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.QuadCurve=["QuadCurve",8];m.SHAPE_METHODS.QuadCurve.toString=q;m.SHAPE_METHODS.QuadCurve.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.BezCurve=["BezCurve",9];m.SHAPE_METHODS.BezCurve.toString=q;m.SHAPE_METHODS.BezCurve.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.Save=
["Save",10];m.SHAPE_METHODS.Save.toString=q;m.SHAPE_METHODS.Save.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.Restore=["Restore",11];m.SHAPE_METHODS.Restore.toString=q;m.SHAPE_METHODS.Restore.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.DrawRect=["DrawRect",12];m.SHAPE_METHODS.DrawRect.toString=q;m.SHAPE_METHODS.DrawRect.__enum__=m.SHAPE_METHODS;m.SHAPE_METHODS.Arc=["Arc",13];m.SHAPE_METHODS.Arc.toString=q;m.SHAPE_METHODS.Arc.__enum__=m.SHAPE_METHODS;m.ShapeSprite=function(){this.isShape=this.isLine=this.isPath=
!1;this.color=0;m.Sprite.call(this);this.points=[]};l["flambe.display.ShapeSprite"]=m.ShapeSprite;m.ShapeSprite.__name__=["flambe","display","ShapeSprite"];m.ShapeSprite.__super__=m.Sprite;m.ShapeSprite.prototype=v(m.Sprite.prototype,{draw:function(a){this.isShape&&a.beginFill(this.color);this.isLine&&a.beginStroke(this.color,1);for(var b=0;b<this.points.length;){switch(this.points[b][0][1]){case 0:a.moveTo(this.points[b][1],this.points[b][2]);break;case 1:a.lineTo(this.points[b][1],this.points[b][2]);
break;case 2:a.beginPath();break;case 3:a.closePath();break;case 4:a.beginStroke(this.points[b][1],this.points[b][2]);break;case 5:a.endStroke();break;case 6:a.beginFill(this.points[b][1]);break;case 7:a.endFill();break;case 8:a.quadraticCurveTo(this.points[b][1],this.points[b][2],this.points[b][3],this.points[b][4]);break;case 9:a.bezierCurveTo(this.points[b][1],this.points[b][2],this.points[b][3],this.points[b][4],this.points[b][5],this.points[b][6]);break;case 10:a.save();break;case 11:a.restore();
break;case 12:a.fillRect(this.color,this.points[b][1],this.points[b][2],this.points[b][3],this.points[b][4]);break;case 13:a.arc(this.points[b][1],this.points[b][2],this.points[b][3],this.points[b][4],this.points[b][5])}b++}this.isShape&&a.endFill();this.isLine&&a.endStroke();!this.isPath&&(this.isShape||this.isLine)&&a.drawShapeSprite();null==this.graphics&&(this.graphics=a)},__class__:m.ShapeSprite});m.Stage=function(){};l["flambe.display.Stage"]=m.Stage;m.Stage.__name__=["flambe","display","Stage"];
m.Stage.prototype={__class__:m.Stage};m.TextSprite=function(a,b){null==b&&(b="");this._width=this._height=0;this._glyphs=this._offsets=this._font=this._text=null;m.Sprite.call(this);this._font=a;this._text=b;this._flags|=32};l["flambe.display.TextSprite"]=m.TextSprite;m.TextSprite.__name__=["flambe","display","TextSprite"];m.TextSprite.__super__=m.Sprite;m.TextSprite.prototype=v(m.Sprite.prototype,{updateGlyphs:function(){if(0!=(this._flags&32)){this._flags&=-33;this._glyphs=this._font.getGlyphs(this._text);
this._offsets=[0];for(var a=this._height=this._width=0,b=this._glyphs.length;a<b;){var c=this._glyphs[a];++a;a==b?this._width+=c.width:(this._width+=c.xAdvance+c.getKerning(this._glyphs[a].charCode),this._offsets.push(this._width));this._height=I.FMath.max(this._height,c.height+c.yOffset)}}},set_font:function(a){this._font=a;this._flags|=32;return a},set_text:function(a){this._text=a;this._flags|=32;return a},getNaturalHeight:function(){this.updateGlyphs();return this._height},getNaturalWidth:function(){this.updateGlyphs();
return this._width},draw:function(a){this.updateGlyphs();for(var b=0,c=this._glyphs.length;b<c;)this._glyphs[b].draw(a,this._offsets[b],0),++b},__class__:m.TextSprite});m.Texture=function(){};l["flambe.display.Texture"]=m.Texture;m.Texture.__name__=["flambe","display","Texture"];m.Texture.prototype={__class__:m.Texture};y={External:function(){}};l["flambe.external.External"]=y.External;y.External.__name__=["flambe","external","External"];y.External.prototype={__class__:y.External};e={};e.Key=l["flambe.input.Key"]=
{__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
e.Key.A=["A",0];e.Key.A.toString=q;e.Key.A.__enum__=e.Key;e.Key.B=["B",1];e.Key.B.toString=q;e.Key.B.__enum__=e.Key;e.Key.C=["C",2];e.Key.C.toString=q;e.Key.C.__enum__=e.Key;e.Key.D=["D",3];e.Key.D.toString=q;e.Key.D.__enum__=e.Key;e.Key.E=["E",4];e.Key.E.toString=q;e.Key.E.__enum__=e.Key;e.Key.F=["F",5];e.Key.F.toString=q;e.Key.F.__enum__=e.Key;e.Key.G=["G",6];e.Key.G.toString=q;e.Key.G.__enum__=e.Key;e.Key.H=["H",7];e.Key.H.toString=q;e.Key.H.__enum__=e.Key;e.Key.I=["I",8];e.Key.I.toString=q;e.Key.I.__enum__=
e.Key;e.Key.J=["J",9];e.Key.J.toString=q;e.Key.J.__enum__=e.Key;e.Key.K=["K",10];e.Key.K.toString=q;e.Key.K.__enum__=e.Key;e.Key.L=["L",11];e.Key.L.toString=q;e.Key.L.__enum__=e.Key;e.Key.M=["M",12];e.Key.M.toString=q;e.Key.M.__enum__=e.Key;e.Key.N=["N",13];e.Key.N.toString=q;e.Key.N.__enum__=e.Key;e.Key.O=["O",14];e.Key.O.toString=q;e.Key.O.__enum__=e.Key;e.Key.P=["P",15];e.Key.P.toString=q;e.Key.P.__enum__=e.Key;e.Key.Q=["Q",16];e.Key.Q.toString=q;e.Key.Q.__enum__=e.Key;e.Key.R=["R",17];e.Key.R.toString=
q;e.Key.R.__enum__=e.Key;e.Key.S=["S",18];e.Key.S.toString=q;e.Key.S.__enum__=e.Key;e.Key.T=["T",19];e.Key.T.toString=q;e.Key.T.__enum__=e.Key;e.Key.U=["U",20];e.Key.U.toString=q;e.Key.U.__enum__=e.Key;e.Key.V=["V",21];e.Key.V.toString=q;e.Key.V.__enum__=e.Key;e.Key.W=["W",22];e.Key.W.toString=q;e.Key.W.__enum__=e.Key;e.Key.X=["X",23];e.Key.X.toString=q;e.Key.X.__enum__=e.Key;e.Key.Y=["Y",24];e.Key.Y.toString=q;e.Key.Y.__enum__=e.Key;e.Key.Z=["Z",25];e.Key.Z.toString=q;e.Key.Z.__enum__=e.Key;e.Key.Number0=
["Number0",26];e.Key.Number0.toString=q;e.Key.Number0.__enum__=e.Key;e.Key.Number1=["Number1",27];e.Key.Number1.toString=q;e.Key.Number1.__enum__=e.Key;e.Key.Number2=["Number2",28];e.Key.Number2.toString=q;e.Key.Number2.__enum__=e.Key;e.Key.Number3=["Number3",29];e.Key.Number3.toString=q;e.Key.Number3.__enum__=e.Key;e.Key.Number4=["Number4",30];e.Key.Number4.toString=q;e.Key.Number4.__enum__=e.Key;e.Key.Number5=["Number5",31];e.Key.Number5.toString=q;e.Key.Number5.__enum__=e.Key;e.Key.Number6=["Number6",
32];e.Key.Number6.toString=q;e.Key.Number6.__enum__=e.Key;e.Key.Number7=["Number7",33];e.Key.Number7.toString=q;e.Key.Number7.__enum__=e.Key;e.Key.Number8=["Number8",34];e.Key.Number8.toString=q;e.Key.Number8.__enum__=e.Key;e.Key.Number9=["Number9",35];e.Key.Number9.toString=q;e.Key.Number9.__enum__=e.Key;e.Key.Numpad0=["Numpad0",36];e.Key.Numpad0.toString=q;e.Key.Numpad0.__enum__=e.Key;e.Key.Numpad1=["Numpad1",37];e.Key.Numpad1.toString=q;e.Key.Numpad1.__enum__=e.Key;e.Key.Numpad2=["Numpad2",38];
e.Key.Numpad2.toString=q;e.Key.Numpad2.__enum__=e.Key;e.Key.Numpad3=["Numpad3",39];e.Key.Numpad3.toString=q;e.Key.Numpad3.__enum__=e.Key;e.Key.Numpad4=["Numpad4",40];e.Key.Numpad4.toString=q;e.Key.Numpad4.__enum__=e.Key;e.Key.Numpad5=["Numpad5",41];e.Key.Numpad5.toString=q;e.Key.Numpad5.__enum__=e.Key;e.Key.Numpad6=["Numpad6",42];e.Key.Numpad6.toString=q;e.Key.Numpad6.__enum__=e.Key;e.Key.Numpad7=["Numpad7",43];e.Key.Numpad7.toString=q;e.Key.Numpad7.__enum__=e.Key;e.Key.Numpad8=["Numpad8",44];e.Key.Numpad8.toString=
q;e.Key.Numpad8.__enum__=e.Key;e.Key.Numpad9=["Numpad9",45];e.Key.Numpad9.toString=q;e.Key.Numpad9.__enum__=e.Key;e.Key.NumpadAdd=["NumpadAdd",46];e.Key.NumpadAdd.toString=q;e.Key.NumpadAdd.__enum__=e.Key;e.Key.NumpadDecimal=["NumpadDecimal",47];e.Key.NumpadDecimal.toString=q;e.Key.NumpadDecimal.__enum__=e.Key;e.Key.NumpadDivide=["NumpadDivide",48];e.Key.NumpadDivide.toString=q;e.Key.NumpadDivide.__enum__=e.Key;e.Key.NumpadEnter=["NumpadEnter",49];e.Key.NumpadEnter.toString=q;e.Key.NumpadEnter.__enum__=
e.Key;e.Key.NumpadMultiply=["NumpadMultiply",50];e.Key.NumpadMultiply.toString=q;e.Key.NumpadMultiply.__enum__=e.Key;e.Key.NumpadSubtract=["NumpadSubtract",51];e.Key.NumpadSubtract.toString=q;e.Key.NumpadSubtract.__enum__=e.Key;e.Key.F1=["F1",52];e.Key.F1.toString=q;e.Key.F1.__enum__=e.Key;e.Key.F2=["F2",53];e.Key.F2.toString=q;e.Key.F2.__enum__=e.Key;e.Key.F3=["F3",54];e.Key.F3.toString=q;e.Key.F3.__enum__=e.Key;e.Key.F4=["F4",55];e.Key.F4.toString=q;e.Key.F4.__enum__=e.Key;e.Key.F5=["F5",56];e.Key.F5.toString=
q;e.Key.F5.__enum__=e.Key;e.Key.F6=["F6",57];e.Key.F6.toString=q;e.Key.F6.__enum__=e.Key;e.Key.F7=["F7",58];e.Key.F7.toString=q;e.Key.F7.__enum__=e.Key;e.Key.F8=["F8",59];e.Key.F8.toString=q;e.Key.F8.__enum__=e.Key;e.Key.F9=["F9",60];e.Key.F9.toString=q;e.Key.F9.__enum__=e.Key;e.Key.F10=["F10",61];e.Key.F10.toString=q;e.Key.F10.__enum__=e.Key;e.Key.F11=["F11",62];e.Key.F11.toString=q;e.Key.F11.__enum__=e.Key;e.Key.F12=["F12",63];e.Key.F12.toString=q;e.Key.F12.__enum__=e.Key;e.Key.F13=["F13",64];e.Key.F13.toString=
q;e.Key.F13.__enum__=e.Key;e.Key.F14=["F14",65];e.Key.F14.toString=q;e.Key.F14.__enum__=e.Key;e.Key.F15=["F15",66];e.Key.F15.toString=q;e.Key.F15.__enum__=e.Key;e.Key.Left=["Left",67];e.Key.Left.toString=q;e.Key.Left.__enum__=e.Key;e.Key.Up=["Up",68];e.Key.Up.toString=q;e.Key.Up.__enum__=e.Key;e.Key.Right=["Right",69];e.Key.Right.toString=q;e.Key.Right.__enum__=e.Key;e.Key.Down=["Down",70];e.Key.Down.toString=q;e.Key.Down.__enum__=e.Key;e.Key.Alt=["Alt",71];e.Key.Alt.toString=q;e.Key.Alt.__enum__=
e.Key;e.Key.Backquote=["Backquote",72];e.Key.Backquote.toString=q;e.Key.Backquote.__enum__=e.Key;e.Key.Backslash=["Backslash",73];e.Key.Backslash.toString=q;e.Key.Backslash.__enum__=e.Key;e.Key.Backspace=["Backspace",74];e.Key.Backspace.toString=q;e.Key.Backspace.__enum__=e.Key;e.Key.CapsLock=["CapsLock",75];e.Key.CapsLock.toString=q;e.Key.CapsLock.__enum__=e.Key;e.Key.Comma=["Comma",76];e.Key.Comma.toString=q;e.Key.Comma.__enum__=e.Key;e.Key.Command=["Command",77];e.Key.Command.toString=q;e.Key.Command.__enum__=
e.Key;e.Key.Control=["Control",78];e.Key.Control.toString=q;e.Key.Control.__enum__=e.Key;e.Key.Delete=["Delete",79];e.Key.Delete.toString=q;e.Key.Delete.__enum__=e.Key;e.Key.End=["End",80];e.Key.End.toString=q;e.Key.End.__enum__=e.Key;e.Key.Enter=["Enter",81];e.Key.Enter.toString=q;e.Key.Enter.__enum__=e.Key;e.Key.Equals=["Equals",82];e.Key.Equals.toString=q;e.Key.Equals.__enum__=e.Key;e.Key.Escape=["Escape",83];e.Key.Escape.toString=q;e.Key.Escape.__enum__=e.Key;e.Key.Home=["Home",84];e.Key.Home.toString=
q;e.Key.Home.__enum__=e.Key;e.Key.Insert=["Insert",85];e.Key.Insert.toString=q;e.Key.Insert.__enum__=e.Key;e.Key.LeftBracket=["LeftBracket",86];e.Key.LeftBracket.toString=q;e.Key.LeftBracket.__enum__=e.Key;e.Key.Minus=["Minus",87];e.Key.Minus.toString=q;e.Key.Minus.__enum__=e.Key;e.Key.PageDown=["PageDown",88];e.Key.PageDown.toString=q;e.Key.PageDown.__enum__=e.Key;e.Key.PageUp=["PageUp",89];e.Key.PageUp.toString=q;e.Key.PageUp.__enum__=e.Key;e.Key.Period=["Period",90];e.Key.Period.toString=q;e.Key.Period.__enum__=
e.Key;e.Key.Quote=["Quote",91];e.Key.Quote.toString=q;e.Key.Quote.__enum__=e.Key;e.Key.RightBracket=["RightBracket",92];e.Key.RightBracket.toString=q;e.Key.RightBracket.__enum__=e.Key;e.Key.Semicolon=["Semicolon",93];e.Key.Semicolon.toString=q;e.Key.Semicolon.__enum__=e.Key;e.Key.Shift=["Shift",94];e.Key.Shift.toString=q;e.Key.Shift.__enum__=e.Key;e.Key.Slash=["Slash",95];e.Key.Slash.toString=q;e.Key.Slash.__enum__=e.Key;e.Key.Space=["Space",96];e.Key.Space.toString=q;e.Key.Space.__enum__=e.Key;e.Key.Tab=
["Tab",97];e.Key.Tab.toString=q;e.Key.Tab.__enum__=e.Key;e.Key.Menu=["Menu",98];e.Key.Menu.toString=q;e.Key.Menu.__enum__=e.Key;e.Key.Search=["Search",99];e.Key.Search.toString=q;e.Key.Search.__enum__=e.Key;e.Key.Unknown=function(a){a=["Unknown",100,a];a.__enum__=e.Key;a.toString=q;return a};e.Keyboard=function(){};l["flambe.input.Keyboard"]=e.Keyboard;e.Keyboard.__name__=["flambe","input","Keyboard"];e.Keyboard.prototype={__class__:e.Keyboard};e.KeyboardEvent=function(){this._internal_init(0,null)};
l["flambe.input.KeyboardEvent"]=e.KeyboardEvent;e.KeyboardEvent.__name__=["flambe","input","KeyboardEvent"];e.KeyboardEvent.prototype={_internal_init:function(a,b){this.id=a;this.key=b},__class__:e.KeyboardEvent};e.Mouse=function(){};l["flambe.input.Mouse"]=e.Mouse;e.Mouse.__name__=["flambe","input","Mouse"];e.Mouse.prototype={__class__:e.Mouse};e.MouseButton=l["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};e.MouseButton.Left=
["Left",0];e.MouseButton.Left.toString=q;e.MouseButton.Left.__enum__=e.MouseButton;e.MouseButton.Middle=["Middle",1];e.MouseButton.Middle.toString=q;e.MouseButton.Middle.__enum__=e.MouseButton;e.MouseButton.Right=["Right",2];e.MouseButton.Right.toString=q;e.MouseButton.Right.__enum__=e.MouseButton;e.MouseButton.Unknown=function(a){a=["Unknown",3,a];a.__enum__=e.MouseButton;a.toString=q;return a};e.MouseCursor=l["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default",
"Button","None"]};e.MouseCursor.Default=["Default",0];e.MouseCursor.Default.toString=q;e.MouseCursor.Default.__enum__=e.MouseCursor;e.MouseCursor.Button=["Button",1];e.MouseCursor.Button.toString=q;e.MouseCursor.Button.__enum__=e.MouseCursor;e.MouseCursor.None=["None",2];e.MouseCursor.None.toString=q;e.MouseCursor.None.__enum__=e.MouseCursor;e.MouseEvent=function(){this._internal_init(0,0,0,null)};l["flambe.input.MouseEvent"]=e.MouseEvent;e.MouseEvent.__name__=["flambe","input","MouseEvent"];e.MouseEvent.prototype=
{_internal_init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:e.MouseEvent};e.Pointer=function(){};l["flambe.input.Pointer"]=e.Pointer;e.Pointer.__name__=["flambe","input","Pointer"];e.Pointer.prototype={__class__:e.Pointer};e.EventSource=l["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};e.EventSource.Mouse=function(a){a=["Mouse",0,a];a.__enum__=e.EventSource;a.toString=q;return a};e.EventSource.Touch=function(a){a=
["Touch",1,a];a.__enum__=e.EventSource;a.toString=q;return a};e.PointerEvent=function(){this._internal_init(0,0,0,null,null)};l["flambe.input.PointerEvent"]=e.PointerEvent;e.PointerEvent.__name__=["flambe","input","PointerEvent"];e.PointerEvent.prototype={_internal_init:function(a,b,c,d,e){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=e;this._internal_stopped=!1},__class__:e.PointerEvent};e.Touch=function(){};l["flambe.input.Touch"]=e.Touch;e.Touch.__name__=["flambe","input","Touch"];
e.Touch.prototype={__class__:e.Touch};e.TouchPoint=function(a){this.id=a;this._internal_source=e.EventSource.Touch(this)};l["flambe.input.TouchPoint"]=e.TouchPoint;e.TouchPoint.__name__=["flambe","input","TouchPoint"];e.TouchPoint.prototype={_internal_init:function(a,b){this.viewX=a;this.viewY=b},__class__:e.TouchPoint};I.FMath=function(){};l["flambe.math.FMath"]=I.FMath;I.FMath.__name__=["flambe","math","FMath"];I.FMath.max=function(a,b){return a>b?a:b};I.FMath.clamp=function(a,b,c){return a<b?b:
a>c?c:a};I.Matrix=function(){this.identity()};l["flambe.math.Matrix"]=I.Matrix;I.Matrix.__name__=["flambe","math","Matrix"];I.Matrix.prototype={inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},determinant:function(){return this.m00*this.m11-this.m01*this.m10},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},compose:function(a,b,c,d,e){var f=
Math.sin(e),e=Math.cos(e);this.set(e*c,f*c,-f*d,e*d,a,b)},identity:function(){this.set(1,0,0,1,0,0)},set:function(a,b,c,d,e,f){this.m00=a;this.m01=c;this.m02=e;this.m10=b;this.m11=d;this.m12=f},__class__:I.Matrix};I.Rectangle=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};l["flambe.math.Rectangle"]=I.Rectangle;I.Rectangle.__name__=["flambe","math","Rectangle"];I.Rectangle.prototype={contains:function(a,b){a-=this.x;b-=this.y;return 0<=a&&0<=b&&a<=
this.width&&b<=this.height},set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__class__:I.Rectangle};h.BasicAssetPackLoader=function(a,b){this._platform=a;this.promise=new o.Promise;this._bytesLoaded=new F;this._pack=new h._BasicAssetPackLoader.BasicAssetPack(b);var c=ca.array(b);if(0==c.length)this.handleSuccess();else{for(var d=0,e=new F,f=0;f<c.length;){var g=c[f];++f;var j=e.get(g.name);null==j&&(j=[],e.set(g.name,j));j.push(g)}this._assetsRemaining=ca.count(e);for(c=e.iterator();c.hasNext();)if(j=
c.next(),j=1<j.length?this.pickBestEntry(j):j[0],e=this.createPlaceholder(j),null!=e)this.handleLoad(j,e);else{d+=j.bytes;e=b.getFullURL(j);try{this.loadEntry(e,j)}catch(l){this.handleError(j,"Unexpected error: "+s.string(l))}}this.promise.set_total(d)}};l["flambe.platform.BasicAssetPackLoader"]=h.BasicAssetPackLoader;h.BasicAssetPackLoader.__name__=["flambe","platform","BasicAssetPackLoader"];h.BasicAssetPackLoader.prototype={handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},
handleError:function(a,b){this.promise.error.emit1(o.Strings.withFields(b,["url",a.url]))},handleSuccess:function(){this.promise.set_result(this._pack)},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,d=this._bytesLoaded.iterator();d.hasNext();)var e=d.next(),c=c+e;this.promise.set_progress(c)},handleLoad:function(a,b){var c=a.name;switch(a.type[1]){case 0:this._pack.textures.set(c,b);break;case 1:this._pack.sounds.set(c,b);break;case 2:this._pack.files.set(c,b)}this._assetsRemaining-=
1;0>=this._assetsRemaining&&this.handleSuccess()},getAudioFormats:function(){return[]},loadEntry:function(){},createPlaceholder:function(a){switch(a.type[1]){case 1:if(!ca.has(this.getAudioFormats(),a.getUrlExtension()))return h.DummySound.getInstance()}return null},pickBestEntry:function(a){switch(a[0].type[1]){case 1:for(var b=this.getAudioFormats(),c=0;c<b.length;){var d=b[c];++c;for(var e=0;e<a.length;){var f=a[e];++e;if(f.getUrlExtension()==d)return f}}}return a[0]},__class__:h.BasicAssetPackLoader};
h._BasicAssetPackLoader={};h._BasicAssetPackLoader.BasicAssetPack=function(a){this._manifest=a;this.textures=new F;this.sounds=new F;this.files=new F};l["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=h._BasicAssetPackLoader.BasicAssetPack;h._BasicAssetPackLoader.BasicAssetPack.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];h._BasicAssetPackLoader.BasicAssetPack.__interfaces__=[x.AssetPack];h._BasicAssetPackLoader.BasicAssetPack.prototype={get_manifest:function(){return this._manifest},
getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw o.Strings.withFields("Missing file",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw o.Strings.withFields("Missing sound",["name",a]);return c},getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw o.Strings.withFields("Missing texture",["name",a]);return c},__class__:h._BasicAssetPackLoader.BasicAssetPack};h.BasicKeyboard=function(){this.down=
new o.Signal1;this.up=new o.Signal1;this.backButton=new o.Signal0;this._keyStates=new V};l["flambe.platform.BasicKeyboard"]=h.BasicKeyboard;h.BasicKeyboard.__name__=["flambe","platform","BasicKeyboard"];h.BasicKeyboard.__interfaces__=[e.Keyboard];h.BasicKeyboard.prototype={submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),h.BasicKeyboard._sharedEvent._internal_init(h.BasicKeyboard._sharedEvent.id+1,h.KeyCodes.toKey(a)),this.up.emit1(h.BasicKeyboard._sharedEvent))},submitDown:function(a){if(16777238==
a)return null!=this.backButton._head?(this.backButton.emit0(),!0):!1;this._keyStates.exists(a)||(this._keyStates.set(a,!0),h.BasicKeyboard._sharedEvent._internal_init(h.BasicKeyboard._sharedEvent.id+1,h.KeyCodes.toKey(a)),this.down.emit1(h.BasicKeyboard._sharedEvent));return!0},isDown:function(a){return this._keyStates.exists(h.KeyCodes.toKeyCode(a))},get_supported:function(){return!0},__class__:h.BasicKeyboard};h.BasicMouse=function(a){this._pointer=a;this._source=e.EventSource.Mouse(h.BasicMouse._sharedEvent);
this.down=new o.Signal1;this.move=new o.Signal1;this.up=new o.Signal1;this.scroll=new o.Signal1;this._y=this._x=0;this._cursor=e.MouseCursor.Default;this._buttonStates=new V};l["flambe.platform.BasicMouse"]=h.BasicMouse;h.BasicMouse.__name__=["flambe","platform","BasicMouse"];h.BasicMouse.__interfaces__=[e.Mouse];h.BasicMouse.prototype={prepare:function(a,b,c){this._x=a;this._y=b;h.BasicMouse._sharedEvent._internal_init(h.BasicMouse._sharedEvent.id+1,a,b,c)},submitScroll:function(a,b,c){this._x=a;
this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit1(c);return!0},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,h.MouseCodes.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit1(h.BasicMouse._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit1(h.BasicMouse._sharedEvent)},submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,
!0),this.prepare(a,b,h.MouseCodes.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit1(h.BasicMouse._sharedEvent))},isDown:function(a){return this._buttonStates.exists(h.MouseCodes.toButtonCode(a))},set_cursor:function(a){return this._cursor=a},get_cursor:function(){return this._cursor},get_y:function(){return this._y},get_x:function(){return this._x},get_supported:function(){return!0},__class__:h.BasicMouse};h.BasicPointer=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&
(a=0);this.down=new o.Signal1;this.move=new o.Signal1;this.up=new o.Signal1;this._x=a;this._y=b;this._isDown=c};l["flambe.platform.BasicPointer"]=h.BasicPointer;h.BasicPointer.__name__=["flambe","platform","BasicPointer"];h.BasicPointer.__interfaces__=[e.Pointer];h.BasicPointer.prototype={prepare:function(a,b,c,d){this._x=a;this._y=b;h.BasicPointer._sharedEvent._internal_init(h.BasicPointer._sharedEvent.id+1,a,b,c,d)},submitUp:function(a,b,c){if(this._isDown){this._isDown=!1;var d=[],e=m.Sprite.hitTest(D.root,
a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_1;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(g=d[a],++a,g=g._internal_pointerUp,null!=g&&(g.emit1(h.BasicPointer._sharedEvent),h.BasicPointer._sharedEvent._internal_stopped))return;this.up.emit1(h.BasicPointer._sharedEvent)}},submitMove:function(a,b,c){var d=[],e=m.Sprite.hitTest(D.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_1;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,
b,e,c);for(a=0;a<d.length;)if(g=d[a],++a,g=g._internal_pointerMove,null!=g&&(g.emit1(h.BasicPointer._sharedEvent),h.BasicPointer._sharedEvent._internal_stopped))return;this.move.emit1(h.BasicPointer._sharedEvent)},submitDown:function(a,b,c){if(!this._isDown){this._isDown=!0;var d=[],e=m.Sprite.hitTest(D.root,a,b);if(null!=e){var f=e.owner;do{var g=f._compMap.Sprite_1;null!=g&&d.push(g);f=f.parent}while(null!=f)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(g=d[a],++a,g=g._internal_pointerDown,null!=
g&&(g.emit1(h.BasicPointer._sharedEvent),h.BasicPointer._sharedEvent._internal_stopped))return;this.down.emit1(h.BasicPointer._sharedEvent)}},isDown:function(){return this._isDown},get_y:function(){return this._y},get_x:function(){return this._x},get_supported:function(){return!0},__class__:h.BasicPointer};h.BasicTouch=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new V;this._points=[];this.down=new o.Signal1;this.move=new o.Signal1;this.up=new o.Signal1};l["flambe.platform.BasicTouch"]=
h.BasicTouch;h.BasicTouch.__name__=["flambe","platform","BasicTouch"];h.BasicTouch.__interfaces__=[e.Touch];h.BasicTouch.prototype={submitUp:function(a,b,c){var d=this._pointMap.get(a);null!=d&&(d._internal_init(b,c),this._pointMap.remove(a),z.remove(this._points,d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._internal_source)),this.up.emit1(d))},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a._internal_init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,
c,a._internal_source),this.move.emit1(a))},submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var d=new e.TouchPoint(a);d._internal_init(b,c);this._pointMap.set(a,d);this._points.push(d);null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._internal_source));this.down.emit1(d)}},get_points:function(){return this._points.slice()},get_maxPoints:function(){return this._maxPoints},get_supported:function(){return!0},__class__:h.BasicTouch};H.Sound=function(){};l["flambe.sound.Sound"]=
H.Sound;H.Sound.__name__=["flambe","sound","Sound"];H.Sound.prototype={__class__:H.Sound};h.DummySound=function(){this._playback=new h.DummyPlayback(this)};l["flambe.platform.DummySound"]=h.DummySound;h.DummySound.__name__=["flambe","platform","DummySound"];h.DummySound.__interfaces__=[H.Sound];h.DummySound.getInstance=function(){null==h.DummySound._instance&&(h.DummySound._instance=new h.DummySound);return h.DummySound._instance};h.DummySound.prototype={get_duration:function(){return 0},loop:function(){return this._playback},
play:function(){return this._playback},__class__:h.DummySound};H.Playback=function(){};l["flambe.sound.Playback"]=H.Playback;H.Playback.__name__=["flambe","sound","Playback"];H.Playback.__interfaces__=[o.Disposable];H.Playback.prototype={__class__:H.Playback};h.DummyPlayback=function(a){this._sound=a;this.volume=new E.AnimatedFloat(0)};l["flambe.platform.DummyPlayback"]=h.DummyPlayback;h.DummyPlayback.__name__=["flambe","platform","DummyPlayback"];h.DummyPlayback.__interfaces__=[H.Playback];h.DummyPlayback.prototype=
{dispose:function(){},get_position:function(){return 0},get_ended:function(){return!0},set_paused:function(){return!0},get_paused:function(){return!0},get_sound:function(){return this._sound},__class__:h.DummyPlayback};ba={Storage:function(){}};l["flambe.storage.Storage"]=ba.Storage;ba.Storage.__name__=["flambe","storage","Storage"];ba.Storage.prototype={__class__:ba.Storage};h.DummyStorage=function(){this.clear()};l["flambe.platform.DummyStorage"]=h.DummyStorage;h.DummyStorage.__name__=["flambe",
"platform","DummyStorage"];h.DummyStorage.__interfaces__=[ba.Storage];h.DummyStorage.prototype={clear:function(){this._hash=new F},remove:function(a){this._hash.remove(a)},get:function(a,b){return this._hash.exists(a)?this._hash.get(a):b},set:function(a,b){this._hash.set(a,b);return!0},get_supported:function(){return!1},__class__:h.DummyStorage};h.DummyTouch=function(){this.down=new o.Signal1;this.move=new o.Signal1;this.up=new o.Signal1};l["flambe.platform.DummyTouch"]=h.DummyTouch;h.DummyTouch.__name__=
["flambe","platform","DummyTouch"];h.DummyTouch.__interfaces__=[e.Touch];h.DummyTouch.prototype={get_points:function(){return[]},get_maxPoints:function(){return 0},get_supported:function(){return!1},__class__:h.DummyTouch};h.EventGroup=function(){this._entries=[]};l["flambe.platform.EventGroup"]=h.EventGroup;h.EventGroup.__name__=["flambe","platform","EventGroup"];h.EventGroup.__interfaces__=[o.Disposable];h.EventGroup.prototype={dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];
++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},addDisposingListener:function(a,b,c){var d=this;this.addListener(a,b,function(a){d.dispose();c(a)})},addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new h._EventGroup.Entry(a,b,c))},__class__:h.EventGroup};h._EventGroup={};h._EventGroup.Entry=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};l["flambe.platform._EventGroup.Entry"]=h._EventGroup.Entry;h._EventGroup.Entry.__name__=["flambe",
"platform","_EventGroup","Entry"];h._EventGroup.Entry.prototype={__class__:h._EventGroup.Entry};h.KeyCodes=function(){};l["flambe.platform.KeyCodes"]=h.KeyCodes;h.KeyCodes.__name__=["flambe","platform","KeyCodes"];h.KeyCodes.toKey=function(a){switch(a){case 65:return e.Key.A;case 66:return e.Key.B;case 67:return e.Key.C;case 68:return e.Key.D;case 69:return e.Key.E;case 70:return e.Key.F;case 71:return e.Key.G;case 72:return e.Key.H;case 73:return e.Key.I;case 74:return e.Key.J;case 75:return e.Key.K;
case 76:return e.Key.L;case 77:return e.Key.M;case 78:return e.Key.N;case 79:return e.Key.O;case 80:return e.Key.P;case 81:return e.Key.Q;case 82:return e.Key.R;case 83:return e.Key.S;case 84:return e.Key.T;case 85:return e.Key.U;case 86:return e.Key.V;case 87:return e.Key.W;case 88:return e.Key.X;case 89:return e.Key.Y;case 90:return e.Key.Z;case 48:return e.Key.Number0;case 49:return e.Key.Number1;case 50:return e.Key.Number2;case 51:return e.Key.Number3;case 52:return e.Key.Number4;case 53:return e.Key.Number5;
case 54:return e.Key.Number6;case 55:return e.Key.Number7;case 56:return e.Key.Number8;case 57:return e.Key.Number9;case 96:return e.Key.Numpad0;case 97:return e.Key.Numpad1;case 98:return e.Key.Numpad2;case 99:return e.Key.Numpad3;case 100:return e.Key.Numpad4;case 101:return e.Key.Numpad5;case 102:return e.Key.Numpad6;case 103:return e.Key.Numpad7;case 104:return e.Key.Numpad8;case 105:return e.Key.Numpad9;case 107:return e.Key.NumpadAdd;case 110:return e.Key.NumpadDecimal;case 111:return e.Key.NumpadDivide;
case 108:return e.Key.NumpadEnter;case 106:return e.Key.NumpadMultiply;case 109:return e.Key.NumpadSubtract;case 112:return e.Key.F1;case 113:return e.Key.F2;case 114:return e.Key.F3;case 115:return e.Key.F4;case 116:return e.Key.F5;case 117:return e.Key.F6;case 118:return e.Key.F7;case 119:return e.Key.F8;case 120:return e.Key.F9;case 121:return e.Key.F10;case 122:return e.Key.F11;case 123:return e.Key.F12;case 37:return e.Key.Left;case 38:return e.Key.Up;case 39:return e.Key.Right;case 40:return e.Key.Down;
case 18:return e.Key.Alt;case 192:return e.Key.Backquote;case 220:return e.Key.Backslash;case 8:return e.Key.Backspace;case 20:return e.Key.CapsLock;case 188:return e.Key.Comma;case 15:return e.Key.Command;case 17:return e.Key.Control;case 46:return e.Key.Delete;case 35:return e.Key.End;case 13:return e.Key.Enter;case 187:return e.Key.Equals;case 27:return e.Key.Escape;case 36:return e.Key.Home;case 45:return e.Key.Insert;case 219:return e.Key.LeftBracket;case 189:return e.Key.Minus;case 34:return e.Key.PageDown;
case 33:return e.Key.PageUp;case 190:return e.Key.Period;case 222:return e.Key.Quote;case 221:return e.Key.RightBracket;case 186:return e.Key.Semicolon;case 16:return e.Key.Shift;case 191:return e.Key.Slash;case 32:return e.Key.Space;case 9:return e.Key.Tab;case 16777234:return e.Key.Menu;case 16777247:return e.Key.Search}return e.Key.Unknown(a)};h.KeyCodes.toKeyCode=function(a){switch(a[1]){case 0:return 65;case 1:return 66;case 2:return 67;case 3:return 68;case 4:return 69;case 5:return 70;case 6:return 71;
case 7:return 72;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 76;case 12:return 77;case 13:return 78;case 14:return 79;case 15:return 80;case 16:return 81;case 17:return 82;case 18:return 83;case 19:return 84;case 20:return 85;case 21:return 86;case 22:return 87;case 23:return 88;case 24:return 89;case 25:return 90;case 26:return 48;case 27:return 49;case 28:return 50;case 29:return 51;case 30:return 52;case 31:return 53;case 32:return 54;case 33:return 55;case 34:return 56;
case 35:return 57;case 36:return 96;case 37:return 97;case 38:return 98;case 39:return 99;case 40:return 100;case 41:return 101;case 42:return 102;case 43:return 103;case 44:return 104;case 45:return 105;case 46:return 107;case 47:return 110;case 48:return 111;case 49:return 108;case 50:return 106;case 51:return 109;case 52:return 112;case 53:return 113;case 54:return 114;case 55:return 115;case 56:return 116;case 57:return 117;case 58:return 118;case 59:return 119;case 60:return 120;case 61:return 121;
case 62:return 122;case 63:return 123;case 64:return 124;case 65:return 125;case 66:return 126;case 67:return 37;case 68:return 38;case 69:return 39;case 70:return 40;case 71:return 18;case 72:return 192;case 73:return 220;case 74:return 8;case 75:return 20;case 76:return 188;case 77:return 15;case 78:return 17;case 79:return 46;case 80:return 35;case 81:return 13;case 82:return 187;case 83:return 27;case 84:return 36;case 85:return 45;case 86:return 219;case 87:return 189;case 88:return 34;case 89:return 33;
case 90:return 190;case 91:return 222;case 92:return 221;case 93:return 186;case 94:return 16;case 95:return 191;case 96:return 32;case 97:return 9;case 98:return 16777234;case 99:return 16777247;case 100:return a[2]}};h.MainLoop=function(){this._tickables=[]};l["flambe.platform.MainLoop"]=h.MainLoop;h.MainLoop.__name__=["flambe","platform","MainLoop"];h.MainLoop.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_5;if(null!=c&&(c._internal_realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(var d=
a.firstComponent;null!=d;)c=d.next,d.onUpdate(b),d=c;for(d=a.firstChild;null!=d;)c=d.next,h.MainLoop.updateEntity(d,b),d=c};h.MainLoop.prototype={addTickable:function(a){this._tickables.push(a)},render:function(a){var b=a.willRender();null!=b&&(m.Sprite.render(D.root,b),a.didRender())},update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}h.MainLoop.updateEntity(D.root,a)}},__class__:h.MainLoop};
h.ManifestBuilder=function(){};l["flambe.platform.ManifestBuilder"]=h.ManifestBuilder;h.ManifestBuilder.__name__=["flambe","platform","ManifestBuilder"];h.MouseCodes=function(){};l["flambe.platform.MouseCodes"]=h.MouseCodes;h.MouseCodes.__name__=["flambe","platform","MouseCodes"];h.MouseCodes.toButton=function(a){switch(a){case 0:return e.MouseButton.Left;case 1:return e.MouseButton.Middle;case 2:return e.MouseButton.Right}return e.MouseButton.Unknown(a)};h.MouseCodes.toButtonCode=function(a){switch(a[1]){case 0:return 0;
case 1:return 1;case 2:return 2;case 3:return a[2]}};h.Renderer=function(){};l["flambe.platform.Renderer"]=h.Renderer;h.Renderer.__name__=["flambe","platform","Renderer"];h.Renderer.prototype={__class__:h.Renderer};h.Tickable=function(){};l["flambe.platform.Tickable"]=h.Tickable;h.Tickable.__name__=["flambe","platform","Tickable"];h.Tickable.prototype={__class__:h.Tickable};h.html.CanvasGraphics=function(a){this._firstDraw=this._drawToTemp=!1;this._canvasCtx=a.getContext("2d")};l["flambe.platform.html.CanvasGraphics"]=
h.html.CanvasGraphics;h.html.CanvasGraphics.__name__=["flambe","platform","html","CanvasGraphics"];h.html.CanvasGraphics.__interfaces__=[m.Graphics];h.html.CanvasGraphics.prototype={erase:function(){this._canvasCtx.clearRect(0,0,this._canvasCtx.canvas.width,this._canvasCtx.canvas.height)},clip2:function(a,b){this._tempGraphics.erase();this._tempGraphics.save();var c=b.getLocalMatrix();this._tempGraphics.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12);this._tempGraphics.setAlpha(b.alpha._value);J.__instanceof(b,
m.MaskSprite)?(c=J.__cast(b,m.MaskSprite),J.__instanceof(c.shape,m.FillSprite)&&this.tint(c.shape,c.image,!1)):b.draw(this._tempGraphics);this._tempGraphics.restore();this._tempGraphics.save();this._tempGraphics.setGlobalComposite("destination-in");c=a.getLocalMatrix();this._tempGraphics.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12);this._tempGraphics.setAlpha(a.alpha._value);a.draw(this._tempGraphics);this._tempGraphics.setGlobalComposite("source-over");this.setGlobalComposite("source-over");this._canvasCtx.drawImage(this._tempCanvas,
0,0);this._tempGraphics.restore()},clip:function(a,b){this.save();var c=a.getLocalMatrix();this.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12);a.draw(this);this.restore();this.save();this._canvasCtx.clip();c=b.getLocalMatrix();this.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12);b.draw(this);this.restore()},tint:function(a,b,c){null==c&&(c=!0);c&&this._tempGraphics.erase();this._tempGraphics.setAlpha(a.alpha._value);a.draw(this._tempGraphics);this._tempGraphics.setGlobalComposite("destination-atop");
this._tempGraphics.setAlpha(b.alpha._value);b.draw(this._tempGraphics);this._tempGraphics.setGlobalComposite("source-over");this.setGlobalComposite("source-over");c&&this._canvasCtx.drawImage(this._tempCanvas,0,0)},mask:function(a,b){J.__instanceof(a,m.FillSprite)?this.tint(a,b):J.__instanceof(a,m.ShapeSprite)?this.clip(a,b):this.clip2(a,b)},arc:function(a,b,c,d,e){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).arc(a,b,c,d,e)},isPointInPath:function(a,b){return this._canvasCtx.isPointInPath(a,
b)},bezierCurveTo:function(a,b,c,d,e,f){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).bezierCurveTo(a,b,c,d,e,f)},quadraticCurveTo:function(a,b,c,d){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).quadraticCurveTo(a,b,c,d)},drawShapeSprite:function(){this._canvasCtx.drawImage(this._tempCanvas,0,0);this._tempGraphics.erase()},endFill:function(){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).fill();this._drawToTemp=!1},beginFill:function(a){this._drawToTemp=
!0;(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).fillStyle="#"+("00000"+a.toString(16)).slice(-6)},endStroke:function(){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).stroke();this._drawToTemp=!1},beginStroke:function(a,b){this._drawToTemp=!0;(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).strokeStyle="#"+("00000"+a.toString(16)).slice(-6);(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).lineWidth=b},closePath:function(){(this._drawToTemp?
this._tempGraphics._canvasCtx:this._canvasCtx).closePath()},beginPath:function(){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).beginPath()},lineTo:function(a,b){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).lineTo(a,b)},moveTo:function(a,b){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).moveTo(a,b)},willRender:function(){this._firstDraw=!0},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},
setGlobalComposite:function(a){this._canvasCtx.globalCompositeOperation=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="source-over"}this._canvasCtx.globalCompositeOperation=b},setAlpha:function(a){this._canvasCtx.globalAlpha=a},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},fillRect:function(a,b,c,d,e){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,d,e),this._canvasCtx.globalCompositeOperation=
"source-over"):(this._canvasCtx.fillStyle="#"+("00000"+a.toString(16)).slice(-6),this._canvasCtx.fillRect(b|0,c|0,d|0,e|0))},drawPattern:function(a,b,c,d,e){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawPattern(a,b,c,d,e),this._canvasCtx.globalCompositeOperation="source-over"):(null==a.pattern&&(a.pattern=this._canvasCtx.createPattern(a.image,"repeat")),this._canvasCtx.fillStyle=a.pattern,this._canvasCtx.fillRect(b|0,c|0,d|0,e|0))},drawSubImage:function(a,
b,c,d,e,f,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubImage(a,b,c,d,e,f,g),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.image,d|0,e|0,f|0,g|0,b|0,c|0,f|0,g|0)},drawImage:function(a,b,c){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawImage(a,b,c),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.image,b|0,c|0)},restore:function(){this._canvasCtx.restore()},
transform:function(a,b,c,d,e,f){this._canvasCtx.transform(a,b,c,d,e|0,f|0)},rotate:function(a){this._canvasCtx.rotate(3.141592653589793*a/180)},scale:function(a,b){this._canvasCtx.scale(a,b)},translate:function(a,b){this._canvasCtx.translate(a|0,b|0)},save:function(){this._canvasCtx.save()},clear:function(){this._canvasCtx.fillStyle="#ffffff";this._canvasCtx.fillRect(0,0,this._canvasCtx.canvas.width,this._canvasCtx.canvas.height)},getTemp:function(){this._tempCanvas=h.html.HtmlPlatform.instance.getTempCanvas();
this._tempGraphics=h.html.HtmlPlatform.instance.getTempGraphics()},__class__:h.html.CanvasGraphics};h.html.CanvasRenderer=function(a){this._drawCtx=new h.html.CanvasGraphics(a);this._drawCtx.clear();this._drawCtx.getTemp()};l["flambe.platform.html.CanvasRenderer"]=h.html.CanvasRenderer;h.html.CanvasRenderer.__name__=["flambe","platform","html","CanvasRenderer"];h.html.CanvasRenderer.__interfaces__=[h.Renderer];h.html.CanvasRenderer.prototype={didRender:function(){},willRender:function(){this._drawCtx.willRender();
return this._drawCtx},createEmptyTexture:function(a,b){var c=B.document.createElement("canvas");c.width=a;c.height=b;return new h.html.CanvasTexture(c)},createTexture:function(a){return new h.html.CanvasTexture(h.html.CanvasRenderer.CANVAS_TEXTURES?h.html.HtmlUtil.createCanvas(a):a)},__class__:h.html.CanvasRenderer};h.html.CanvasTexture=function(a){this._graphics=null;this.image=a};l["flambe.platform.html.CanvasTexture"]=h.html.CanvasTexture;h.html.CanvasTexture.__name__=["flambe","platform","html",
"CanvasTexture"];h.html.CanvasTexture.__interfaces__=[m.Texture];h.html.CanvasTexture.prototype={getContext2d:function(){J.__instanceof(this.image,HTMLCanvasElement)||(this.image=h.html.HtmlUtil.createCanvas(this.image));return this.image.getContext("2d")},get_graphics:function(){null==this._graphics&&(this.getContext2d(),this._graphics=new h.html._CanvasTexture.InternalGraphics(this));return this._graphics},get_height:function(){return this.image.height},get_width:function(){return this.image.width},
writePixels:function(a,b,c,d,e){var f=this.getContext2d(),g=f.createImageData(d,e),h=g.data;if(null!=h.set)h.set(a.b);else{d=4*d*e;for(e=0;e<d;){var j=e++;h[j]=a.b[j]}}f.putImageData(g,b,c);this.pattern=null},readPixels:function(a,b,c,d){return U.Bytes.ofData(this.getContext2d().getImageData(a,b,c,d).data)},__class__:h.html.CanvasTexture};h.html._CanvasTexture={};h.html._CanvasTexture.InternalGraphics=function(a){h.html.CanvasGraphics.call(this,a.image);this._renderTarget=a};l["flambe.platform.html._CanvasTexture.InternalGraphics"]=
h.html._CanvasTexture.InternalGraphics;h.html._CanvasTexture.InternalGraphics.__name__=["flambe","platform","html","_CanvasTexture","InternalGraphics"];h.html._CanvasTexture.InternalGraphics.__super__=h.html.CanvasGraphics;h.html._CanvasTexture.InternalGraphics.prototype=v(h.html.CanvasGraphics.prototype,{fillRect:function(a,b,c,d,e){h.html.CanvasGraphics.prototype.fillRect.call(this,a,b,c,d,e);this._renderTarget.pattern=null},drawPattern:function(a,b,c,d,e){h.html.CanvasGraphics.prototype.drawPattern.call(this,
a,b,c,d,e);this._renderTarget.pattern=null},drawSubImage:function(a,b,c,d,e,f,g){h.html.CanvasGraphics.prototype.drawSubImage.call(this,a,b,c,d,e,f,g);this._renderTarget.pattern=null},drawImage:function(a,b,c){h.html.CanvasGraphics.prototype.drawImage.call(this,a,b,c);this._renderTarget.pattern=null},__class__:h.html._CanvasTexture.InternalGraphics});h.html.HtmlAssetPackLoader=function(a,b){h.BasicAssetPackLoader.call(this,a,b)};l["flambe.platform.html.HtmlAssetPackLoader"]=h.html.HtmlAssetPackLoader;
h.html.HtmlAssetPackLoader.__name__=["flambe","platform","html","HtmlAssetPackLoader"];h.html.HtmlAssetPackLoader.detectAudioFormats=function(){var a=B.document.createElement("audio");if(null==a||null==a.canPlayType)return[];var b=new W("\\b(iPhone|iPod|iPad|Android)\\b","");if(!h.html.WebAudioSound.get_supported()&&b.match(B.window.navigator.userAgent))return[];for(var b=[{extension:"m4a",type:"audio/mp4; codecs=mp4a"},{extension:"mp3",type:"audio/mpeg"},{extension:"ogg",type:"audio/ogg; codecs=vorbis"},
{extension:"wav",type:"audio/wav"}],c=[],d=0;d<b.length;){var e=b[d];++d;""!=a.canPlayType(e.type)&&c.push(e.extension)}return c};h.html.HtmlAssetPackLoader.__super__=h.BasicAssetPackLoader;h.html.HtmlAssetPackLoader.prototype=v(h.BasicAssetPackLoader.prototype,{handleLoad:function(a,b){this.handleProgress(a,a.bytes);h.BasicAssetPackLoader.prototype.handleLoad.call(this,a,b)},getAudioFormats:function(){null==h.html.HtmlAssetPackLoader._audioFormats&&(h.html.HtmlAssetPackLoader._audioFormats=h.html.HtmlAssetPackLoader.detectAudioFormats());
return h.html.HtmlAssetPackLoader._audioFormats},loadEntry:function(a,b){var c=this;switch(b.type[1]){case 0:var d=new Image;d.onload=function(){var a=c._platform.getRenderer().createTexture(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)};d.onerror=function(){c.handleError(b,"Failed to load image")};d.src=a;break;case 1:if(h.html.WebAudioSound.get_supported()){var e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType="arraybuffer";e.onload=function(){h.html.WebAudioSound.ctx.decodeAudioData(e.response,
function(a){c.handleLoad(b,new h.html.WebAudioSound(a))},function(){c.handleLoad(b,h.DummySound.getInstance())})};e.onerror=function(){c.handleError(b,"Failed to load audio")};e.send()}else{var f=B.document.createElement("audio");f.preload="auto";var g=++h.html.HtmlAssetPackLoader._mediaRefCount;null==h.html.HtmlAssetPackLoader._mediaElements&&(h.html.HtmlAssetPackLoader._mediaElements=new V);h.html.HtmlAssetPackLoader._mediaElements.set(g,f);var j=new h.EventGroup;j.addDisposingListener(f,"canplaythrough",
function(){h.html.HtmlAssetPackLoader._mediaElements.remove(g);c.handleLoad(b,new h.html.HtmlSound(f))});j.addDisposingListener(f,"error",function(){h.html.HtmlAssetPackLoader._mediaElements.remove(g);c.handleError(b,"Failed to load audio: "+s.string(f.error.code))});f.src=a;f.load()}break;case 2:j=new da(a),j.onData=function(a){c.handleLoad(b,a)},j.onError=function(a){c.handleError(b,"Failed to load data: "+a)},j.request(!1)}},__class__:h.html.HtmlAssetPackLoader});h.html.HtmlExternal=function(){};
l["flambe.platform.html.HtmlExternal"]=h.html.HtmlExternal;h.html.HtmlExternal.__name__=["flambe","platform","html","HtmlExternal"];h.html.HtmlExternal.__interfaces__=[y.External];h.html.HtmlExternal.prototype={bind:function(a,b){B.window[a]=b},call:function(a,b){null==b&&(b=[]);return L.field(B.window,a).apply(null,b)},get_supported:function(){return!0},__class__:h.html.HtmlExternal};h.html.HtmlMouse=function(a,b){h.BasicMouse.call(this,a);this._canvas=b};l["flambe.platform.html.HtmlMouse"]=h.html.HtmlMouse;
h.html.HtmlMouse.__name__=["flambe","platform","html","HtmlMouse"];h.html.HtmlMouse.__super__=h.BasicMouse;h.html.HtmlMouse.prototype=v(h.BasicMouse.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this._canvas.style.cursor=b;return h.BasicMouse.prototype.set_cursor.call(this,a)},__class__:h.html.HtmlMouse});h.html.HtmlSound=function(a){this.audioElement=a};l["flambe.platform.html.HtmlSound"]=h.html.HtmlSound;h.html.HtmlSound.__name__=
["flambe","platform","html","HtmlSound"];h.html.HtmlSound.__interfaces__=[H.Sound];h.html.HtmlSound.prototype={get_duration:function(){return this.audioElement.duration},loop:function(a){null==a&&(a=1);return new h.html._HtmlSound.HtmlPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new h.html._HtmlSound.HtmlPlayback(this,a,!1)},__class__:h.html.HtmlSound};h.html._HtmlSound={};h.html._HtmlSound.HtmlPlayback=function(a,b,c){var d=this;this._sound=a;this._tickableAdded=!1;this.volume=new E.AnimatedFloat(b,
function(a){d._clonedElement.volume=a});this._clonedElement=B.document.createElement("audio");this._clonedElement.volume=b;this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.playAudio()};l["flambe.platform.html._HtmlSound.HtmlPlayback"]=h.html._HtmlSound.HtmlPlayback;h.html._HtmlSound.HtmlPlayback.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];h.html._HtmlSound.HtmlPlayback.__interfaces__=[h.Tickable,H.Playback];h.html._HtmlSound.HtmlPlayback.prototype={playAudio:function(){this._clonedElement.play();
this._tickableAdded||(h.html.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0)},dispose:function(){this.set_paused(!0)},update:function(a){this.volume.update(a);return this._clonedElement.ended||this._clonedElement.paused?(this._tickableAdded=!1,!0):!1},get_position:function(){return this._clonedElement.currentTime},get_ended:function(){return this._clonedElement.ended},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},
get_paused:function(){return this._clonedElement.paused},get_sound:function(){return this._sound},__class__:h.html._HtmlSound.HtmlPlayback};h.html.HtmlStage=function(a){var b=this;this._canvas=a;this.resize=new o.Signal0;this.scaleFactor=h.html.HtmlStage.computeScaleFactor(a);1!=this.scaleFactor&&(h.html.HtmlUtil.setVendorStyle(this._canvas,"transform-origin","top left"),h.html.HtmlUtil.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));h.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&
(window.addEventListener("orientationchange",function(){h.html.HtmlUtil.callLater(r(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",r(this,this.onWindowResize),!1);this.onWindowResize();this.orientation=new o.Value(null);null!=window.orientation&&(window.addEventListener("orientationchange",r(this,this.onOrientationChange),!1),this.onOrientationChange());this.fullscreen=new o.Value(!1);h.html.HtmlUtil.addVendorListener(B.document,"fullscreenchange",function(){b.updateFullscreen()},
!1);this.updateFullscreen()};l["flambe.platform.html.HtmlStage"]=h.html.HtmlStage;h.html.HtmlStage.__name__=["flambe","platform","html","HtmlStage"];h.html.HtmlStage.__interfaces__=[m.Stage];h.html.HtmlStage.computeScaleFactor=function(){return 1};h.html.HtmlStage.prototype={updateFullscreen:function(){this.fullscreen.set__(!0==h.html.HtmlUtil.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],B.document).value)},onOrientationChange:function(){this.orientation.set__(h.html.HtmlUtil.orientation(window.orientation))},
hideMobileBrowser:function(){var a=this,b=B.document.documentElement.style;b.height=B.window.innerHeight+100+"px";b.width=B.window.innerWidth+"px";b.overflow="visible";h.html.HtmlUtil.callLater(function(){h.html.HtmlUtil.hideMobileBrowser();h.html.HtmlUtil.callLater(function(){b.height=B.window.innerHeight+"px";a.onWindowResize()},100)})},resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c;this._canvas.height=
d;this.resize.emit0();return!0},onWindowResize:function(){var a=this._canvas.parentNode.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},requestFullscreen:function(a){null==a&&(a=!0);if(a){var a=B.document.documentElement,b=h.html.HtmlUtil.loadFirstExtension(["requestFullscreen","requestFullScreen"],a).value;null!=b&&b.apply(a,[])}else a=h.html.HtmlUtil.loadFirstExtension(["cancelFullscreen","cancelFullScreen"],B.document).value,null!=a&&a.apply(B.document,[])},requestResize:function(a,
b){if(this.resizeCanvas(a,b)){var c=this._canvas.parentNode;c.style.width=a+"px";c.style.height=b+"px"}},unlockOrientation:function(){},lockOrientation:function(){},get_fullscreenSupported:function(){return!0==h.html.HtmlUtil.loadFirstExtension(["fullscreenEnabled","fullScreenEnabled"],B.document).value},get_height:function(){return this._canvas.height},get_width:function(){return this._canvas.width},__class__:h.html.HtmlStage};h.html.HtmlStorage=function(a){this._storage=a};l["flambe.platform.html.HtmlStorage"]=
h.html.HtmlStorage;h.html.HtmlStorage.__name__=["flambe","platform","html","HtmlStorage"];h.html.HtmlStorage.__interfaces__=[ba.Storage];h.html.HtmlStorage.prototype={clear:function(){try{this._storage.clear()}catch(a){null}},remove:function(a){try{this._storage.removeItem("flambe:"+a)}catch(b){null}},get:function(a,b){var c=null;try{c=this._storage.getItem("flambe:"+a)}catch(d){null}if(null!=c)try{return P.run(c)}catch(e){null}return b},set:function(a,b){var c;try{var d=new S;d.useCache=!0;d.useEnumIndex=
!1;d.serialize(b);c=d.toString()}catch(e){return!1}try{this._storage.setItem("flambe:"+a,c)}catch(f){return!1}return!0},get_supported:function(){return!0},__class__:h.html.HtmlStorage};h.html.HtmlUtil=function(){};l["flambe.platform.html.HtmlUtil"]=h.html.HtmlUtil;h.html.HtmlUtil.__name__=["flambe","platform","html","HtmlUtil"];h.html.HtmlUtil.callLater=function(a,b){null==b&&(b=0);B.window.setTimeout(a,b)};h.html.HtmlUtil.hideMobileBrowser=function(){B.window.scrollTo(1,0)};h.html.HtmlUtil.loadExtension=
function(a,b){null==b&&(b=B.window);var c=L.field(b,a);if(null!=c)return{prefix:null,field:a,value:c};for(var c=a.charAt(0).toUpperCase()+z.substr(a,1,null),d=0,e=h.html.HtmlUtil.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;var g=f+c,j=L.field(b,g);if(null!=j)return{prefix:f,field:g,value:j}}return{prefix:null,field:null,value:null}};h.html.HtmlUtil.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=h.html.HtmlUtil.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,
field:null,value:null}};h.html.HtmlUtil.polyfill=function(a,b){null==b&&(b=B.window);var c=h.html.HtmlUtil.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};h.html.HtmlUtil.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,e=h.html.HtmlUtil.VENDOR_PREFIXES;d<e.length;){var f=e[d];++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};h.html.HtmlUtil.addVendorListener=function(a,b,c,d){for(var e=0,f=h.html.HtmlUtil.VENDOR_PREFIXES;e<f.length;){var g=f[e];++e;a.addEventListener(g+b,c,d)}a.addEventListener(b,
c,d)};h.html.HtmlUtil.orientation=function(a){switch(a){case -90:case 90:return m.Orientation.Landscape;default:return m.Orientation.Portrait}};h.html.HtmlUtil.createCanvas=function(a){var b=B.document.createElement("canvas");b.width=a.width;b.height=a.height;var c=b.getContext("2d");c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};y={Web:function(){}};l["flambe.web.Web"]=y.Web;y.Web.__name__=["flambe","web","Web"];y.Web.prototype={__class__:y.Web};h.html.HtmlWeb=
function(a){this._container=a};l["flambe.platform.html.HtmlWeb"]=h.html.HtmlWeb;h.html.HtmlWeb.__name__=["flambe","platform","html","HtmlWeb"];h.html.HtmlWeb.__interfaces__=[y.Web];h.html.HtmlWeb.prototype={openBrowser:function(a){B.window.open(a,"_blank")},createView:function(a,b,c,d){var e=B.document.createElement("iframe");e.style.position="absolute";e.style.border="0";e.scrolling="no";this._container.appendChild(e);a=new h.html.HtmlWebView(e,a,b,c,d);h.html.HtmlPlatform.instance.mainLoop.addTickable(a);
return a},get_supported:function(){return!0},__class__:h.html.HtmlWeb};y.WebView=function(){};l["flambe.web.WebView"]=y.WebView;y.WebView.__name__=["flambe","web","WebView"];y.WebView.__interfaces__=[o.Disposable];y.WebView.prototype={__class__:y.WebView};h.html.HtmlWebView=function(a,b,c,d,e){var f=this;this.iframe=a;a=function(){f.updateBounds()};this.x=new E.AnimatedFloat(b,a);this.y=new E.AnimatedFloat(c,a);this.width=new E.AnimatedFloat(d,a);this.height=new E.AnimatedFloat(e,a);this.updateBounds();
this.url=new o.Value(null,function(a){f.loadUrl(a)});this.error=new o.Signal1};l["flambe.platform.html.HtmlWebView"]=h.html.HtmlWebView;h.html.HtmlWebView.__name__=["flambe","platform","html","HtmlWebView"];h.html.HtmlWebView.__interfaces__=[h.Tickable,y.WebView];h.html.HtmlWebView.prototype={loadUrl:function(a){null!=this.iframe&&(this.iframe.src=a)},updateBounds:function(){null!=this.iframe&&(this.iframe.style.left=this.x._value+"px",this.iframe.style.top=this.y._value+"px",this.iframe.width=this.width._value,
this.iframe.height=this.height._value)},update:function(a){this.x.update(a);this.y.update(a);this.width.update(a);this.height.update(a);return null==this.iframe},dispose:function(){null!=this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),this.iframe=null)},__class__:h.html.HtmlWebView};h.html.WebAudioSound=function(a){this.buffer=a};l["flambe.platform.html.WebAudioSound"]=h.html.WebAudioSound;h.html.WebAudioSound.__name__=["flambe","platform","html","WebAudioSound"];h.html.WebAudioSound.__interfaces__=
[H.Sound];h.html.WebAudioSound.get_supported=function(){if(h.html.WebAudioSound._detectSupport){h.html.WebAudioSound._detectSupport=!1;var a=h.html.HtmlUtil.loadExtension("AudioContext").value;h.html.WebAudioSound.ctx=null!=a?new a:null}return null!=h.html.WebAudioSound.ctx};h.html.WebAudioSound.prototype={get_duration:function(){return this.buffer.duration},loop:function(a){null==a&&(a=1);return new h.html._WebAudioSound.WebAudioPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new h.html._WebAudioSound.WebAudioPlayback(this,
a,!1)},__class__:h.html.WebAudioSound};h.html._WebAudioSound={};h.html._WebAudioSound.WebAudioPlayback=function(a,b,c){var d=this;this._sound=a;this._head=h.html.WebAudioSound.ctx.destination;this._sourceNode=h.html.WebAudioSound.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.start(0);this.playAudio();this.volume=new E.AnimatedFloat(b,function(a){d.setVolume(a)});1!=b&&this.setVolume(b)};l["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=
h.html._WebAudioSound.WebAudioPlayback;h.html._WebAudioSound.WebAudioPlayback.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];h.html._WebAudioSound.WebAudioPlayback.__interfaces__=[h.Tickable,H.Playback];h.html._WebAudioSound.WebAudioPlayback.prototype={playAudio:function(){this._sourceNode.connect(this._head);this._startedAt=h.html.WebAudioSound.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(this._tickableAdded=!0,h.html.HtmlPlatform.instance.mainLoop.addTickable(this))},
insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},setVolume:function(a){null==this._gainNode&&(this._gainNode=h.html.WebAudioSound.ctx.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},dispose:function(){this.set_paused(!0)},update:function(a){this.volume.update(a);return 3==this._sourceNode.playbackState||0<=this._pausedAt?(this._tickableAdded=!1,!0):!1},get_position:function(){return 3==
this._sourceNode.playbackState?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(h.html.WebAudioSound.ctx.currentTime-this._startedAt)%this._sound.get_duration()},get_ended:function(){return 3==this._sourceNode.playbackState},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_paused:function(){return 0<=this._pausedAt},get_sound:function(){return this._sound},__class__:h.html._WebAudioSound.WebAudioPlayback};
y={Director:function(){this._width=this._height=-1;this._transitor=null;this.scenes=[];this.occludedScenes=[];this._root=new O}};l["flambe.scene.Director"]=y.Director;y.Director.__name__=["flambe","scene","Director"];y.Director.__super__=K;y.Director.prototype=v(K.prototype,{get_height:function(){return 0>this._height?D._platform.getStage().get_height():this._height},get_width:function(){return 0>this._width?D._platform.getStage().get_width():this._width},completeTransition:function(){null!=this._transitor&&
(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a],b=b._compMap.Scene_4;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];b=this.get_topScene();null!=b&&this.show(b)},show:function(a){a=a._compMap.Scene_4;null!=a&&a.shown.emit0()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},onUpdate:function(a){null!=
this._transitor&&this._transitor.update(a)&&this.completeTransition()},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onAdded:function(){this.owner.addChild(this._root)},get_name:function(){return"Director_0"},__class__:y.Director});y._Director={};y._Director.Transitor=function(){};l["flambe.scene._Director.Transitor"]=y._Director.Transitor;y._Director.Transitor.__name__=["flambe",
"scene","_Director","Transitor"];y._Director.Transitor.prototype={complete:function(){this._transition.complete();this._onComplete()},update:function(a){return this._transition.update(a)},__class__:y._Director.Transitor};y.Scene=function(a){null==a&&(a=!0);this.opaque=a;this.shown=new o.Signal0;this.hidden=new o.Signal0};l["flambe.scene.Scene"]=y.Scene;y.Scene.__name__=["flambe","scene","Scene"];y.Scene.__super__=K;y.Scene.prototype=v(K.prototype,{get_name:function(){return"Scene_4"},__class__:y.Scene});
y.Transition=function(){};l["flambe.scene.Transition"]=y.Transition;y.Transition.__name__=["flambe","scene","Transition"];y.Transition.prototype={complete:function(){},update:function(){return!0},__class__:y.Transition};H._Mixer={};H._Mixer.MixerSound=function(a,b){this._source=a;this._channels=b;this._playbacks=[]};l["flambe.sound._Mixer.MixerSound"]=H._Mixer.MixerSound;H._Mixer.MixerSound.__name__=["flambe","sound","_Mixer","MixerSound"];H._Mixer.MixerSound.__interfaces__=[o.Disposable,H.Sound];
H._Mixer.MixerSound.prototype={dispose:function(){for(var a=0,b=this._playbacks;a<b.length;){var c=b[a];++a;c.dispose()}this._playbacks=[]},get_duration:function(){return this._source.get_duration()},findOpenChannel:function(){for(var a=0,b=this._channels;a<b;){var c=a++,d=this._playbacks[c];if(null==d||d.get_ended())return c}return-1},playOrLoop:function(a,b){var c=this.findOpenChannel();if(0>c)return new h.DummyPlayback(this);var d=b?this._source.loop(a):this._source.play(a);return this._playbacks[c]=
d},loop:function(a){null==a&&(a=1);return this.playOrLoop(a,!0)},play:function(a){null==a&&(a=1);return this.playOrLoop(a,!1)},__class__:H._Mixer.MixerSound};w={BitmapSprite:function(a){m.Sprite.call(this);this.symbol=a;this.anchorX.set__(a.anchorX);this.anchorY.set__(a.anchorY)}};l["flambe.swf.BitmapSprite"]=w.BitmapSprite;w.BitmapSprite.__name__=["flambe","swf","BitmapSprite"];w.BitmapSprite.__super__=m.Sprite;w.BitmapSprite.prototype=v(m.Sprite.prototype,{getNaturalHeight:function(){return this.symbol.height},
getNaturalWidth:function(){return this.symbol.width},draw:function(a){a.drawSubImage(this.symbol.atlas,0,0,this.symbol.x,this.symbol.y,this.symbol.width,this.symbol.height)},__class__:w.BitmapSprite});w.Symbol=function(){};l["flambe.swf.Symbol"]=w.Symbol;w.Symbol.__name__=["flambe","swf","Symbol"];w.Symbol.prototype={__class__:w.Symbol};w.BitmapSymbol=function(a,b){this._name=a.symbol;this.atlas=b;var c=a.rect;this.x=c[0];this.y=c[1];this.width=c[2];this.height=c[3];c=a.origin;null!=c?(this.anchorX=
c[0],this.anchorY=c[1]):(c=a.offset,null!=c?(this.anchorX=-c[0],this.anchorY=-c[1]):this.anchorY=this.anchorX=0)};l["flambe.swf.BitmapSymbol"]=w.BitmapSymbol;w.BitmapSymbol.__name__=["flambe","swf","BitmapSymbol"];w.BitmapSymbol.__interfaces__=[w.Symbol];w.BitmapSymbol.prototype={get_name:function(){return this._name},createSprite:function(){return new w.BitmapSprite(this)},__class__:w.BitmapSymbol};w.Library=function(a,b){this._symbols=new F;var c=X.parse(a.getFile(b+"/library.json"));this.frameRate=
c.frameRate;for(var d=[],e=0,f=c.movies;e<f.length;){var g=f[e];++e;g=new w.MovieSymbol(this,g);d.push(g);this._symbols.set(g.get_name(),g)}null!=c.textureGroups?(e=c.textureGroups,(1!=e[0].scaleFactor||1<e.length)&&null,g=e[0].atlases):g=c.atlases;for(e=0;e<g.length;){c=g[e];++e;for(var h=a.getTexture(b+"/"+o.Strings.removeFileExtension(c.file)),f=0,c=c.textures;f<c.length;){var j=c[f];++f;j=new w.BitmapSymbol(j,h);this._symbols.set(j.get_name(),j)}}for(e=0;e<d.length;){g=d[e];++e;f=0;for(c=g.layers;f<
c.length;){g=c[f];++f;h=0;for(j=g.keyframes;h<j.length;){var l=j[h];++h;var k=this._symbols.get(l.symbolName);null!=k&&(null==g.lastSymbol?g.lastSymbol=k:g.lastSymbol!=k&&(g.multipleSymbols=!0),l.symbol=k)}}}};l["flambe.swf.Library"]=w.Library;w.Library.__name__=["flambe","swf","Library"];w.Library.prototype={__class__:w.Library};w.MovieSprite=function(a){this._looped=null;m.Sprite.call(this);this.symbol=a;this.animFinishedPlaying=new o.Signal1;this.speed=new E.AnimatedFloat(1);this.isPlaying=!0;
this._animators=[];for(var b=0,a=a.layers;b<a.length;){var c=a[b];++b;this._animators.push(new w._MovieSprite.LayerAnimator(c))}this._position=this._frame=0;this["goto"](1)};l["flambe.swf.MovieSprite"]=w.MovieSprite;w.MovieSprite.__name__=["flambe","swf","MovieSprite"];w.MovieSprite.__super__=m.Sprite;w.MovieSprite.prototype=v(m.Sprite.prototype,{get_looped:function(){null==this._looped&&(this._looped=new o.Signal0);return this._looped},set_paused:function(a){this._flags=o.BitSets.set(this._flags,
16,a);return a},set_position:function(a){return this._position=I.FMath.clamp(a,0,this.symbol.duration)},"goto":function(a){if(this._frame!=a){if(a<this._frame)for(var b=0,c=this._animators;b<c.length;){var d=c[b];++b;d.changedKeyframe=!0;d.keyframeIdx=0}b=0;for(c=this._animators;b<c.length;)d=c[b],++b,d.composeFrame(a);this._frame=a}},onUpdate:function(a){m.Sprite.prototype.onUpdate.call(this,a);if(this.isPlaying){this.speed.update(a);var b=!1;0==(this._flags&16)&&(this._position+=this.speed._value*
a,this._position>this.symbol.duration&&(this._position%=this.symbol.duration,this.animFinishedPlaying.emit1(this),b=!0));this.isPlaying&&(this["goto"](this._position*this.symbol.frameRate),b&&null!=this._looped&&this._looped.emit0())}},onRemoved:function(){m.Sprite.prototype.onRemoved.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.removeChild(c.content)}},onAdded:function(){m.Sprite.prototype.onAdded.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];
++a;this.owner.addChild(c.content)}},__class__:w.MovieSprite});w._MovieSprite={};w._MovieSprite.LayerAnimator=function(a){this._sprites=null;this.changedKeyframe=!1;this.keyframeIdx=0;this.layer=a;this.content=new O;var b;if(a.multipleSymbols){this._sprites=[];b=0;for(a=a.keyframes;b<a.length;){var c=a[b];++b;this._sprites.push(c.symbol.createSprite())}b=this._sprites[0]}else b=null!=a.lastSymbol?a.lastSymbol.createSprite():new m.Sprite;this.content.add(b)};l["flambe.swf._MovieSprite.LayerAnimator"]=
w._MovieSprite.LayerAnimator;w._MovieSprite.LayerAnimator.__name__=["flambe","swf","_MovieSprite","LayerAnimator"];w._MovieSprite.LayerAnimator.prototype={composeFrame:function(a){for(var b=this.layer.keyframes,c=b.length-1;this.keyframeIdx<c&&b[this.keyframeIdx+1].index<=a;)++this.keyframeIdx,this.changedKeyframe=!0;var d;this.changedKeyframe&&null!=this._sprites?(this.changedKeyframe=!1,d=this._sprites[this.keyframeIdx],this.content.add(d)):d=this.content._compMap.Sprite_1;var e=b[this.keyframeIdx],
f=e.visible;d.set_visible(f);if(f){var f=e.x,g=e.y,h=e.scaleX,j=e.scaleY,l=e.skewX,k=e.skewY,m=e.alpha;if(this.keyframeIdx<c){a=(a-e.index)/e.duration;c=e.ease;if(0!=c){var n;0>c?(n=1-a,n=1-n*n,c=-c):n=a*a;a=c*n+(1-c)*a}b=b[this.keyframeIdx+1];f+=(b.x-f)*a;g+=(b.y-g)*a;h+=(b.scaleX-h)*a;j+=(b.scaleY-j)*a;l+=(b.skewX-l)*a;k+=(b.skewY-k)*a;m+=(b.alpha-m)*a}b=d.getLocalMatrix();a=Math.sin(l);l=Math.cos(l);c=Math.sin(k);k=Math.cos(k);b.set(k*h,c*h,-a*j,l*j,f,g);b.translate(-(e.pivotX+d.anchorX._value),
-(e.pivotY+d.anchorY._value));d.alpha.set__(m)}},__class__:w._MovieSprite.LayerAnimator};w.MovieSymbol=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=[];for(var c=0,d=b.layers;c<d.length;){var e=d[c];++c;e=new w.MovieLayer(e);this.frames=Math.max(e.get_frames(),this.frames);this.layers.push(e)}this.duration=this.frames/this.frameRate};l["flambe.swf.MovieSymbol"]=w.MovieSymbol;w.MovieSymbol.__name__=["flambe","swf","MovieSymbol"];w.MovieSymbol.__interfaces__=[w.Symbol];
w.MovieSymbol.prototype={createSprite:function(){return new w.MovieSprite(this)},get_name:function(){return this._name},__class__:w.MovieSymbol};w.MovieLayer=function(a){this.name=a.name;this.multipleSymbols=!1;this.keyframes=[];for(var b=null,c=0,a=a.keyframes;c<a.length;){var d=a[c];++c;b=new w.MovieKeyframe(d,b);this.keyframes.push(b)}};l["flambe.swf.MovieLayer"]=w.MovieLayer;w.MovieLayer.__name__=["flambe","swf","MovieLayer"];w.MovieLayer.prototype={get_frames:function(){var a=this.keyframes[this.keyframes.length-
1];return a.index+(a.duration|0)},__class__:w.MovieLayer};w.MovieKeyframe=function(a,b){this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;this.label=a.label;this.symbolName=a.ref;this.y=this.x=0;this.scaleY=this.scaleX=1;this.pivotY=this.pivotX=this.skewY=this.skewX=0;this.alpha=1;this.visible=!0;this.ease=0;if(null!=this.symbolName){var c=a.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=a.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=a.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);
c=a.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=a.visible);null!=a.ease&&(this.ease=a.ease)}};l["flambe.swf.MovieKeyframe"]=w.MovieKeyframe;w.MovieKeyframe.__name__=["flambe","swf","MovieKeyframe"];w.MovieKeyframe.prototype={__class__:w.MovieKeyframe};o.Assert=function(){};l["flambe.util.Assert"]=o.Assert;o.Assert.__name__=["flambe","util","Assert"];o.BitSets=function(){};l["flambe.util.BitSets"]=o.BitSets;o.BitSets.__name__=
["flambe","util","BitSets"];o.BitSets.set=function(a,b,c){return c?a|b:a&~b};o.LogHandler=function(){};l["flambe.util.LogHandler"]=o.LogHandler;o.LogHandler.__name__=["flambe","util","LogHandler"];o.LogHandler.prototype={__class__:o.LogHandler};o.Promise=function(){this.success=new o.Signal1;this.error=new o.Signal1;this.progressChanged=new o.Signal0;this.hasResult=!1;this._total=this._progress=0};l["flambe.util.Promise"]=o.Promise;o.Promise.__name__=["flambe","util","Promise"];o.Promise.prototype=
{set_total:function(a){this._total=a;this.progressChanged.emit0();return a},set_progress:function(a){this._progress=a;this.progressChanged.emit0();return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit1(a);return a},get_result:function(){if(!this.hasResult)throw"Promise result not yet available";return this._result},__class__:o.Promise};
o.Signal0=function(a){o.SignalBase.call(this,a)};l["flambe.util.Signal0"]=o.Signal0;o.Signal0.__name__=["flambe","util","Signal0"];o.Signal0.__super__=o.SignalBase;o.Signal0.prototype=v(o.SignalBase.prototype,{__class__:o.Signal0});o._SignalBase={};o._SignalBase.Task=function(a){this.next=null;this.fn=a};l["flambe.util._SignalBase.Task"]=o._SignalBase.Task;o._SignalBase.Task.__name__=["flambe","util","_SignalBase","Task"];o._SignalBase.Task.prototype={__class__:o._SignalBase.Task};A=void 0;T=void 0;
P=void 0;S=void 0;U=void 0;da=void 0;X=void 0;da=function(a){this.url=a;this.headers=new F;this.params=new F;this.async=!0};l["haxe.Http"]=da;da.__name__=["haxe","Http"];da.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=this,c=new ga,d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(c.responseText);else switch(a){case null:case void 0:b.onError("Failed to connect or resolve host");
break;case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var e=this.postData;if(null!=e)a=!0;else for(var f=this.params.keys();f.hasNext();)var g=f.next(),e=null==e?"":e+"&",e=e+(Q.urlEncode(g)+"="+Q.urlEncode(this.params.get(g)));try{if(a)c.open("POST",this.url,this.async);else if(null!=e){var h=1>=this.url.split("?").length;c.open("GET",this.url+(h?"?":"&")+e,this.async);
e=null}else c.open("GET",this.url,this.async)}catch(j){this.onError(j.toString());return}null==this.headers.get("Content-Type")&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)f=a.next(),c.setRequestHeader(f,this.headers.get(f));c.send(e);this.async||d()},__class__:da};X=function(){};l["haxe.Json"]=X;X.__name__=["haxe","Json"];X.parse=function(a){return(new X).doParse(a)};X.prototype={parseString:function(){for(var a=
this.pos,b=new Z;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.b+=z.substr(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+=String.fromCharCode(13);break;case 110:b.b+=String.fromCharCode(10);break;case 116:b.b+=String.fromCharCode(9);break;case 98:b.b+=String.fromCharCode(8);break;case 102:b.b+=String.fromCharCode(12);break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);break;case 117:a=s.parseInt("0x"+z.substr(this.str,this.pos,4));this.pos+=
4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.b+=z.substr(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;)switch(this.str.charCodeAt(this.pos++)){case 32:case 13:case 10:case 9:break;case 123:for(var a={},b=null,c=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;case 125:return(null!=b||!1==c)&&this.invalidChar(),
a;case 58:null==b&&this.invalidChar();a[b]=this.parseRec();b=null;c=!0;break;case 44:c?c=!1:this.invalidChar();break;case 34:c&&this.invalidChar();b=this.parseString();break;default:this.invalidChar()}}break;case 91:a=[];for(c=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==c&&this.invalidChar(),a;case 44:c?c=!1:this.invalidChar();break;default:c&&this.invalidChar(),this.pos--,a.push(this.parseRec()),c=!0}break;case 116:c=this.pos;if(114!=
this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=c,this.invalidChar();return!0;case 102:c=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=c,this.invalidChar();return!1;case 110:c=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++))this.pos=
c,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:this.pos--;if(!this.reg_float.match(z.substr(this.str,this.pos,null)))throw"Invalid float at position "+this.pos;c=this.reg_float.matched(0);this.pos+=c.length;c=s.parseFloat(c);d=c|0;return d==c?d:c;default:this.invalidChar()}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.reg_float=
new W("^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?","");this.str=a;this.pos=0;return this.parseRec()},__class__:X};S=function(){this.buf=new Z;this.cache=[];this.useCache=S.USE_CACHE;this.useEnumIndex=S.USE_ENUM_INDEX;this.shash=new F;this.scount=0};l["haxe.Serializer"]=S;S.__name__=["haxe","Serializer"];S.run=function(a){var b=new S;b.serialize(a);return b.toString()};S.prototype={serialize:function(a){var b=N["typeof"](a);switch(b[1]){case 0:this.buf.b+=s.string("n");break;case 1:if(0==a){this.buf.b+=
s.string("z");break}this.buf.b+=s.string("i");this.buf.b+=s.string(a);break;case 2:Math.isNaN(a)?this.buf.b+=s.string("k"):Math.isFinite(a)?(this.buf.b+=s.string("d"),this.buf.b+=s.string(a)):this.buf.b+=s.string(0>a?"m":"p");break;case 3:this.buf.b+=s.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+=s.string("a");for(var d=a.length,e=0;e<d;)b=e++,null==a[b]?c++:(0<c&&(1==c?this.buf.b+=
s.string("n"):(this.buf.b+=s.string("u"),this.buf.b+=s.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+=s.string("n"):(this.buf.b+=s.string("u"),this.buf.b+=s.string(c)));this.buf.b+=s.string("h");break;case ea:this.buf.b+=s.string("l");for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+=s.string("h");break;case Date:this.buf.b+=s.string("v");this.buf.b+=s.string(z.dateStr(a));break;case F:this.buf.b+=s.string("b");for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),
this.serialize(a.get(b));this.buf.b+=s.string("h");break;case V:this.buf.b+=s.string("q");for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=s.string(":"),this.buf.b+=s.string(b),this.serialize(a.get(b));this.buf.b+=s.string("h");break;case U.Bytes:b=0;c=a.length-2;d=new Z;for(e=S.BASE64;b<c;){var f=a.b[b++],g=a.b[b++],h=a.b[b++];d.b+=s.string(e.charAt(f>>2));d.b+=s.string(e.charAt((f<<4|g>>4)&63));d.b+=s.string(e.charAt((g<<2|h>>6)&63));d.b+=s.string(e.charAt(h&63))}b==c?(f=a.b[b++],g=a.b[b++],d.b+=
s.string(e.charAt(f>>2)),d.b+=s.string(e.charAt((f<<4|g>>4)&63)),d.b+=s.string(e.charAt(g<<2&63))):b==c+1&&(f=a.b[b++],d.b+=s.string(e.charAt(f>>2)),d.b+=s.string(e.charAt(f<<4&63)));b=d.b;this.buf.b+=s.string("s");this.buf.b+=s.string(b.length);this.buf.b+=s.string(":");this.buf.b+=s.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+=s.string("C"),this.serializeString(N.getClassName(b)),this.cache.push(a),a.hxSerialize(this),this.buf.b+=s.string("g")):(this.buf.b+=s.string("c"),
this.serializeString(N.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+=s.string("o");this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=s.string(this.useEnumIndex?"j":"w");this.serializeString(N.getEnumName(b));this.useEnumIndex?(this.buf.b+=s.string(":"),this.buf.b+=s.string(a[1])):this.serializeString(a[0]);this.buf.b+=s.string(":");d=a.length;this.buf.b+=
s.string(d-2);for(e=2;e<d;)b=e++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+s.string(a);}},serializeFields:function(a){for(var b=0,c=L.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(L.field(a,d))}this.buf.b+=s.string("g")},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+=s.string("r"),this.buf.b+=s.string(e),
!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+=s.string("R"),this.buf.b+=s.string(b)):(this.shash.set(a,this.scount++),this.buf.b+=s.string("y"),a=Q.urlEncode(a),this.buf.b+=s.string(a.length),this.buf.b+=s.string(":"),this.buf.b+=s.string(a))},toString:function(){return this.buf.b},__class__:S};T=function(a){var b=this;this.id=window.setInterval(function(){b.run()},a)};l["haxe.Timer"]=T;T.__name__=["haxe","Timer"];T.delay=function(a,b){var c=
new T(b);c.run=function(){c.stop();a()};return c};T.prototype={run:function(){},stop:function(){null!=this.id&&(window.clearInterval(this.id),this.id=null)},__class__:T};P=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=P.DEFAULT_RESOLVER;null==a&&(a=N,P.DEFAULT_RESOLVER=a);this.setResolver(a)};l["haxe.Unserializer"]=P;P.__name__=["haxe","Unserializer"];P.initCodes=function(){for(var a=[],b=0,c=P.BASE64.length;b<c;){var d=b++;a[P.BASE64.charCodeAt(d)]=d}return a};
P.run=function(a){return(new P(a)).unserialize()};P.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return s.parseFloat(z.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";
a=z.substr(this.buf,this.pos,b);this.pos+=b;a=Q.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();
if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=N.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,
this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=N.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new ea;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new F;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=
this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new V;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);if(104!=b)throw"Invalid IntHash format";return c;case 118:return b=z.strDate(z.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";
d=P.CODES;null==d&&(d=P.initCodes(),P.CODES=d);for(var a=this.pos,e=b&3,f=a+(b-e),g=U.Bytes.alloc(3*(b>>2)+(2<=e?e-1:0)),h=0;a<f;){var j=d[c.charCodeAt(a++)],l=d[c.charCodeAt(a++)];g.b[h++]=(j<<2|l>>4)&255;j=d[c.charCodeAt(a++)];g.b[h++]=(l<<4|j>>2)&255;l=d[c.charCodeAt(a++)];g.b[h++]=(j<<6|l)&255}2<=e&&(j=d[c.charCodeAt(a++)],l=d[c.charCodeAt(a++)],g.b[h++]=(j<<2|l>>4)&255,3==e&&(j=d[c.charCodeAt(a++)],g.b[h++]=(l<<4|j>>2)&255));this.pos+=b;this.cache.push(g);return g;case 67:b=this.unserialize();
a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=N.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return N.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return N.createEnum(a,
b,d)},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!J.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=
null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},__class__:P};U={Bytes:function(a,b){this.length=a;this.b=b}};l["haxe.io.Bytes"]=U.Bytes;U.Bytes.__name__=["haxe","io","Bytes"];U.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new U.Bytes(a,b)};U.Bytes.ofData=function(a){return new U.Bytes(a.length,a)};U.Bytes.prototype={__class__:U.Bytes};A={_Fast:{}};A._Fast.NodeAccess=function(a){this.__x=a};l["haxe.xml._Fast.NodeAccess"]=A._Fast.NodeAccess;
A._Fast.NodeAccess.__name__=["haxe","xml","_Fast","NodeAccess"];A._Fast.NodeAccess.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw(this.__x.nodeType==u.Document?"Document":this.__x.getNodeName())+" is missing element "+a;return new A.Fast(b)},__class__:A._Fast.NodeAccess};A._Fast.AttribAccess=function(a){this.__x=a};l["haxe.xml._Fast.AttribAccess"]=A._Fast.AttribAccess;A._Fast.AttribAccess.__name__=["haxe","xml","_Fast","AttribAccess"];A._Fast.AttribAccess.prototype=
{resolve:function(a){if(this.__x.nodeType==u.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);if(null==b)throw this.__x.getNodeName()+" is missing attribute "+a;return b},__class__:A._Fast.AttribAccess};A._Fast.HasAttribAccess=function(a){this.__x=a};l["haxe.xml._Fast.HasAttribAccess"]=A._Fast.HasAttribAccess;A._Fast.HasAttribAccess.__name__=["haxe","xml","_Fast","HasAttribAccess"];A._Fast.HasAttribAccess.prototype={resolve:function(a){if(this.__x.nodeType==u.Document)throw"Cannot access document attribute "+
a;return this.__x.exists(a)},__class__:A._Fast.HasAttribAccess};A._Fast.HasNodeAccess=function(a){this.__x=a};l["haxe.xml._Fast.HasNodeAccess"]=A._Fast.HasNodeAccess;A._Fast.HasNodeAccess.__name__=["haxe","xml","_Fast","HasNodeAccess"];A._Fast.HasNodeAccess.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:A._Fast.HasNodeAccess};A._Fast.NodeListAccess=function(a){this.__x=a};l["haxe.xml._Fast.NodeListAccess"]=A._Fast.NodeListAccess;A._Fast.NodeListAccess.__name__=
["haxe","xml","_Fast","NodeListAccess"];A._Fast.NodeListAccess.prototype={resolve:function(a){for(var b=new ea,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new A.Fast(c))}return b},__class__:A._Fast.NodeListAccess};A.Fast=function(a){if(a.nodeType!=u.Document&&a.nodeType!=u.Element)throw"Invalid nodeType "+s.string(a.nodeType);this.x=a;this.node=new A._Fast.NodeAccess(a);this.nodes=new A._Fast.NodeListAccess(a);this.att=new A._Fast.AttribAccess(a);this.has=new A._Fast.HasAttribAccess(a);
this.hasNode=new A._Fast.HasNodeAccess(a)};l["haxe.xml.Fast"]=A.Fast;A.Fast.__name__=["haxe","xml","Fast"];A.Fast.prototype={getElements:function(){var a=this.x.elements();return{hasNext:r(a,a.hasNext),next:function(){var b=a.next();return null==b?null:new A.Fast(b)}}},getInnerHTML:function(){for(var a=new Z,b=this.x.iterator();b.hasNext();){var c=b.next();a.b+=s.string(c.toString())}return a.b},getInnerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.getName()+" does not have data";
var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==u.PCData&&c.nodeType==u.CData&&""==Q.trim(b.getNodeValue())&&(b=a.next(),null==b||b.nodeType==u.PCData&&""==Q.trim(b.getNodeValue())&&null==a.next()))return c.getNodeValue();throw this.getName()+" does not only have data";}if(b.nodeType!=u.PCData&&b.nodeType!=u.CData)throw this.getName()+" does not have data";return b.getNodeValue()},getName:function(){return this.x.nodeType==u.Document?"Document":this.x.getNodeName()},__class__:A.Fast};A.Parser=
function(){};l["haxe.xml.Parser"]=A.Parser;A.Parser.__name__=["haxe","xml","Parser"];A.Parser.parse=function(a){var b=u.createDocument();A.Parser.doParse(a,0,b);return b};A.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,e=1,f=1,g=null,h=0,j=0,l=0,k=a.charCodeAt(b);k==k;){switch(e){case 0:switch(k){case 10:case 13:case 9:case 32:break;default:e=f;continue}break;case 1:switch(k){case 60:e=0;f=2;break;default:h=b;e=13;continue}break;case 13:60==k&&(e=u.createPCData(z.substr(a,h,b-h)),c.addChild(e),
j++,e=0,f=2);break;case 17:93==k&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(e=u.createCData(z.substr(a,h,b-h)),c.addChild(e),j++,b+=2,e=1);break;case 2:switch(k){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=z.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;e=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=z.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;e=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;
e=15}h=b+1;break;case 63:e=14;h=b;break;case 47:if(null==c)throw"Expected node name";h=b+1;e=0;f=10;break;default:e=3;h=b;continue}break;case 3:if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==k)){if(b==h)throw"Expected node name";d=u.createElement(z.substr(a,h,b-h));c.addChild(d);e=0;f=4;continue}break;case 4:switch(k){case 47:e=11;j++;break;case 62:e=9;j++;break;default:e=5;h=b;continue}break;case 5:if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==
k)){if(h==b)throw"Expected attribute name";g=z.substr(a,h,b-h);if(d.exists(g))throw"Duplicate attribute";e=0;f=6;continue}break;case 6:switch(k){case 61:e=0;f=7;break;default:throw"Expected =";}break;case 7:switch(k){case 34:case 39:e=8;h=b;break;default:throw'Expected "';}break;case 8:k==a.charCodeAt(h)&&(f=z.substr(a,h+1,b-h-1),d.set(g,f),e=0,f=4);break;case 9:h=b=A.Parser.doParse(a,b,d);e=1;break;case 11:switch(k){case 62:e=1;break;default:throw"Expected >";}break;case 12:switch(k){case 62:return 0==
j&&c.addChild(u.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||58==k||46==k||95==k||45==k)){if(h==b)throw"Expected node name";if(z.substr(a,h,b-h)!=c.getNodeName())throw"Expected </"+c.getNodeName()+">";e=0;f=12;continue}break;case 15:45==k&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(u.createComment(z.substr(a,h,b-h))),b+=2,e=1);break;case 16:91==k?l++:93==k?l--:62==k&&0==l&&(c.addChild(u.createDocType(z.substr(a,h,b-h))),e=1);
break;case 14:63==k&&62==a.charCodeAt(b+1)&&(b++,e=z.substr(a,h+1,b-h-2),c.addChild(u.createProlog(e)),e=1)}k=a.charCodeAt(++b)}1==e&&(h=b,e=13);if(13==e)return(b!=h||0==j)&&c.addChild(u.createPCData(z.substr(a,h,b-h))),b;throw"Unexpected end";};Array.prototype.indexOf?z.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;l.Math=
Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=l.String=String;String.__name__=["String"];Array.prototype.__class__=l.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=l.Date=Date;Date.__name__=["Date"];var ja=l.Int={__name__:["Int"]},ka=l.Dynamic={__name__:["Dynamic"]},ha=l.Float=Number;ha.__name__=["Float"];var ia=l.Bool=Boolean;ia.__ename__=["Bool"];var la=l.Class={__name__:["Class"]},ma={};u.Element="element";u.PCData=
"pcdata";u.CData="cdata";u.Comment="comment";u.DocType="doctype";u.Prolog="prolog";u.Document="document";"undefined"!=typeof document&&(B.document=document);"undefined"!=typeof window&&(B.window=window,B.window.onerror=function(a,b,c){var d=B.onerror;return null==d?!1:d(a,[b+":"+c])});"undefined"!=typeof JSON&&(X=JSON);if(window.XMLHttpRequest)K=XMLHttpRequest;else{if(!window.ActiveXObject)throw"Unable to create XMLHttpRequest object.";K=function(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){throw"Unable to create XMLHttpRequest object.";
}}}}ga=K;d.ConstantsApp.OPTION_SILENCE_AUDIO=!1;d.ConstantsApp.LOAD_FONT_EARLY=!0;d.ConstantsApp.DEBUG_EASY_MODE=!1;d.ConstantsApp.DEBUG_BUBBLES=!1;d.ConstantsApp.DEBUG_COLLISIONS=!1;d.ConstantsApp.DEBUG_TILE_COLLISION_TOGGLE=!1;d.ConstantsApp.DEBUG_MODE=!1;d.ConstantsApp.STAGE_WIDTH=960;d.ConstantsApp.STAGE_HEIGHT=560;d.ConstantsApp.STAGE_CENTER_X=480;d.ConstantsApp.STAGE_CENTER_Y=280;d.ConstantsApp.LAYER_BG="layer_bg";d.ConstantsApp.LAYER_PLAYER="layer_player";d.ConstantsApp.LAYER_FG="layer_fg";
d.ConstantsApp.LAYER_HD_CHAR="layer_hd_char";d.ConstantsApp.EVENT_PAUSE="eventPause";d.ConstantsApp.EVENT_UNPAUSE="eventUnpause";d.ConstantsApp.EVENT_MUTE_TOGGLE="EVENT_MUTE_TOGGLE";d.ConstantsApp.EVENT_WORLD_GENERATION_COMPLETE="EVENT_WORLD_GENERATION_COMPLETE";d.ConstantsApp.EVENT_SPAWN_BUBBLES="EVENT_SPAWN_BUBBLES";d.ConstantsApp.EVENT_SPAWN_HD_CHARACTER="EVENT_SPAWN_HD_CHARACTER";d.ConstantsApp.EVENT_LEVEL_COMPLETE="EVENT_LEVEL_COMPLETE";d.ConstantsApp.EVENT_SCREEN_SHAKE="EVENT_SCREEN_SHAKE";
d.ConstantsApp.EVENT_ANIMATE_EVERY_HD_CHAR="EVENT_ANIMATE_EVERY_HD_CHAR";d.ConstantsApp.BOOL_GAME_LOSE="bool_game_lose";d.ConstantsApp.BOOL_GAME_WIN="bool_game_win";d.ConstantsApp.BOOL_LEVEL_LOSE="bool_level_lose";d.ConstantsApp.BOOL_LEVEL_WIN="bool_level_win";d.ConstantsApp.BOOL_GAMEOVER="bool_gameover";d.ConstantsApp.BOOL_PAUSED="bool_paused";d.ConstantsApp.BOOL_MUTED="bool_muted";d.ConstantsApp.BOOL_INPUT_LOCK="bool_inputlock";d.ConstantsApp.BOOL_TABLET="bool_tablet";d.ConstantsApp.BOOL_PLAYER_CROUCHED=
"bool_player_crouched";d.ConstantsApp.BOOL_EASTER_EGG_UNLOCKED="BOOL_EASTER_EGG_UNLOCKED";d.ConstantsApp.BOOL_ANIMATE_ALL_STARTED="BOOL_ANIMATE_ALL_STARTED";d.ConstantsApp.BOOL_ORIENTATION_ALERT="bool_orientation_alert";d.ConstantsApp.INT_HEALTH="int_health";d.ConstantsApp.INT_LIVES="int_lives";d.ConstantsApp.INT_SCORE="int_score";d.ConstantsApp.INT_LEVEL="int_level";d.ConstantsApp.INT_TOTAL_SCORE="int_total_score";d.ConstantsApp.INT_LEVEL1_SCORE="int_level1_score";d.ConstantsApp.INT_LEVEL2_SCORE=
"int_level2_score";d.ConstantsApp.INT_LEVEL3_SCORE="int_level3_score";d.ConstantsApp.INT_LEVEL4_SCORE="int_level4_score";d.ConstantsApp.INT_LEVEL5_SCORE="int_level5_score";d.ConstantsApp.HD_TYPE_SPONGEBOB=0;d.ConstantsApp.HD_TYPE_COSMO=8;d.ConstantsApp.HD_TYPE_MIKEY=1;d.ConstantsApp.HD_TYPE_PATRICK=2;d.ConstantsApp.HD_TYPE_SANJAY=4;d.ConstantsApp.HD_TYPE_SPONGEBOB_2=3;d.ConstantsApp.HD_TYPE_DONNIE=6;d.ConstantsApp.HD_TYPE_PO=5;d.ConstantsApp.HD_TYPE_RAPH=7;d.ConstantsApp.TYPE_PLATFORM=0;d.ConstantsApp.TYPE_LADDER=
1;d.ConstantsApp.TYPE_TRICK_PLATFORM=2;d.ConstantsApp.TYPE_INVIS_PLATFORM=3;d.ConstantsApp.TYPE_SPAWN_HD=4;d.ConstantsApp.TYPE_CHECKPOINT_1=5;d.ConstantsApp.TYPE_CHECKPOINT_2=6;d.ConstantsApp.POOL_SIZE_PARTICLES=100;d.ConstantsApp.DIR_LEFT=2;d.ConstantsApp.DIR_RIGHT=3;d.ConstantsApp.INPUT_CLICK="input_click";d.ConstantsApp.INPUT_SPACE="input_space";d.ConstantsApp.INPUT_Z="input_z";d.ConstantsApp.INPUT_X="input_x";d.ConstantsApp.INPUT_C="input_c";d.ConstantsApp.INPUT_P="input_p";d.ConstantsApp.INPUT_UP=
"input_up";d.ConstantsApp.INPUT_DOWN="input_down";d.ConstantsApp.INPUT_LEFT="input_left";d.ConstantsApp.INPUT_RIGHT="input_right";d.ConstantsApp.CONFIG_XML_PATH="config/config.xml";d.ConstantsScreen.SCREEN_LOADING="loadpanel";d.ConstantsScreen.SCREEN_LOADING_OVERLAY="loadoverlay";d.ConstantsScreen.SCREEN_SPLASH="splash";d.ConstantsScreen.SCREEN_HELP="help";d.ConstantsScreen.SCREEN_GAMEPLAY_HUD="gameplayhud";d.ConstantsScreen.SCREEN_GAMEPLAY_MENU="gameplaymenu";d.ConstantsScreen.SCREEN_QUIT_CONFIRM=
"quitconfirm";d.ConstantsScreen.SCREEN_END_GAME="endgame";d.ConstantsScreen.SCREEN_CUTSCENE_BORDERS="cutsceneborders";d.ConstantsScreen.SCREEN_LEVEL_WIN="levelwin";d.ConstantsScreen.SCREEN_GAME_WIN="gamewin";d.ConstantsScreen.TRANSITION_FADE=0;d.ConstantsScreen.TRANSITION_SCROLL=1;d.ConstantsScreen.TRANSITION_SCROLL_DOWN=2;d.ConstantsScreen.TRANSITION_SCROLL_UP=3;d.ConstantsScreen.TRANSITION_STAGED=4;d.ConstantsScreen.TRANSITION_SCREENSHOT=5;d.ConstantsScreen.CHANGE_OPEN_BEGIN=0;d.ConstantsScreen.CHANGE_OPEN_COMPLETE=
1;d.ConstantsScreen.CHANGE_CLOSE_BEGIN=2;d.ConstantsScreen.CHANGE_CLOSE_COMPLETE=3;d.ConstantsScreen.OUTPUT_OPENED=0;d.ConstantsScreen.OUTPUT_CLOSED=1;d.ConstantsScreen.CONDITION_CLOSED_ALL=0;d.ConstantsScreen.CONDITION_CLOSED_SPECIFIC=1;d.ConstantsScreen.CONDITION_TRANSITION_MIDWAY=2;d.ConstantsScreen.CONDITION_TRANSITION_COMPLETE=3;d.ConstantsScreen.CONDITION_IMMEDIATE=4;d.ConstantsScreen.FLOW_SPLASH_PLAY="FLOW_SPLASH_PLAY";d.ConstantsScreen.FLOW_HELP_CLOSE="FLOW_HELP_CLOSE";d.ConstantsScreen.FLOW_GAMEPLAY_MENU=
"FLOW_GAMEPLAY_MENU";d.ConstantsScreen.FLOW_GAMEPLAY_MENU_CLOSE="FLOW_GAMEPLAY_MENU_CLOSE";d.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP="FLOW_GAMEPLAY_MENU_HELP";d.ConstantsScreen.FLOW_GAMEPLAY_MENU_QUIT="FLOW_GAMEPLAY_MENU_QUIT";d.ConstantsScreen.FLOW_GAMEPLAY_QUIT_YES="FLOW_GAMEPLAY_QUIT_YES";d.ConstantsScreen.FLOW_GAMEPLAY_QUIT_NO="FLOW_GAMEPLAY_QUIT_NO";d.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN="FLOW_END_GAME_PLAY_AGAIN";d.ConstantsScreen.FLOW_BRANCH_GAME_WIN="FLOW_BRANCH_GAME_WIN";d.ConstantsScreen.FLOW_BRANCH_GAME_LOSE=
"FLOW_BRANCH_GAME_LOSE";d.ConstantsScreen.FLOW_BRANCH_LEVEL_WIN="FLOW_BRANCH_LEVEL_WIN";d.ConstantsScreen.FLOW_BRANCH_LEVEL_LOSE="FLOW_BRANCH_LEVEL_LOSE";d.ConstantsScreen.FLOW_NEXT_LEVEL="FLOW_NEXT_LEVEL";j.buttons.ButtonBase.UP="workinBtnUp";j.buttons.ButtonBase.DOWN="workinBtnDown";j.buttons.ButtonBase.CLICK="workinBtnClick";j.buttons.ButtonBase.CANCEL_DRAG="workinBtnCancelDrag";n.Display.EVENT_UPDATE_DISPLAY="event_update_display";j.screens.data.ScreenStateData.ACTION_STOP=0;j.screens.data.ScreenStateData.ACTION_OPENED=
1;j.screens.data.ScreenStateData.ACTION_EVENT=2;j.screens.data.ScreenStateData.ACTION_NEW_STATE=3;j.screens.data.ScreenStateData.ACTION_CLOSED=4;j.screens.data.ScreenStateData.ACTION_FLOW=5;G.ConstantsCloud.FONT_DEFAULT="Basic";G.ConstantsCloud.STRING_REGION_ID="cloudregionid";G.ConstantsCloud.LOCALIZATION_XML_PATH="config/";G.ConstantsCloud.EVENT_FILES_LOADED="EVENT_WORKINCLOUD_FILES_LOADED";G.ConstantsCloud.EVENT_TWEENS_COMPLETE="EVENT_TWEENS_COMPLETE";G.ConstantsCloud._uniqueId=0;p.WMEventFlow.EVENT_FLOW=
"Nflow";p.WMEventInput.EVENT_INPUT="eventinput";p.WMEventInput.PHASE_DOWN=1;p.WMEventInput.PHASE_UP=0;p.WMEventInput.PHASE_MOVE=2;p.WMEventInterfaceChange.EVENT_INTERFACE_OUTPUT="Neio";p.WMEventScreenOut.EVENT_SCREEN_OUTPUT="Neso";p.WMEventUpdate.EVENT_UPDATE="eventupdate";f.tween.PennerManager.EASE_LINEAR="linear";f.tween.PennerManager.EASE="ease";f.tween.PennerManager.EASE_QUAD="quad";f.tween.PennerManager.EASE_IN="easeIn";f.tween.PennerManager.EASE_QUAD_IN="quadIn";f.tween.PennerManager.EASE_OUT=
"easeOut";f.tween.PennerManager.EASE_QUAD_OUT="quadOut";f.tween.PennerManager.EASE_EXPO="expo";f.tween.PennerManager.EASE_EXPO_IN="expoIn";f.tween.PennerManager.EASE_EXPO_OUT="expoOut";f.tween.PennerManager.EASE_ELASTIC="elastic";f.tween.PennerManager.EASE_ELASTIC_IN="elasticIn";f.tween.PennerManager.EASE_ELASTIC_OUT="elasticOut";f.tween.PennerManager.EASE_BUMP="bump";f.tween.PennerManager.EASE_BUMP_IN="bumpIn";f.tween.PennerManager.EASE_BUMP_OUT="bumpOut";f.tween.PennerManager.EASE_BOUNCE="bounce";
f.tween.PennerManager.EASE_BOUNCE_IN="bounceIn";f.tween.PennerManager.EASE_BOUNCE_OUT="bounceOut";f.tween.PennerManager.EASE_CUBIC="cubic";f.tween.PennerManager.EASE_CUBIC_IN="cubicIn";f.tween.PennerManager.EASE_CUBIC_OUT="cubicOut";f.tween.PennerManager.EASE_SPACE="space";f.tween.PennerManager.EASE_SPACE_IN="spaceIn";f.tween.PennerManager.EASE_SPACE_OUT="spaceOut";f.tween.PennerManager.EASE_BLAST="blast";f.tween.PennerManager.EASE_BLAST_IN="blastIn";f.tween.PennerManager.EASE_BLAST_OUT="blastOut";
f.tween.PennerManager.EASE_WAVE="wave";f.tween.PennerManager.EASE_WAVE_IN="waveIn";f.tween.PennerManager.EASE_WAVE_OUT="waveOut";f.tween.PennerManager.EASE_CIRCLE="circle";f.tween.PennerManager.EASE_CIRCLE_IN="circleIn";f.tween.PennerManager.EASE_CIRCLE_OUT="circleOut";t.ServiceAnalytics._offlineUserId="";t.ServiceAnalytics._offlineTrackingId="";t.ServiceAnalytics._appId="";t.ServiceAnalytics._sessionId="";t.ServiceAnalytics._flagInitted=!1;t.ServiceAnalytics._flagStarted=!1;t.ServiceAnalytics._flagLoaded=
!1;t.ServiceAnalytics._DEFAULT_SHARED_OBJECT_ID="nkcimocuresid";t.ServiceAnalytics.OPTION_ENABLE_TRACKING=!0;g.WMPointer._DELTA_ALLOWANCE=30;g.WMPointer._DELTA_TIMEOUT=0.2;g.WorkinCloud.instance=new g.WorkinCloud;h.html.HtmlPlatform.instance=new h.html.HtmlPlatform;o.SignalBase.DISPATCHING_SENTINEL=new o.SignalConnection(null,null);D.root=new O;D.uncaughtError=new o.Signal1;D.hidden=new o.Value(!1);D.hasGPU=new o.Value(!1);D._platform=h.html.HtmlPlatform.instance;D._calledInit=!1;Y.logger=new o.Logger(D._platform.createLogHandler("flambe"));
x.Manifest._buildManifest=x.Manifest.createBuildManifests();Y=x.Manifest;K=(new W("\\b(Android)\\b","")).match(B.window.navigator.userAgent)?!1:null!=(new XMLHttpRequest).withCredentials;Y._supportsCrossOrigin=K;m.Sprite._scratchPoint=new I.Point;h.BasicKeyboard._sharedEvent=new e.KeyboardEvent;h.BasicMouse._sharedEvent=new e.MouseEvent;h.BasicPointer._sharedEvent=new e.PointerEvent;h.html.CanvasRenderer.CANVAS_TEXTURES=(new W("(iPhone|iPod|iPad)","")).match(B.window.navigator.userAgent);h.html.HtmlAssetPackLoader._mediaRefCount=
0;h.html.HtmlUtil.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];h.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER=B.window.top==B.window&&(new W("Mobile(/.*)? Safari","")).match(B.window.navigator.userAgent);h.html.WebAudioSound._detectSupport=!0;S.USE_CACHE=!1;S.USE_ENUM_INDEX=!1;S.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";P.DEFAULT_RESOLVER=N;P.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";M.main()})();
